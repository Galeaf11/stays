{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;AACA;AAEO,MAAME,cAAN,CAAqB;AAG1BC,EAAAA,WAAW,CAACC,KAAD,EAAgB;AACzB,QAAI,CAACA,KAAL,EAAY;AACV,YAAM,IAAIC,KAAJ,CAAU,sDAAV,CAAN;AACD;;AAED,SAAKC,KAAL,GAAa,IAAIL,qDAAJ,CAAQ;AAAEG,MAAAA;AAAF,KAAR,CAAb;AACD;;AAEDG,EAAAA,GAAG,CAACC,IAAD,EAA8B;AAC/B,WAAO,KAAKF,KAAL,CAAWG,GAAX,CACL,CACED,IADF,CADK,EAIL;AACEE,MAAAA,iBAAiB,EAAE;AADrB,KAJK,CAAP;AAQD;;AAEQ,QAAHC,GAAG,CAACC,GAAD,EAA+B;AACtC,UAAMC,GAAG,GAAG,MAAM,KAAKP,KAAL,CAAWK,GAAX,CAAeC,GAAf,CAAlB;;AAEA,QAAI,CAACC,GAAD,IAAQ,CAACA,GAAG,CAACC,EAAjB,EAAqB;AACnB,YAAM,IAAIT,KAAJ,CAAW,iBAAgBO,GAAI,EAA/B,CAAN;AACD;;AAED,UAAMG,KAAK,GAAG,MAAMF,GAAG,CAACE,KAAJ,EAApB;AAEA,WAAOA,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,EAAP;AACD;;AAhCyB;;;;;;;;;;;;;;;;;;ACH5B;AACA;AAEO,MAAMG,QAAQ,GAAG,CAACC,GAAD,EAAeC,QAAf,KAA0C;AAChE,QAAMC,IAAI,GAAG,IAAIL,+CAAJ,CAAS,CAACM,IAAI,CAACC,SAAL,CAAeJ,GAAf,CAAD,CAAT,EAAgC;AAAEK,IAAAA,IAAI,EAAG;AAAT,GAAhC,CAAb;AACA,SAAO,IAAIP,+CAAJ,CAAS,CAACI,IAAD,CAAT,EAA6BD,QAA7B,CAAP;AACD,CAHM;;;;;;;;;;ACHP;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;ACNA;AACA;AAEA,MAAMK,KAAK,GAAG;AAAEP,EAAAA,QAAQA,8CAAAA;AAAV,CAAd","sources":["webpack://@windingtree/ipfs-apis/./src/apis/web3Storage.ts","webpack://@windingtree/ipfs-apis/./src/utils/index.ts","webpack://@windingtree/ipfs-apis/external commonjs \"@web-std/blob\"","webpack://@windingtree/ipfs-apis/external commonjs \"@web-std/file\"","webpack://@windingtree/ipfs-apis/external commonjs \"web3.storage\"","webpack://@windingtree/ipfs-apis/webpack/bootstrap","webpack://@windingtree/ipfs-apis/webpack/runtime/compat get default export","webpack://@windingtree/ipfs-apis/webpack/runtime/define property getters","webpack://@windingtree/ipfs-apis/webpack/runtime/hasOwnProperty shorthand","webpack://@windingtree/ipfs-apis/webpack/runtime/make namespace object","webpack://@windingtree/ipfs-apis/./src/index.ts"],"sourcesContent":["import type { Web3Storage } from 'web3.storage';\nimport { Web3Storage as w3s } from 'web3.storage';\n\nexport class Web3StorageApi {\n  private w3Api: Web3Storage;\n\n  constructor(token: string) {\n    if (!token) {\n      throw new Error('Web3Storage Authorization API token must be provided');\n    }\n\n    this.w3Api = new w3s({ token });\n  }\n\n  add(file: File): Promise<string> {\n    return this.w3Api.put(\n      [\n        file\n      ],\n      {\n        wrapWithDirectory: false\n      }\n    );\n  }\n\n  async get(cid: string): Promise<string> {\n    const res = await this.w3Api.get(cid);\n\n    if (!res || !res.ok) {\n      throw new Error(`Failed to get ${cid}`);\n    }\n\n    const files = await res.files();\n\n    return files[0].text();\n  }\n}\n","import { Blob } from '@web-std/blob';\nimport { File } from '@web-std/file';\n\nexport const obj2File = (obj: unknown, fileName: string): File => {\n  const blob = new Blob([JSON.stringify(obj)], { type : 'application/json' });\n  return new File([blob as BlobPart], fileName);\n}\n","module.exports = require(\"@web-std/blob\");","module.exports = require(\"@web-std/file\");","module.exports = require(\"web3.storage\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Web3StorageApi } from './apis/web3Storage';\nimport { obj2File } from './utils';\n\nconst utils = { obj2File };\n\nexport { Web3StorageApi, utils };\n"],"names":["Web3Storage","w3s","Web3StorageApi","constructor","token","Error","w3Api","add","file","put","wrapWithDirectory","get","cid","res","ok","files","text","Blob","File","obj2File","obj","fileName","blob","JSON","stringify","type","utils"],"sourceRoot":""}