{"version":3,"sources":["../../../../src/apis/web3Storage.ts","../../../../src/apis/base.ts","../../../src/voucher.ts","../../../typechain/index.ts","../../../../typechain/factories/IERC1271__factory.ts","../../../../typechain/factories/ERC721__factory.ts","../../../../typechain/factories/ERC721Enumerable__factory.ts","../../../../typechain/factories/ERC721URIStorage__factory.ts","../../../../typechain/factories/IERC721Enumerable__factory.ts","../../../../typechain/factories/IERC721Metadata__factory.ts","../../../../typechain/factories/IERC721__factory.ts","../../../../typechain/factories/IERC721Receiver__factory.ts","../../../../typechain/factories/ERC165__factory.ts","../../../../typechain/factories/IERC165__factory.ts","../../../../typechain/factories/IStayEscrow__factory.ts","../../../../typechain/factories/IStays__factory.ts","../../../../typechain/factories/StayEscrow__factory.ts","../../../../typechain/factories/Stays__factory.ts","../../../../src/api/getLodgingFacilityIds.ts","../../../../src/api/getNewAndUpdatedFacilityIds.ts","../../../../src/api/getLodgingFacilityIdsByOwner.ts","../../../../src/api/getSpaceIds.ts","../../../../src/api/getAvailability.ts","../../../../src/api/getLodgingFacility.ts","../../../../src/utils/ipfs.ts","../../../../src/utils/repeater.ts","../../../../src/api/getSpace.ts","../../../../src/api/getTokensBySpaceId.ts","../../../../src/api/registerLodgingFacility.ts","../../../../src/api/updateLodgingFacility.ts","../../../../src/api/addSpace.ts","../../../../src/api/book.ts","../../../../src/api/nft.ts","../../../../src/api/getDayZero.ts","../../../../src/api/checkIn.ts","../../../../src/api/checkOut.ts","../../../../src/api/cancel.ts","../../../src/faker.ts","reportWebVitals.ts","components/SwitchThemeMode.tsx","utils/logger.ts","store/recordsReducer.ts","store/ownFacilitiesReducer.ts","config.ts","store/localStorage.ts","store/reducer.ts","hooks/useWeb3Modal.ts","hooks/useRpcProvider.ts","hooks/useNetworkId.ts","hooks/useAccount.ts","hooks/useWeb3StorageApi.ts","hooks/useContract.ts","hooks/usePoller.ts","hooks/useSmartContractData.ts","hooks/useOwnFacilities.ts","store/index.tsx","hooks/useIpfsNode.ts","GlobalStyle.tsx","components/Protected.tsx","components/Breadcrumbs.tsx","components/MessageBox.tsx","pages/PageWrapper.tsx","components/search/SearchForm.tsx","hooks/useDayZero.ts","pages/Home.tsx","pages/Message.tsx","components/buttons/web3Modal.tsx","components/SearchResultCard.tsx","hooks/useSpaceAvailability.ts","hooks/useSpaceSearch.ts","pages/Search.tsx","components/ExternalLink.tsx","utils/strings.ts","hooks/useWindowsDimension.ts","hooks/useGoToMessage.ts","utils/roomProfile.ts","components/rooms/FacilityProfileCard.tsx","pages/FacilityProfile.tsx","components/buttons/BookWithDai.tsx","pages/Space.tsx","components/Modal.tsx","hooks/useSignVoucher.ts","components/StayVoucherQr.tsx","hooks/useMyTokens.ts","pages/MyTokens.tsx","components/QrReader.tsx","pages/CheckIn.tsx","components/checkOut/CheckOutView.tsx","components/checkOut/CheckOutCard.tsx","hooks/useCheckOut.ts","pages/Facilities.tsx","components/Routes.tsx","components/Account.tsx","components/AppHeader.tsx","hooks/usePageTitle.ts","App.tsx","index.tsx","../../../../src/utils/sendHelper.ts","../../../src/index.ts","../../../../src/utils/dataUri.ts","../../../src/enum.ts","../../index.ts","../../../src/validators.ts","../../../../src/utils/index.ts","../../../src/schemas.ts"],"names":["web3StorageApiPath","token","gateway","_super","Error","_this","authToken","ipfsGateway","__extends","Web3StorageApi","file","_b","request","arrayBuffer","_d","__assign","authHeader","name","cid","cat","Promise","resolve","org_id_utils_1","concat","undefined","_a","base_1","exports","signer","from","to","tokenId","verifyingContract","chainId","__awaiter","voucher","domain","version","signature","_signTypedData","Voucher","type","Object","enumerable","get","_abi","inputs","internalType","outputs","stateMutability","IERC1271__factory","ethers_1","Interface","address","signerOrProvider","anonymous","indexed","_bytecode","ERC721__factory","constructor","args","length","contractName","deploy","name_","symbol_","overrides","getDeployTransaction","attach","connect","ERC721Enumerable__factory","ERC721URIStorage__factory","IERC721Enumerable__factory","IERC721Metadata__factory","IERC721__factory","IERC721Receiver__factory","ERC165__factory","IERC165__factory","IStayEscrow__factory","components","IStays__factory","StayEscrow__factory","Stays__factory","contract","active","getActiveLodgingFacilityIds","getAllLodgingFacilityIds","fromBlock","facilitiesIds","Set","facilityCreatedFilter","filters","LodgingFacilityCreated","facilityUpdatedFilter","LodgingFacilityUpdated","spaceCreatedFilter","SpaceAdded","spaceUpdatedFilter","SpaceUpdated","queryFilter","forEach","event","add","facilityId","Array","owner","getLodgingFacilityIdsByOwner","lodgingFacilityId","getActiveSpaceIdsByFacilityId","getSpaceIdsByFacilityId","spaceId","startDay","numberOfDays","getAvailability","map","a","toNumber","web3Storage","exists","dataURI","getLodgingFacilityById","data","contractData","spaces","updated","luxon_1","now","toISO","rawResource","race","_","reject","setTimeout","JSON","parse","error","callback","maxTries","tries","capacity","pricePerNightWei","getSpaceById","toString","state","getTokensBySpaceId","t","profileData","fren","transactionHashCb","confirmations","profileDataFile","ipfs_apis_1","obj2File","simpleUid","events","find","e","quantity","value","mul","balance","balanceOf","tokens","i","tokenOfOwnerByIndex","push","ownerOf","tokenUri","tokenURI","attributes","trait_type","status","depositState","dayZero","checkedInTokenId","checkedOutTokenId","cancelledTokenId","array","Math","floor","random","count","fill","country","faker_1","countryCode","subdivision","datatype","number","max","locality","cityName","postalCode","zipCode","streetAddress","premise","secondaryAddress","gps","latitude","longitude","description","lorem","sentence","uri","image","city","company","companyName","lines","enum_1","tier","operator","media","logo","abstract","images","min","guestsNumber","beds","price","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ThemeMode","SwitchThemeMode","dispatch","useAppDispatch","themeMode","useAppState","switchMode","useCallback","payload","dark","light","CheckBox","toggle","checked","pad","onChange","logFunction","subject","console","log","Logger","debug","info","logger","recordsReducer","action","records","record","id","knownRecord","filter","r","restRecords","message","ownFacilitiesReducer","ownFacilities","ownFacilitiesLoading","ownFacilitiesBootstrapped","ownFacilitiesRefresh","network","blockExplorer","n","Number","process","rpc","config","mode","apiKeys","getDappMode","getNetwork","UNKNOWN_LOCAL_STORAGE_ERROR","storagePropertyName","storageConnectorConfig","properties","safeObjectStringify","obj","indent","cache","stringify","getOwnPropertyNames","reduce","v","has","storageReducer","transform","stateToStore","selectedState","storage","sessionStorage","localStorage","serializedState","setItem","setState","mainReducer","isConnecting","account","isRightNetwork","networkId","provider","injectedProvider","rpcProvider","signIn","signOut","isBootstrapLoading","searchTimestamp","searchParams","bootstrapped","isIpfsNodeConnecting","ipfsNode","startIpfsNode","stopIpfsNode","errors","initialState","lodgingFacilities","searchSpaces","useAppReducer","storedState","getItem","emptyStorage","getState","useReducer","reducers","updatedState","reducer","useWeb3StorageApi","useMemo","getApiKey","useContract","setContract","useState","loading","setLoading","setError","useEffect","Contract","loadLodgingFacilities","async","facilityIds","getNewAndUpdatedFacilityIds","getLodgingFacilityIds","all","facility","getLodgingFacility","spaceIds","getSpaceIds","space","getSpace","loadSpace","useSmartContractData","contractError","loadAndDispatchFacilities","blockNumber","getBlockNumber","catch","finally","getFacilitiesUpdates","fn","enabled","interval","pollerName","TypeError","disabled","failures","poll","usePoller","useOwnFacilities","isLoading","loadFacilities","tokenIds","getToken","loadTokens","err","refresh","StateContext","createContext","DispatchContext","ctx","useContext","web3ModalConfig","cacheProvider","providerOptions","walletconnect","package","WalletConnectProvider","options","AppStateProvider","children","rpcProviderError","providers","JsonRpcProvider","on","useRpcProvider","web3ModalError","setProvider","setInjectedProvider","setIsConnecting","web3Modal","Web3modal","clearCachedProvider","providerController","cachedProvider","updateProvider","web3ModalProvider","code","reason","ethers","Web3Provider","useWeb3Modal","isNetworkIdLoading","networkError","allowedNetwork","setNetworkId","setIsLoading","setIsRightNetwork","getNetworkId","useNetworkId","isAccountLoading","accountError","setAccount","accounts","listAccounts","getAccount","useAccount","ipfsNodeLoading","ipfsNodeError","node","setNode","start","utils","startIpfsGateway","doStop","ipfsNodePromise","stop","repoAutoMigrate","useIpfsNode","bootstrapError","ownFacilitiesError","Provider","baseTheme","deepMerge","grommet","generate","GlobalStyle","Grommet","full","style","height","theme","Protected","component","path","location","useLocation","Breadcrumbs","breadcrumbs","size","navigate","useNavigate","items","label","Anchor","onClick","icon","FormPrevious","gap","Nav","direction","align","margin","bottom","allowedMessageBoxTypes","MessageBox","show","onClose","ResponsiveContext","Box","background","StatusInfo","color","Alert","Button","primary","allowedNetworkName","PageWrapper","width","Label","styled","div","dateFormat","Intl","DateTimeFormat","month","day","today","DateTime","set","hour","tomorrow","plus","days","SearchForm","getDate","initGuestsAmount","departureDate","setDepartureDate","returnDate","setReturnDate","departureDay","returnDay","guestsAmount","setGuestsAmount","query","firstDate","secondDate","oneDay","round","diff","toMillis","parseDateToDays","fromISO","URLSearchParams","String","Grid","responsive","columns","border","justify","Text","DateInput","buttonProps","format","Date","calendarProps","alignSelf","handleDateChange","TextInput","focusIndicator","plain","placeholder","target","replace","useDayZero","isReady","setIsReady","setDayZero","getDayZero","dz","cleanZero","fromMillis","Home","isGetDateReady","Spinner","Message","messageType","setMessageType","messageText","setMessageText","messagePath","setMessagePath","messagePathLabel","setMessagePathLabel","text","pathLabel","includes","InnerSpinner","SignInButton","Login","SignOutButton","Logout","SearchResultCard","overflow","horizontal","vertical","rows","areas","end","gridArea","Image","fit","src","right","useSpaceSearch","cb","useSpaceAvailability","previousValue","currentValue","newSpaces","availability","available","getSpacesAvailability","Search","search","params","filteredSpaces","ShareIcon","Share","ExternalLink","href","rel","reverse","centerEllipsis","prefix","substring","useWindowsDimension","windowDimenion","detectHW","winWidth","window","innerWidth","winHeight","innerHeight","detectSize","addEventListener","removeEventListener","useGoToMessage","allowedLodgingFacilityTypes","allowedLodgingFacilityTiers","enumerators","ResponsiveColumn","defaultCountries","defaultFormValue","flattenObject","keys","acc","key","pre","unFlattenObject","result","split","j","isNaN","FacilityProfileCard","useParams","showMessage","loadingContract","profileValue","setProfileValue","countries","setCountries","addressOpen","setAddressOpen","operatorOpen","setOperatorOpen","showImagesLoader","setShowImagesLoader","uploadIpfsError","setUploadIpfsError","facilityError","setFacilityError","facilityLoading","setFacilityLoading","logoUploading","setLogoUploading","imagesUploading","setImagesUploading","setImages","imagesDescriptions","setImagesDescriptions","validationError","setValidationError","hash","setHash","profileCreating","setProfileCreating","selectedFacilityProfile","setSelectedFacilityProfile","f","profile","isUpdateMode","hashLink","closeImageLoader","unFlattenProfile","deployToIpfs","loadingSetter","isImage","handleSubmit","validateLodgingFacilityData","updateLodgingFacility","registerLodgingFacility","Form","validate","onReset","onSubmit","nextValue","Card","elevation","CardHeader","Heading","level","CardBody","FormField","padding","required","Select","textTransform","clear","htmlFor","TextArea","cursor","CaretDownFill","CaretRightFill","Collapsible","open","marginLeft","marginTop","onSearch","escapedText","exp","RegExp","o","test","Carousel","initialChild","index","Stack","anchor","title","Close","top","transition","FileInput","accept","maxSize","messages","browse","dropPrompt","files","remove","removeAll","maxFile","fontSize","Layer","onEsc","onClickOutside","position","fontWeight","paddingBottom","multiple","dropPromptMultiple","listStyleType","alt","URL","createObjectURL","cols","preventDefault","initialImagesCount","CardFooter","FacilityProfile","BookWithDai","Space","pathname","errorContract","setTokenId","borderColor","searchQuery","flex","left","Tag","formatUnits","getBalance","total","res","book","Modal","StayVoucherQr","onError","signCallback","isSignerReady","getSigner","getAddress","createVoucher","useSignVoucher","qrData","setQrData","handleGetQr","qrId","xml","document","getElementById","outerHTML","encodeURIComponent","downloadElem","createElement","setAttribute","click","downloadQr","TokenCard","weight","TokenView","facilityOwner","cancelLoading","setCancelLoading","cancellationTxHash","setCancellationTxHash","cancellationTxHashLink","parseTrait","trait","toISODate","cancelTx","cancel","hoverIndicator","MyTokens","setSearchParams","useSearchParams","getDateError","tokensLoading","tokensError","setTokens","tokensIds","getTokensOfOwner","tokensOfOwner","useMyTokens","tokenLoading","tokenError","setToken","setFacilityOwner","facilityIdAttribute","attribute","useGetToken","QrReader","onScan","setShow","constraints","facingMode","onResult","getText","CheckIn","handleCheckIn","parsedData","checkIn","CheckOutView","checkOut","attr","checkOutDate","CheckOutCard","FacilityList","facilities","onSelect","SpacesList","Facilities","checkOutLoading","checkOutError","toLocaleString","useCheckOut","selectedFacility","setSelectedFacility","selectedToken","setSelectedToken","pagesRoutesConfig","element","protected","AppRoutes","useRoutes","route","GlobalMenu","buildMenuConfig","Menu","AccountIcon","Blockies","AccountHash","Account","notification","setNotification","shortAccount","navigator","clipboard","isSecureContext","writeText","textArea","opacity","body","appendChild","focus","select","execCommand","copyToClipboard","seed","scale","Notification","toast","AppHeader","getPageTitle","routes","matchRoutes","usePageTitle","returnLocation","Header","App","Main","render","method","sender","JsonRpcSigner","contractWithSigner","gasAmount","estimateGas","gasPrice","isBigNumber","gt","tx","wait","web3Storage_1","getIpfsChunks","tokenUriType","ipfs","exec","uriHttp","response","dataUri","decodedData","TextDecoder","decode","base64","Stays_json_1","voucher_1","__exportStar","spaceData","validationResult","validateWithSchemaOrRef","schemas_1","lodgingFacility","fileName","blob","blob_1","file_1","asyncIterator","asyncIterator_1","chunk","curr","concatenatedData","Uint8Array","offset","data_1","_i","arr","allOf","definitions","org_json_schema_1","SpaceReference","example","enum","$ref","SpacesReference","OperatorReference","LodgingFacilityReference","what3words","contractAddress","providerOrUri","ethereumAddress","isMetaMask","send","stays_smart_contracts_1","abi","addSpace"],"mappings":"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ACA,UACA,OACA,UACA,SACA,iBACA,UACA,WACA,WACA,qBACA,UACA,QACA,cACA,oBACA,UACA,UACA,WACA,8BACA,gBACA,OACA,UACA,SACA,gBACA,mBACA,8BACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,aACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,oCACA,gCACA,WACA,YACA,UACA,UACA,QACA,YACA,4BACA,OACA,UACA,cACA,SACA,QACA,UACA,QACA,SACA,SACA,aACA,QACA,WACA,yCACA,qBACA,SACA,SACA,aACA,mCACA,SACA,UACA,UACA,UACA,yBACA,gBACA,YACA,aACA,QACA,6CACA,aACA,SACA,WACA,WACA,OACA,QACA,mBACA,aACA,aACA,YACA,UACA,SACA,kCACA,uBACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,UACA,QACA,QACA,cACA,uBACA,gBACA,cACA,YACA,QACA,UACA,OACA,iBACA,2BACA,SACA,OACA,WACA,QACA,kCACA,SACA,mBACA,WACA,OACA,cACA,WACA,SACA,WACA,cACA,QACA,UACA,UACA,qBACA,SACA,mBACA,eACA,wBACA,cACA,eACA,4BACA,mCACA,QACA,aACA,wBACA,eACA,UACA,SACA,wBACA,aACA,eACA,YACA,eACA,WACA,WACA,kBACA,UACA,eACA,+CACA,cACA,QACA,YACA,QACA,WACA,yBACA,YACA,SACA,cACA,uBACA,4BACA,aACA,+BACA,WACA,cACA,OACA,UACA,QACA,sBACA,UACA,SACA,eACA,2BACA,SACA,SACA,UACA,uBACA,iBACA,gBACA,uCACA,UACA,aACA,UACA,YACA,WACA,0BACA,uBACA,oBACA,iBACA,QACA,SACA,YAGWC,GAAuC,CAClDpmB,KAAM,GACNuL,YAAa,GACb/J,KAAM,GACNyK,KAAM,GACN7J,QAAS,CACPkI,QAAS,GACTG,YAAa,GACbI,SAAU,GACVE,WAAY,GACZE,cAAe,GACfC,QAAS,GACTE,IAAK,IAEPc,SAAU,CAC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AAmBpP,GACjB,OAAO,wBACL,KAAKxB,SACL,KAAKkC,YACLV,GAIJwP,SAASrP,GACP,OAAO,cACL,KAAK3B,SACL,KAAKkC,YACLP,GAIJosB,iBAAiBzsB,GACf,OAAO,sBAAiB,KAAKtB,SAAUsB,GAGzCiR,SAAS3V,GACP,OAAO,cAAS,KAAKoD,SAAUpD,GAGjCiH,mBAAmBlC,EAAiBiC,GAClC,OAAO,wBAAmB,KAAK5D,SAAU2B,EAASiC,GAGpDgiB,wBACE7hB,EACA9D,EACA+D,EACAjF,EACAkF,EACAC,GAEA,OAAO,6BACL,KAAKlE,SACL,KAAKkC,YACL6B,EACA9D,EACA+D,EACAjF,EACAkF,EACAC,GAIJyhB,sBACEnkB,EACAuC,EACAhF,EACAkF,EACAC,GAEA,OAAO,2BACL,KAAKlE,SACL,KAAKkC,YACLV,EACAuC,EACAhF,EACAkF,EACAC,GAIJ6yB,SACEhzB,EACAvC,EACAgC,EACAC,EACAxD,EACAlB,EACAkF,EACAC,GAEA,OAAO,cACL,KAAKlE,SACL,KAAKkC,YACL6B,EACAvC,EACAgC,EACAC,EACAxD,EACAlB,EACAkF,EACAC,GAIJ8mB,KACErpB,EACAC,EACAC,EACA6C,EACA3F,EACAkF,EACAC,GAEA,OAAO,UACL,KAAKlE,SACL2B,EACAC,EACAC,EACA6C,EACA3F,EACAkF,EACAC,GAIJirB,QACEvyB,EACAI,EACA+B,EACAkF,EACAC,GAEA,OAAO,aACL,KAAKlE,SACLpD,EACAI,EACA+B,EACAkF,EACAC,GAIJmrB,SACEzyB,EACAmC,EACAkF,EACAC,GAEA,OAAO,cACL,KAAKlE,SACLpD,EACAmC,EACAkF,EACAC,GAIJmpB,OACEzwB,EACAmC,EACAkF,EACAC,GAEA,OAAO,YACL,KAAKlE,SACLpD,EACAmC,EACAkF,EACAC,O","file":"static/js/main.c4f6c3f1.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useCallback } from 'react';\nimport { CheckBox } from 'grommet';\nimport { useAppState, useAppDispatch } from '../store';\n\nexport enum ThemeMode {\n  light = 'light',\n  dark = 'dark'\n}\n\nexport const SwitchThemeMode: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { themeMode } = useAppState();\n\n  const switchMode = useCallback(\n    () => {\n      dispatch(\n        {\n          type: 'SET_THEME_MODE',\n          payload: themeMode === ThemeMode.dark\n            ? ThemeMode.light\n            : ThemeMode.dark\n        }\n      );\n    },\n    [dispatch, themeMode]\n  );\n\n  return (\n    <CheckBox\n      toggle\n      checked={themeMode === ThemeMode.dark}\n      pad='small'\n      onChange={switchMode}\n    />\n  )\n};\n","export interface LoggerApi {\n  error: (...message: unknown[]) => void,\n  debug: (...message: unknown[]) => void,\n  info: (...message: unknown[]) => void\n};\n\n// Possible log level types\nconst logLevels: { [k: string]: number } = {\n  'none': 0,\n  'error': 1,\n  'debug': 2,\n  'info': 3\n};\n\n// Getting log level from the ENV\nconst logLevel = logLevels[process.env.REACT_APP_LOG_LEVEL || 'none'] || 0;\n\n// Default logging function\nconst logFunction = (subject: string, args: unknown[]) =>\n  console.log(...[`${subject}:`, ...args]);\n\n// Creates logger\nconst Logger = (subject: string): LoggerApi =>\n  ({\n    error: (...args) => {\n      if (logLevel >= 1) {\n        logFunction(subject, args);\n      }\n    },\n    debug: (...args) => {\n      if (logLevel >= 2) {\n        logFunction(subject, args);\n      }\n    },\n    info: (...args) => {\n      if (logLevel >= 3) {\n        logFunction(subject, args);\n      }\n    }\n  });\n\nexport default Logger;\n","import type { Action, State, GenericStateRecord } from './actions';\n\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('recordsReducer');\n\nexport const recordsReducer = (state: State, action: Action): State => {\n  let records: GenericStateRecord[];\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (typeof action.payload.record !== 'object') {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (!action.payload.record.id) {\n          throw new Error(`State record name must have Id property defined`);\n        }\n        // Add or update a record\n        records = state[action.payload.name] as GenericStateRecord[];\n        const knownRecord = records.filter(\n          (r: GenericStateRecord) => r.id === action.payload.record.id\n        )[0] || {};\n        const restRecords = records.filter(\n          (r: GenericStateRecord) => r.id !== action.payload.record.id\n        );\n        return {\n          ...state,\n          [action.payload.name]: [\n            ...restRecords,\n            ...[\n              {\n                ...knownRecord,\n                ...action.payload.record\n              }\n            ]\n          ]\n        };\n      case 'REMOVE_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (!action.payload.id) {\n          throw new Error(`State record Id must be provided with a payload`);\n        }\n        // Remove record\n        records = state[action.payload.name] as GenericStateRecord[];\n        return {\n          ...state,\n          [action.payload.name]: records.filter(\n            (r: GenericStateRecord) => r.id !== action.payload.id\n          )\n        };\n      case 'RESET_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        return {\n          ...state,\n          [action.payload.name]: []\n        };\n      default:\n        return state;\n    }\n  } catch(error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};","import type { Action, State } from './actions';\n\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('ownFacilitiesReducer');\n\nexport const ownFacilitiesReducer = (state: State, action: Action): State => {\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_OWN_FACILITIES':\n        return {\n          ...state,\n          ownFacilities: action.payload,\n          ownFacilitiesLoading: false,\n          ownFacilitiesBootstrapped: true\n        };\n      case 'SET_OWN_FACILITIES_LOADING':\n        return {\n          ...state,\n          ownFacilitiesLoading: action.payload\n        };\n      case 'SET_OWN_FACILITIES_REFRESH':\n        return {\n          ...state,\n          ownFacilitiesRefresh: action.payload\n        };\n      case 'RESET_OWN_FACILITIES':\n        return {\n          ...state,\n          ownFacilities: [],\n          ownFacilitiesLoading: false,\n          ownFacilitiesBootstrapped: false,\n          ownFacilitiesRefresh: () => {}\n        };\n      default:\n        return state;\n    }\n  } catch(error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};\n","export interface NetworkInfo {\n  name: string;\n  chainId: number;\n  address: string;\n  blockExplorer: string;\n}\n\nexport interface NetworkWithRpc extends NetworkInfo {\n  rpc: string;\n};\n\nexport interface ApiKeys {\n  [name: string]: string;\n}\n\nexport interface DappConfig {\n  mode: string;\n  network: NetworkWithRpc;\n  apiKeys: ApiKeys;\n}\n\nexport interface NetworkProviders {\n  [chainId: number]: string;\n}\n\nif (\n  !process.env.REACT_APP_NETWORK_PROVIDER ||\n  process.env.REACT_APP_NETWORK_PROVIDER === ''\n) {\n  throw new Error('REACT_APP_NETWORK_PROVIDER must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_NETWORK_ID ||\n  process.env.REACT_APP_NETWORK_ID === ''\n) {\n  throw new Error('REACT_APP_NETWORK_ID must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_CONTRACT_ADDRESS ||\n  process.env.REACT_APP_CONTRACT_ADDRESS === ''\n) {\n  throw new Error('REACT_APP_CONTRACT_ADDRESS must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_FILE_WEB3STORAGE_KEY ||\n  process.env.REACT_APP_FILE_WEB3STORAGE_KEY === ''\n) {\n  throw new Error('REACT_APP_FILE_WEB3STORAGE_KEY must be provided in the ENV');\n}\n\nconst allowedNetworks: NetworkInfo[] = [\n  {\n    name: 'Hardhat Testnet',\n    chainId: 31337,\n    address: '0x5FbDB2315678afecb367f032d93F642f64180aa3',\n    blockExplorer: \"\",\n  },\n  {\n    name: 'Ropsten Testnet',\n    chainId: 3,\n    address: '',\n    blockExplorer: 'https://ropsten.etherscan.io',\n  },\n  {\n    name: 'Rinkeby Testnet',\n    chainId: 4,\n    address: \"\",\n    blockExplorer: 'https://rinkeby.etherscan.io',\n  },\n  {\n    name: 'Arbitrum Rinkeby',\n    chainId: 421611,\n    address: '',\n    blockExplorer: 'https://rinkeby-explorer.arbitrum.io',\n  },\n  {\n    name: 'Sokol Testnet (xDAI)',\n    chainId: 77,\n    address: '',\n    blockExplorer: 'https://blockscout.com/poa/sokol',\n  },\n];\n\nconst network = allowedNetworks.find(\n  n => n.chainId === Number(process.env.REACT_APP_NETWORK_ID)\n) as NetworkWithRpc;\n\nif (network === undefined) {\n  throw new Error(\n    `Network with Id: ${process.env.REACT_APP_NETWORK_ID} is not allowed`\n  );\n}\n\nnetwork.address = process.env.REACT_APP_CONTRACT_ADDRESS;\nnetwork.rpc = process.env.REACT_APP_NETWORK_PROVIDER;\n\nconst config: DappConfig = {\n  mode: process.env.REACT_APP_MODE || 'development',\n  network,\n  apiKeys: {\n    web3Storage: process.env.REACT_APP_FILE_WEB3STORAGE_KEY\n  }\n};\n\nexport const getDappMode = (): string => config.mode;\n\nexport const getNetwork = (): NetworkWithRpc => config.network;\n\nexport const getApiKey = (name: string): string => {\n  if (!config.apiKeys[name]) {\n    throw new Error(`${name} API key not found`);\n  }\n  return config.apiKeys[name];\n};\n\nexport default config;\n","import type { Action, State } from './actions';\nimport { getDappMode } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('localStorage connector');\n\n// Constants\nexport const UNKNOWN_LOCAL_STORAGE_ERROR = 'Unknown localStorage error';\nexport const storagePropertyName = 'dappStore';\n\nexport interface LocalStorageConnectorConfig {\n  properties: string[];\n}\n\nexport const storageConnectorConfig: LocalStorageConnectorConfig = {\n  properties: [\n    'themeMode',\n    'bootstrapped',\n    'lodgingFacilities',\n    'searchSpaces',\n    'searchTimestamp',\n    'searchParams',\n  ]\n};\n\nexport type StoredStateProps = typeof storageConnectorConfig.properties[number];\n\nexport type StoredState = Pick<State, StoredStateProps>;\n\nexport type TransformCallback = <T extends unknown>(serializedState: string) => T;\n\n// Stringifies objects with circular dependencies\n// @todo Move this helper to the SDK\nexport const safeObjectStringify = (obj: {}, indent?: number): string => {\n  let cache = new Set();\n\n  return JSON.stringify(\n    obj,\n    (_, value: unknown) => {\n\n      if (value instanceof Error) {\n        return Object\n          .getOwnPropertyNames(value)\n          .reduce<Record<string, unknown>>(\n            (a, v) => ({\n              ...a,\n              [v]: (value as any)[v]\n            }),\n            {}\n          );\n      }\n\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n\n      return value;\n    },\n    indent ? indent : undefined\n  );\n};\n\n// Transformation function template\nexport const defaultTransform = (serializedState: string) => serializedState;\n\n// Extracts selected properties into a new object\nexport const selectedState = (state: State): StoredState =>\n  storageConnectorConfig\n    .properties\n    .reduce<StoredState>(\n      (a, v) => ({\n        ...a,\n        [v]: state[v]\n      }),\n      {}\n    );\n\n// Return stored sate\nexport const getState = (transform?: TransformCallback): StoredState => {\n  const storage = getDappMode() === 'development'\n    ? sessionStorage\n    : localStorage;\n  try {\n    let serializedState = storage.getItem(storagePropertyName);\n\n    if (serializedState === null) {\n      // storage not initialized yet\n      const emptyStorage = safeObjectStringify({});\n      storage.setItem(storagePropertyName, emptyStorage);\n      serializedState = emptyStorage;\n    }\n\n    serializedState = transform\n      ? transform<string>(serializedState)\n      : serializedState;\n\n    return JSON.parse(serializedState);\n  } catch (error) {\n    logger.error(error);\n    throw new Error(\n      `Unable to get stored state due to error: ${(error as Error).message || UNKNOWN_LOCAL_STORAGE_ERROR}`\n    );\n  }\n};\n\n// Saves state to localStorage\nexport const setState = (\n  state: StoredState,\n  transform?: TransformCallback\n): void => {\n  const storage = getDappMode() === 'development'\n    ? sessionStorage\n    : localStorage;\n  try {\n    const serializedState = safeObjectStringify(state);\n    storage.setItem(\n      storagePropertyName,\n      transform ? transform<string>(serializedState) : serializedState\n    );\n  } catch (error) {\n    logger.error(error);\n    throw new Error(\n      `Unable to store state due to error: ${(error as Error).message || UNKNOWN_LOCAL_STORAGE_ERROR}`\n    );\n  }\n};\n\n// Returns combined reducer\nexport const storageReducer = (transform?: TransformCallback) =>\n  (state: State, _: Action): State => {\n    const stateToStore = selectedState(state);\n    setState(stateToStore, transform);\n    return state;\n  };\n","import type { Reducer } from 'react';\nimport type { Action, State } from './actions';\nimport { useReducer } from 'react';\nimport { ThemeMode } from '../components/SwitchThemeMode';\nimport { recordsReducer } from './recordsReducer';\nimport { ownFacilitiesReducer } from './ownFacilitiesReducer';\nimport { getState, storageReducer } from './localStorage';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('Reducer');\n\nexport const mainReducer = (state: State, action: Action): State => {\n  logger.debug('Dispatch', action);\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_CONNECTING':\n        return {\n          ...state,\n          isConnecting: action.payload\n        };\n      case 'SET_ACCOUNT':\n        return {\n          ...state,\n          account: action.payload\n        };\n      case 'SET_IS_RIGHT_NETWORK':\n        return {\n          ...state,\n          isRightNetwork: action.payload\n        };\n      case 'SET_THEME_MODE':\n        return {\n          ...state,\n          themeMode: action.payload\n        };\n      case 'SET_NETWORK_ID':\n        return {\n          ...state,\n          networkId: action.payload\n        };\n      case 'SET_PROVIDER':\n        return {\n          ...state,\n          provider: action.payload\n        };\n      case 'SET_INJECTED_PROVIDER':\n        return {\n          ...state,\n          injectedProvider: action.payload\n        };\n      case 'SET_RPC_PROVIDER':\n        return {\n          ...state,\n          rpcProvider: action.payload\n        };\n      case 'SET_WEB3MODAL_FUNCTIONS':\n        return {\n          ...state,\n          signIn: action.payload.signIn,\n          signOut: action.payload.signOut\n        };\n      case 'SET_BOOTSTRAP_LOADING':\n        return {\n          ...state,\n          isBootstrapLoading: action.payload\n        };\n      case 'SET_AVAILABILITY_TIMESTAMP':\n        return {\n          ...state,\n          searchTimestamp: action.payload\n        };\n      case 'SET_SEARCH_PARAMS':\n        return {\n          ...state,\n          searchParams: action.payload\n        };\n      case 'SET_BOOTSTRAPPED':\n        return {\n          ...state,\n          bootstrapped: action.payload\n        };\n      case 'SET_IPFS_NODE_CONNECTING':\n        return {\n          ...state,\n          isIpfsNodeConnecting: action.payload\n        };\n      case 'SET_IPFS_NODE':\n        return {\n          ...state,\n          ipfsNode: action.payload.ipfsNode,\n          startIpfsNode: action.payload.startIpfsNode,\n          stopIpfsNode: action.payload.stopIpfsNode\n        };\n      case 'ERROR_ADD':\n        return {\n          ...state,\n          errors: [\n            ...state.errors,\n            action.payload\n          ]\n        };\n      case 'ERROR_REMOVE':\n        return {\n          ...state,\n          errors: state.errors.filter((e, i) => i !== action.payload)\n        };\n      case 'ERROR_REMOVE_ALL':\n        return {\n          ...state,\n          errors: []\n        };\n      default:\n        return state;\n    }\n  } catch (error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};\n\nconst initialState: State = {\n  isConnecting: false,\n  isRightNetwork: true,\n  isIpfsNodeConnecting: false,\n  signIn: () => { },\n  signOut: () => { },\n  errors: [],\n  themeMode: ThemeMode.light,\n  startIpfsNode: () => { },\n  stopIpfsNode: () => { },\n  isBootstrapLoading: false,\n  lodgingFacilities: [],\n  searchSpaces: [],\n};\n\nexport const combineReducers = (\n  reducers: Reducer<State, Action>[]\n): Reducer<State, Action> =>\n  (state: State, action: Action): State => {\n    let updatedState = state;\n\n    for (const reducer of reducers) {\n      updatedState = reducer(updatedState, action);\n    }\n\n    return updatedState;\n  };\n\nexport const useAppReducer = () => {\n  const storedState = getState(); // Restoration of the Dapp state\n\n  return useReducer(\n    combineReducers(\n      [\n        mainReducer,\n        recordsReducer,\n        ownFacilitiesReducer,\n        storageReducer() // Always must be the last\n      ]\n    ),\n    {\n      ...initialState,\n      ...storedState\n    }\n  );\n};\n","import type { IProviderInfo, IProviderControllerOptions } from 'web3modal';\nimport { useMemo, useCallback, useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport Web3modal from 'web3modal';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useWeb3Modal');\n\nexport type Web3ModalConfig = Partial<IProviderControllerOptions>;\n\nexport type Web3ModalProvider = ethers.providers.Web3Provider;\n\nexport type  Web3ModalHook = [\n  provider: Web3ModalProvider | undefined,\n  injectedProvider: IProviderInfo | undefined,\n  isConnecting: boolean,\n  signIn: Function,\n  signOut: Function,\n  error: string | null\n];\n\n// Web3Modal React Hook\nexport const useWeb3Modal = (web3ModalConfig: Web3ModalConfig): Web3ModalHook => {\n  const [provider, setProvider] = useState<Web3ModalProvider | undefined>();\n  const [injectedProvider, setInjectedProvider] = useState<IProviderInfo | undefined>();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Web3Modal initialization\n  const web3Modal = useMemo(\n    () => new Web3modal(web3ModalConfig),\n    [web3ModalConfig]\n  );\n\n  const signOut = useCallback(() => {\n    web3Modal.clearCachedProvider();\n    setProvider(undefined);\n    // SignOut issue when using walletconnect: https://github.com/Web3Modal/web3modal/issues/354\n    logger.info(`Logged Out`);\n    // window.location.reload();\n  }, [web3Modal]);\n\n  const signIn = useCallback(async () => {\n    try {\n      setError(null);\n      setIsConnecting(true);\n\n      setInjectedProvider(\n        (web3Modal as any).providerController.cachedProvider === 'injected'\n          ? (web3Modal as any).providerController.injectedProvider\n          : undefined\n      );\n\n      const updateProvider = async () => {\n        const web3ModalProvider = await web3Modal.connect();\n\n        // Subscribe to provider events compatible with EIP-1193 standard\n        // Subscribe to accounts change\n        web3ModalProvider.on('chainChanged', (chainId: number) => {\n          logger.info(`Chain changed: ${chainId}`);\n          updateProvider();\n        });\n\n        // Subscribe to chainId change\n        web3ModalProvider.on('accountsChanged', () => {\n          logger.info(`Accounts changed`);\n          updateProvider();\n        });\n\n        // Subscribe to provider disconnection\n        web3ModalProvider.on('disconnect', (code: number, reason: string) => {\n          logger.info(`Disconnected with code: ${code} and reason: ${reason}`);\n          signOut();\n        });\n\n        setProvider(\n          new ethers.providers.Web3Provider(web3ModalProvider)\n        );\n      };\n\n      updateProvider();\n\n      logger.info(`Logged In`);\n    } catch (error) {\n      setIsConnecting(false);\n\n      if (error) {\n        logger.error(error);\n        setError((error as Error).message);\n      } else {\n        logger.error('Unknown error');\n      }\n    }\n  }, [web3Modal, signOut]);\n\n  useEffect(() => {\n    if (!provider && web3Modal.cachedProvider) {\n      signIn();\n    } else if (provider) {\n      setTimeout(() => setIsConnecting(false), 250);\n    }\n  }, [provider, web3Modal.cachedProvider, signIn]);\n\n  return [\n    provider,\n    injectedProvider,\n    isConnecting,\n    signIn,\n    signOut,\n    error\n  ];\n};\n","import { useState, useMemo } from 'react';\nimport { providers } from 'ethers';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useRpcProvider');\n\nconst { rpc } = getNetwork();\n\nexport type UseRpcProviderHook = [\n  rpcProvider: providers.JsonRpcProvider,\n  error: string | undefined\n];\n\nexport const useRpcProvider = (): UseRpcProviderHook => {\n  const [error, setError] = useState<string | undefined>();\n\n  const rpcProvider = useMemo(() => new providers.JsonRpcProvider(rpc), []);\n  rpcProvider.on('error', error => {\n    logger.error(error);\n    const message = (error as Error).message || 'Unknown JsonRpcProvider error';\n    setError(message);\n  })\n\n  return [rpcProvider, error];\n};","import type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useNetworkId');\n\nexport type NetworkIdHook = [\n  networkId: number | undefined,\n  isNetworkIdLoading: boolean,\n  isRightNetwork: boolean,\n  error: string | undefined\n];\n\n// useNetworkId react hook\nexport const useNetworkId = (\n  provider: Web3ModalProvider | undefined,\n  allowedNetwork: number\n): NetworkIdHook => {\n  const [networkId, setNetworkId] = useState<number | undefined>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRightNetwork, setIsRightNetwork] = useState(true);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    setError(undefined);\n\n    if (!provider) {\n      return setNetworkId(undefined);\n    }\n\n    const getNetworkId = async () => {\n      try {\n        setIsLoading(true);\n        const network = await provider.getNetwork();\n        setIsLoading(false);\n        logger.debug('getNetwork:', network);\n\n        if (network) {\n\n          if (allowedNetwork === network.chainId) {\n            setNetworkId(network.chainId);\n            setIsRightNetwork(true);\n          } else {\n            throw new Error(\n              `Invalid network ${network.chainId} though expected ${allowedNetwork}`\n            );\n          }\n        } else {\n          setNetworkId(undefined);\n          setIsRightNetwork(false);\n        }\n      } catch (error) {\n        setIsLoading(false);\n        setNetworkId(undefined);\n        setIsRightNetwork(false);\n\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getNetworkId();\n  }, [provider, allowedNetwork]);\n\n  return [\n    networkId,\n    isLoading,\n    isRightNetwork,\n    error\n  ];\n};\n","import type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useAccount');\n\nexport type UseAccountHook = [\n  account: string | undefined,\n  isLoading: boolean,\n  error: string | undefined\n];\n\n// useAccount react hook\nexport const useAccount = (\n  provider: Web3ModalProvider | undefined\n): UseAccountHook => {\n  const [account, setAccount] = useState<string | undefined>();\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    if (!provider) {\n      return setAccount(undefined);\n    }\n\n    const getAccount = async () => {\n      try {\n        setLoading(true);\n        setError(undefined);\n        const accounts = await provider.listAccounts();\n        logger.info(`listAccounts:`, accounts);\n        setAccount(accounts[0]);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getAccount();\n  }, [provider]);\n\n  return [account, isLoading, error];\n};\n","import type { IPFS } from '@windingtree/ipfs-apis';\nimport { useMemo } from 'react';\nimport { Web3StorageApi } from '@windingtree/ipfs-apis';\nimport { getApiKey } from '../config';\n\nexport const useWeb3StorageApi = (\n  ipfsNode: IPFS | undefined\n): Web3StorageApi | undefined => useMemo(\n  () => !!ipfsNode\n    ? new Web3StorageApi(getApiKey('web3Storage'), ipfsNode)\n    : undefined,\n  [ipfsNode]\n);\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport { KnownProvider } from 'stays-core';\nimport { Contract } from 'stays-core';\nimport { getNetwork } from '../config';\nimport { useWeb3StorageApi } from './useWeb3StorageApi';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useContract');\n\nexport type UseContractHook = [\n  contract: Contract | undefined,\n  loading: boolean,\n  error: string | undefined\n];\n\nconst { address } = getNetwork();\n\nexport const useContract = (\n  provider: providers.JsonRpcProvider | Web3ModalProvider | undefined,\n  ipfsNode: IPFS | undefined,\n): UseContractHook => {\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [contract, setContract] = useState<Contract | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    setLoading(true);\n    if (!provider || !web3Storage) {\n      return;\n    }\n\n    try {\n      setContract(\n        new Contract(\n          address,\n          provider as KnownProvider,\n          web3Storage\n        )\n      );\n      setLoading(false);\n    } catch (error) {\n      logger.error(error);\n      const message = (error as Error).message || 'Unknown contract library error';\n      setError(message);\n      setLoading(false);\n    }\n  }, [provider, web3Storage]);\n\n  return [contract, loading, error];\n};\n","import { useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('usePoller');\n\nexport type PollerContextFunction = () => void | Promise<void>;\n\n// usePoller react hook\nexport const usePoller = (\n  fn: PollerContextFunction,\n  enabled = true,\n  interval = 5000,\n  pollerName?: string\n) => {\n  if (typeof fn !== 'function') {\n    throw new TypeError('Can\\'t poll without a callback function');\n  }\n\n  return useEffect(\n    () => {\n      let disabled = false;\n      let failures = 0;\n\n      const poll = async () => {\n        if (disabled) {\n          return;\n        }\n\n        try {\n          await fn();\n        } catch (error) {\n          failures++;\n          logger.error(error);\n        }\n\n        if (failures < 100) {\n          setTimeout(poll, interval);\n        } else {\n          logger.debug(`Too much errors in poller ${pollerName}. Disabled`);\n        }\n      }\n\n      poll();\n      logger.debug(`Poller ${pollerName} started`);\n\n      return () => {\n        disabled = true;\n        failures = 0;\n        logger.debug(`Poller ${pollerName} stopped`);\n      };\n    },\n    [fn, enabled, interval, pollerName]\n  );\n};\n","import type { providers } from 'ethers';\nimport type { LodgingFacility, Space } from 'stays-data-models';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Contract } from 'stays-core';\nimport { useState, useEffect, useCallback } from 'react';\nimport { Dispatch } from '../store';\nimport { useContract } from './useContract';\nimport { usePoller } from './usePoller';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSmartContractData');\n\nexport type UseSmartContractDataHook = [\n  error: string | undefined\n];\n\nconst loadSpace = async (contract: Contract, spaceId: string): Promise<Space> => {\n  const space = await contract.getSpace(spaceId);\n  logger.debug('Loaded space:', spaceId, space);\n  if (space === null) {\n    throw new Error(`Space with Id: ${spaceId} not found`);\n  }\n  return space;\n}\n\nconst loadLodgingFacilities = async (\n  contract: Contract,\n  fromBlock?: number\n): Promise<LodgingFacility[]> => {\n  const facilityIds = !!fromBlock\n    ? await contract.getNewAndUpdatedFacilityIds(fromBlock)\n    : await contract.getLodgingFacilityIds(true);\n  logger.debug('Facilities Ids:', facilityIds);\n\n  return Promise.all(\n    facilityIds.map(\n      async facilityId => {\n        const facility = await contract.getLodgingFacility(facilityId);\n        logger.debug('Loaded facility:', facilityId, facility);\n        if (facility === null) {\n          throw new Error(`Lodging facility with Id: ${facilityId} not found`);\n        }\n\n        const spaceIds = await contract.getSpaceIds(facilityId, true);\n        logger.debug('Spaces Ids:', facilityId, spaceIds);\n        const spaces = await Promise.all(\n          spaceIds.map(\n            spaceId => loadSpace(contract, spaceId)\n          )\n        );\n\n        return {\n          ...facility,\n          spaces\n        };\n      }\n    )\n  );\n};\n\n// useSmartContractData react hook\nexport const useSmartContractData = (\n  dispatch: Dispatch,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  bootstrapped: number | undefined\n): UseSmartContractDataHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (contractError) {\n      setError(contractError);\n    }\n  }, [contractError]);\n\n  const loadAndDispatchFacilities = useCallback(\n    async (contract: Contract, fromBlock?: number) => {\n      const lodgingFacilities = await loadLodgingFacilities(contract, fromBlock);\n      logger.debug(`Facilities from block ${fromBlock ? fromBlock : 0}`, lodgingFacilities);\n\n      if (fromBlock !== undefined && lodgingFacilities.length === 0) {\n        return;\n      }\n\n      const blockNumber = await contract.provider.getBlockNumber();\n\n      // Add all obtained records to state\n      for (const record of lodgingFacilities) {\n        dispatch({\n          type: 'SET_RECORD',\n          payload: {\n            name: 'lodgingFacilities',\n            record: {\n              ...record,\n              id: record.contractData.lodgingFacilityId\n            }\n          }\n        });\n      }\n\n      // Set bootstrap procedure succeeded\n      dispatch({\n        type: 'SET_BOOTSTRAPPED',\n        payload: blockNumber\n      });\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (!!bootstrapped || !contract) {\n      return;\n    }\n\n    setError(undefined);\n\n    // Remove all lodgingFacilities\n    dispatch({\n      type: 'RESET_RECORD',\n      payload: {\n        name: 'lodgingFacilities'\n      }\n    });\n\n    dispatch({\n      type: 'SET_BOOTSTRAP_LOADING',\n      payload: true\n    });\n\n    loadAndDispatchFacilities(contract)\n      .catch(error => {\n        logger.error(error);\n        const message = (error as Error).message ||\n          'Unknown lodging facility loader error'\n        setError(message);\n\n        // Set bootstrap procedure failed\n        dispatch({\n          type: 'SET_BOOTSTRAPPED',\n          payload: 0\n        });\n      })\n      .finally(() => {\n        dispatch({\n          type: 'SET_BOOTSTRAP_LOADING',\n          payload: false\n        });\n      });\n  }, [dispatch, loadAndDispatchFacilities, bootstrapped, contract]);\n\n  const getFacilitiesUpdates = useCallback(\n    async () => {\n      if (!bootstrapped || !contract) {\n        return;\n      }\n\n      setError(undefined);\n\n      try {\n        await loadAndDispatchFacilities(contract, bootstrapped);\n      } catch(error) {\n        logger.error(error);\n        const message = (error as Error).message ||\n          'Unknown lodging facility updates loader error'\n        setError(message);\n      }\n    },\n    [loadAndDispatchFacilities, bootstrapped, contract]\n  );\n\n  // Check every <interval_time> for facilities and spaces updates\n  usePoller(\n    getFacilitiesUpdates,\n    !!contract,\n    300000, // 5min @todo Move interval configuration to the Dapp config\n    'getFacilitiesUpdates'\n  );\n\n  return [error];\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Contract, StayTokenState } from 'stays-core';\nimport type { OwnerSpace } from '../store/actions';\nimport type { Dispatch } from '../store';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useOwnFacilities');\n\nexport type UseOwnFacilitiesHook = [\n  error: string | undefined,\n  refresh: () => Promise<void>\n];\n\n// Helper for tokens data loading\nconst loadTokens = async (\n  contract: Contract,\n  spaceId: string,\n  state: StayTokenState\n): Promise<OwnerSpace> => {\n  const tokenIds = await contract.getTokensBySpaceId(spaceId, state);\n  const space = await contract.getSpace(spaceId);\n  const tokens = await Promise.all(\n    tokenIds.map((t) => contract.getToken(t))\n  )\n\n  logger.debug('Loaded space:', spaceId, tokenIds);\n  if (space === null) {\n    throw new Error(`Space with Id: ${spaceId} not found`);\n  }\n\n  return {\n    ...space,\n    tokens\n  };\n}\n\nexport const useOwnFacilities = (\n  dispatch: Dispatch,\n  account: string | undefined,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  ownFacilitiesBootstrapped: boolean | undefined\n): UseOwnFacilitiesHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  // Loading state helper\n  const setLoading = useCallback(\n    (isLoading: boolean) => {\n      dispatch({\n        type: 'SET_OWN_FACILITIES_LOADING',\n        payload: isLoading\n      });\n    },\n    [dispatch]\n  );\n\n  // Load facilities with spaces and tokens\n  const loadFacilities = useCallback(\n    async (account: string | undefined) => {\n      if (!contract || !account) {\n        return;\n      }\n\n      try {\n        setLoading(true);\n        const facilityIds = await contract.getLodgingFacilityIdsByOwner(account);\n        logger.debug('Facilities Ids:', facilityIds);\n\n        const ownFacilities = await Promise.all(\n          facilityIds.map(\n            async facilityId => {\n              const facility = await contract.getLodgingFacility(facilityId);\n              logger.debug('Loaded facility:', facilityId, facility);\n\n              if (facility === null) {\n                throw new Error(\n                  `Lodging facility with Id: ${facilityId} not found`\n                );\n              }\n\n              const spaceIds = await contract.getSpaceIds(facilityId, true);\n              logger.debug('Spaces Ids:', facilityId, spaceIds);\n\n              const spaces = await Promise.all(\n                spaceIds.map(\n                  spaceId => loadTokens(contract, spaceId, 1)\n                )\n              );\n\n              return {\n                ...facility,\n                spaces\n              };\n            }\n          )\n        );\n\n        // Set own facilities state\n        dispatch({\n          type: 'SET_OWN_FACILITIES',\n          payload: ownFacilities\n        });\n        setLoading(false);\n      } catch (err) {\n        logger.debug('loadFacilities', err);\n        setError(\n          (err as Error).message || 'Unknown own facilities loader error'\n        );\n        setLoading(false);\n      }\n    },\n    [dispatch, setLoading, contract]\n  );\n\n  const refresh = useCallback(\n    () => loadFacilities(account),\n    [loadFacilities, account]\n  );\n\n  useEffect(\n    () => {\n      if (contractError !== undefined) {\n        logger.debug('contractError', contractError);\n        dispatch({\n          type: 'ERROR_ADD',\n          payload: contractError\n        });\n      }\n    },\n    [dispatch, contractError]\n  );\n\n  useEffect(\n    () => {\n      if (!account) {\n        // reset own facilities state\n        dispatch({\n          type: 'RESET_OWN_FACILITIES'\n        });\n        return;\n      }\n\n      if (ownFacilitiesBootstrapped) {\n        // Already bootstrapped, just ignore the action\n        return;\n      }\n\n      // Fetching of own facilities\n      loadFacilities(account);\n    },\n    [dispatch, loadFacilities, account, ownFacilitiesBootstrapped]\n  );\n\n  return [error, refresh];\n};\n","import type { ReactNode } from 'react';\nimport type { Web3ModalConfig } from '../hooks/useWeb3Modal';\nimport { createContext, useContext, useEffect } from 'react';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\n// import Logger from '../utils/logger';\nimport { useAppReducer } from './reducer';\n\n// Custom hooks\nimport { useWeb3Modal } from '../hooks/useWeb3Modal';\nimport { useRpcProvider } from '../hooks/useRpcProvider';\nimport { useNetworkId } from '../hooks/useNetworkId';\nimport { useAccount } from '../hooks/useAccount';\nimport { useIpfsNode } from '../hooks/useIpfsNode';\nimport { useSmartContractData } from '../hooks/useSmartContractData';\nimport { useOwnFacilities } from '../hooks/useOwnFacilities';\n\n// Config\nimport { getNetwork } from '../config';\n\n// Initialize logger\n// const logger = Logger('Store');\n\nexport type AppReducerType = ReturnType<typeof useAppReducer>;\nexport type State = AppReducerType[0];\nexport type Dispatch = AppReducerType[1];\n\nexport const StateContext = createContext<State | null>(null);\nexport const DispatchContext = createContext<Dispatch | null>(null);\n\nexport interface PropsType {\n  children: ReactNode;\n}\n\nexport const useAppState = () => {\n  const ctx = useContext(StateContext);\n\n  if (!ctx) {\n    throw new Error('Missing state context');\n  }\n\n  return ctx;\n};\n\nexport const useAppDispatch = () => {\n  const ctx = useContext(DispatchContext);\n\n  if (!ctx) {\n    throw new Error('Missing dispatch context');\n  }\n\n  return ctx;\n}\n\nconst { chainId, rpc } = getNetwork();\n\n// Web3Modal initialization\nconst web3ModalConfig: Web3ModalConfig = {\n  cacheProvider: true,\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        [chainId]: rpc\n      }\n    }\n  }\n};\n\nexport const AppStateProvider = ({ children }: PropsType) => {\n  const [state, dispatch] = useAppReducer();\n  const [rpcProvider, rpcProviderError] = useRpcProvider();\n  const [\n    provider,\n    injectedProvider,\n    isConnecting,\n    signIn,\n    signOut,\n    web3ModalError\n  ] = useWeb3Modal(web3ModalConfig);\n  const [\n    networkId,\n    isNetworkIdLoading,\n    isRightNetwork,\n    networkError\n  ] = useNetworkId(provider, chainId);\n  const [account, isAccountLoading, accountError] = useAccount(provider);\n  const [ipfsNode, startIpfsNode, stopIpfsNode, ipfsNodeLoading, ipfsNodeError] = useIpfsNode();\n  const { bootstrapped, ownFacilitiesBootstrapped } = state;\n\n  // Global data bootstrap\n  const [bootstrapError] = useSmartContractData(\n    dispatch,\n    rpcProvider,\n    ipfsNode,\n    bootstrapped\n  );\n\n  // Own facilities bootstrap\n  const [ownFacilitiesError, ownFacilitiesRefresh] = useOwnFacilities(\n    dispatch,\n    account,\n    provider,\n    ipfsNode,\n    ownFacilitiesBootstrapped\n  );\n\n  useEffect(\n    () => {\n      dispatch({\n        type: 'SET_OWN_FACILITIES_REFRESH',\n        payload: ownFacilitiesRefresh\n      });\n    },\n    [dispatch, ownFacilitiesRefresh]\n  );\n\n  useEffect(() => {\n    if (web3ModalError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: web3ModalError\n      })\n    }\n    if (networkError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: networkError\n      })\n    }\n    if (accountError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: accountError\n      })\n    }\n    if (ipfsNodeError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: ipfsNodeError\n      })\n    }\n    if (bootstrapError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: bootstrapError\n      })\n    }\n    if (rpcProviderError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: rpcProviderError\n      })\n    }\n    if (ownFacilitiesError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: ownFacilitiesError\n      })\n    }\n  }, [\n    dispatch, web3ModalError, networkError,\n    accountError, ipfsNodeError, bootstrapError,\n    rpcProviderError, ownFacilitiesError\n  ]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_CONNECTING',\n      payload: isConnecting || isNetworkIdLoading || isAccountLoading\n    })\n  }, [dispatch, isConnecting, isNetworkIdLoading, isAccountLoading]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IPFS_NODE_CONNECTING',\n      payload: ipfsNodeLoading\n    })\n  }, [dispatch, ipfsNodeLoading]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_ACCOUNT',\n      payload: account\n    })\n  }, [dispatch, account]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IS_RIGHT_NETWORK',\n      payload: isRightNetwork\n    })\n  }, [dispatch, isRightNetwork]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_NETWORK_ID',\n      payload: networkId\n    })\n  }, [dispatch, networkId]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_PROVIDER',\n      payload: provider\n    })\n  }, [dispatch, provider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_INJECTED_PROVIDER',\n      payload: injectedProvider\n    })\n  }, [dispatch, injectedProvider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_RPC_PROVIDER',\n      payload: rpcProvider\n    })\n  }, [dispatch, rpcProvider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_WEB3MODAL_FUNCTIONS',\n      payload: {\n        signIn,\n        signOut\n      }\n    })\n  }, [dispatch, signIn, signOut]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IPFS_NODE',\n      payload: {\n        ipfsNode,\n        startIpfsNode,\n        stopIpfsNode\n      }\n    })\n  }, [dispatch, ipfsNode, startIpfsNode, stopIpfsNode]);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n","import type { IPFS, Options as IpfsOptions } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { utils } from '@windingtree/ipfs-apis';\n\nexport type UseIpfsNode = [\n  node: IPFS | undefined,\n  start: Function,\n  stop: Function,\n  loading: boolean,\n  error: string | undefined,\n];\n\n// useIpfsNode react hook\nexport const useIpfsNode = (): UseIpfsNode => {\n  const [node, setNode] = useState<IPFS | undefined>(undefined);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  const start = useCallback(async (options?: IpfsOptions): Promise<IPFS | undefined> => {\n    try {\n      setLoading(true);\n      const ipfsNode = await utils.startIpfsGateway(options);\n      setNode(ipfsNode);\n      setLoading(false);\n      return ipfsNode;\n    } catch (e) {\n      setError((e as Error).message || 'Unknown useIpfsNode error');\n      setLoading(false);\n    }\n  }, []);\n\n  const doStop = async (ipfsNodePromise: Promise<IPFS | undefined>): Promise<void> => {\n    const ipfsNode = await (ipfsNodePromise || Promise.resolve());\n\n    if (ipfsNode !== undefined) {\n      await ipfsNode.stop();\n    }\n  };\n\n  const stop = useCallback(async (): Promise<void> => {\n    if (node !== undefined) {\n      try {\n        setLoading(true);\n        await doStop(Promise.resolve(node));\n        setNode(undefined);\n        setLoading(false);\n      } catch (e) {\n        setError((e as Error).message || 'Unknown useIpfsNode error');\n        setLoading(false);\n      }\n    }\n  }, [node]);\n\n  useEffect(() => {\n    const ipfsNodePromise = start({\n      repoAutoMigrate: true\n    });\n    return () => {\n      doStop(ipfsNodePromise);\n    };\n  }, [start]);\n\n  return [node, start, stop, loading, error];\n};\n","import { Grommet } from 'grommet';\nimport { grommet } from 'grommet/themes';\nimport { generate } from 'grommet/themes/base';\nimport { deepMerge } from 'grommet/utils';\nimport { useAppState } from './store';\n\nconst baseTheme = deepMerge(grommet, generate(16));\n\nexport const GlobalStyle:React.FC = ({children}) => {\n  const { themeMode } = useAppState();\n\n  return (\n    <Grommet\n      full\n      style={{ height: 'auto' }}\n      theme={baseTheme}\n      themeMode={themeMode}\n    >\n      {children}\n    </Grommet>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAppState } from '../store';\n\nexport interface ProtectedProps {\n  component: ReactNode;\n  path?: string;\n}\n\nexport const Protected = ({\n    component,\n    path = '/'\n  }: ProtectedProps) => {\n  const location = useLocation();\n  const { account } = useAppState();\n\n  return (\n    <>\n      {\n        account !== undefined\n          ? component\n          : <Navigate to={path} state={{ location }} />\n      }\n    </>\n  );\n}\n","import type { TextProps } from 'grommet';\nimport { Nav, Anchor } from 'grommet';\nimport { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FormPrevious } from 'grommet-icons';\n\nexport interface Breadcrumb {\n  path?: string;\n  label: string;\n}\n\nexport interface BreadcrumbsProps {\n  breadcrumbs?: Breadcrumb[];\n  size?: TextProps['size'];\n}\n\nexport const Breadcrumbs = ({ breadcrumbs, size }: BreadcrumbsProps) => {\n  const navigate = useNavigate();\n\n  const items = useMemo(\n    () => (breadcrumbs || []).map(\n      ({ path, label }, i) => (\n        <Anchor\n          key={i}\n          label={label}\n          onClick={() => path === undefined ? navigate(-1) : navigate(path)}\n          icon={<FormPrevious />}\n          gap='xsmall'\n        />\n      )\n    ),\n    [navigate, breadcrumbs]\n  );\n\n  if (breadcrumbs === undefined || breadcrumbs.length === 0) {\n    return null;\n  }\n\n  return (\n    <Nav\n      direction='row'\n      align='center'\n      margin={{\n        bottom: size\n      }}\n    >\n      {items}\n    </Nav>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { useContext } from 'react';\nimport { Box, Button, ResponsiveContext } from 'grommet';\nimport { StatusInfo, Alert } from 'grommet-icons';\n\nexport const allowedMessageBoxTypes = [\n  'info',\n  'warn',\n  'error'\n];\n\nexport type MessageBoxTypes = typeof allowedMessageBoxTypes[number];\n\nexport interface MessageBoxProps {\n  type: MessageBoxTypes;\n  show: boolean;\n  children?: ReactNode;\n  onClose?: () => void\n}\n\nexport const MessageBox = ({\n  type = 'info',\n  show = false,\n  children,\n  onClose\n}: MessageBoxProps) => {\n  const size = useContext(ResponsiveContext);\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Box\n      direction='row'\n      background='light-2'\n      align='center'\n      gap={size}\n      pad={size}\n      margin={{ bottom: 'small' }}\n    >\n      <Box>\n        {type === 'info' &&\n          <StatusInfo color='status-ok' size={size} />\n        }\n        {type === 'warn' &&\n          <Alert color='status-warning' size={size} />\n        }\n        {type === 'error' &&\n          <Alert color='status-error' size={size} />\n        }\n      </Box>\n      <Box direction='column' gap={size}>\n        <Box>\n          {children}\n        </Box>\n        {typeof onClose === 'function' &&\n          <Box>\n            <Button primary onClick={onClose} label='close' />\n          </Box>\n        }\n      </Box>\n    </Box>\n  );\n};\n","import type { ReactNode } from 'react';\nimport type { Breadcrumb } from '../components/Breadcrumbs';\nimport { useContext } from 'react';\nimport { Box, ResponsiveContext } from 'grommet';\nimport { useAppState } from '../store';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport { MessageBox } from '../components/MessageBox';\nimport { getNetwork } from '../config';\n\nconst { name: allowedNetworkName } = getNetwork();\n\nexport interface PageWrapperProps {\n  children: ReactNode;\n  breadcrumbs?: Breadcrumb[];\n}\n\nexport const PageWrapper = ({ children, breadcrumbs }: PageWrapperProps) => {\n  const size = useContext(ResponsiveContext);\n  const { isRightNetwork } = useAppState();\n\n  return (\n    <Box fill pad={size}>\n      <Breadcrumbs\n        breadcrumbs={breadcrumbs}\n        size={size}\n      />\n      <Box align='center'>\n        <Box width='xxlarge'>\n          <MessageBox type='warn' show={!isRightNetwork}>\n            You are connected to a wrong network. Please switch to: {allowedNetworkName}\n          </MessageBox>\n          {children}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n","import { DateTime } from 'luxon';\nimport { Grid, Box, TextInput, Button, Text, DateInput } from 'grommet';\nimport { useNavigate } from 'react-router-dom';\nimport { useState, useMemo, useEffect } from 'react'\nimport { useAppState } from '../../store';\nimport { ThemeMode } from '../SwitchThemeMode';\nimport styled from 'styled-components';\n\nexport const Label = styled.div`\n\t@include g-font($g-fontsize-xs,$glider-color-text-labels,$g-fontweight-normal);\n\tmargin-left: 4px;\n`;\n\nexport const parseDateToDays = (dayZero: DateTime, firstDate: DateTime, secondDate: DateTime) => {\n  const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n  const startDay = Math.round(firstDate.diff(dayZero).toMillis() / oneDay)\n  const numberOfDays = Math.round(secondDate.diff(firstDate).toMillis() / oneDay)\n  return {\n    startDay,\n    numberOfDays\n  }\n};\n\nconst dateFormat = new Intl.DateTimeFormat(undefined, {\n  month: 'short',\n  day: 'numeric',\n});\n\nconst today = DateTime.now().set({ hour: 12 });\nconst tomorrow = today.plus({ days: 1 });\n\n\nexport const SearchForm: React.FC<{\n  getDate: (days: number) => DateTime,\n  startDay?: number | undefined,\n  numberOfDays?: number | undefined,\n  initGuestsAmount?: number | undefined,\n}> = ({ getDate, startDay, numberOfDays, initGuestsAmount }) => {\n  const { themeMode } = useAppState();\n\n  const [departureDate, setDepartureDate] = useState<string>(today.toISO());\n  const [returnDate, setReturnDate] = useState<string>(tomorrow.toISO());\n\n  useEffect(() => {\n    if (!!startDay && !!numberOfDays) {\n      const departureDay = getDate(startDay)\n      const returnDay = getDate(startDay + numberOfDays)\n\n      setDepartureDate(departureDay.toISO())\n      setReturnDate(returnDay.toISO())\n    }\n\n  }, [getDate, startDay, numberOfDays])\n\n  const [guestsAmount, setGuestsAmount] = useState(initGuestsAmount ?? 1);\n\n  const query = useMemo(() => {\n    const { startDay, numberOfDays } = parseDateToDays(getDate(0), DateTime.fromISO(departureDate), DateTime.fromISO(returnDate))\n    return new URLSearchParams([\n      ['startDay', String(startDay)],\n      ['numberOfDays', String(numberOfDays)],\n      ['guestsAmount', String(guestsAmount)],\n    ])\n  }, [departureDate, returnDate, guestsAmount, getDate])\n\n  const navigate = useNavigate()\n\n\n  const handleDateChange = ({ value }: { value: string[] }) => {\n    const now = DateTime.now().set({ hour: 12 })\n    const tomorrow = now.plus({ days: 1 })\n\n    if (now.toMillis() > DateTime.fromISO(value[0]).toMillis()) {\n      setDepartureDate(now.toISO())\n    } else {\n      setDepartureDate(value[0])\n    }\n\n    if (tomorrow.toMillis() > DateTime.fromISO(value[1]).toMillis()) {\n      setReturnDate(tomorrow.toISO())\n    } else {\n      setReturnDate(value[1])\n    }\n  }\n\n  useEffect(() => {\n\n    console.log('kkk', departureDate, returnDate)\n  }, [departureDate, returnDate])\n\n  return (\n    <Box pad={{ bottom: 'medium' }}>\n      <Grid\n        fill='horizontal'\n        responsive\n        columns={['flex', '1/2', 'flex']}\n        align='center'\n      >\n        <Box\n          pad='small'\n          height='100%'\n          direction='column'\n        >\n          <Label>Destination</Label>\n          <Box\n            border={{ color: themeMode === ThemeMode.light ? 'brand' : 'accent-1', size: 'small' }}\n            round='small'\n            pad='small'\n            justify='center'\n            height='100%'\n          >\n            <Text size='xlarge'>\n              Rio de Janeiro\n            </Text>\n          </Box>\n        </Box>\n        <Box pad='small'\n          height='100%'\n          direction='column'\n        >\n          <Label>When</Label>\n          <DateInput\n            buttonProps={{\n              label: `${dateFormat.format(new Date(departureDate))} - ${dateFormat.format(new Date(returnDate))}`,\n              size: 'large',\n            }}\n            calendarProps={{\n              fill: false,\n              alignSelf: 'center',\n              margin: 'small',\n              size: 'medium'\n            }}\n            value={[departureDate, returnDate]}\n            onChange={({ value }) => handleDateChange({ value } as { value: string[] })}\n          />\n        </Box>\n        <Box\n          pad='small'\n          height='100%'\n          direction='column'\n        >\n          <Label>Guests</Label>\n          <Box\n            border={{ color: themeMode === ThemeMode.light ? 'brand' : 'accent-1', size: 'small' }}\n            round='small'\n            justify='center'\n            height='100%'\n          >\n            <TextInput\n              size='xlarge'\n              focusIndicator={false}\n              plain\n              placeholder='Guests'\n              value={guestsAmount}\n              type='number'\n              onChange={(event) => {\n                const value = Number(event.target.value)\n                setGuestsAmount(value !== 0 ? value : 1)\n              }}\n            />\n          </Box>\n        </Box>\n      </Grid>\n      <Box pad='small'>\n        <Button onClick={() => navigate(`/search?${query}`, { replace: true })}>\n          {() => (\n            <Box direction='row' justify='center' align='center' pad='small'>\n              <Text>\n                Search\n              </Text>\n            </Box>\n          )}\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { DateTime } from 'luxon';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useDayZero');\n\nexport type UseDayZeroHook = [\n  getDate: (days: number) => DateTime,\n  isReady: boolean,\n  error: string | undefined\n];\n\nexport const useDayZero = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined\n): UseDayZeroHook => {\n  const [contract, ,] = useContract(provider, ipfsNode);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [dayZero, setDayZero] = useState<number | undefined>();\n  const [error, setError] = useState<string | undefined>();\n\n  const getDayZero = useCallback(\n    async () => {\n      if (!contract) {\n        setIsReady(false);\n        return;\n      }\n      try {\n        setError(undefined);\n        setIsReady(false);\n        logger.debug('getDayZero start');\n        const dz = await contract.getDayZero();\n        logger.debug('getDayZero', dz);\n        setDayZero(dz);\n        setIsReady(true);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useDayZero error';\n        setError(message);\n        setIsReady(false);\n      }\n    },\n    [contract]\n  );\n\n  const getDate = useCallback(\n    (days: number) => {\n      if (!dayZero) {\n        throw new Error('getDate utility is not ready');\n      }\n      const cleanZero = DateTime.fromMillis(dayZero * 1000).set({ hour: 1 })\n      logger.debug('getDate params', cleanZero, days);\n      return DateTime.fromMillis(\n        cleanZero.toMillis() + days * 86400 * 1000\n      )\n    },\n    [dayZero]\n  );\n\n  useEffect(\n    () => {\n      getDayZero();\n      return () => {\n        setIsReady(false);\n        setDayZero(undefined);\n      }\n    },\n    [getDayZero]\n  );\n\n  return [\n    getDate,\n    isReady,\n    error\n  ];\n};\n","import { Box, Spinner } from 'grommet';\nimport { useAppState } from '../store';\nimport { PageWrapper } from '../pages/PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { SearchForm } from '../components/search/SearchForm';\nimport { useDayZero } from '../hooks/useDayZero';\n\nexport const Home = () => {\n  const {\n    isIpfsNodeConnecting,\n    isBootstrapLoading,\n    bootstrapped,\n    rpcProvider,\n    ipfsNode\n  } = useAppState();\n\n  const [getDate, isGetDateReady] = useDayZero(rpcProvider, ipfsNode);\n\n  return (\n    <PageWrapper>\n      <MessageBox type='info' show={isIpfsNodeConnecting || isBootstrapLoading || !isGetDateReady}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      {(!!bootstrapped && isGetDateReady) &&\n        <SearchForm getDate={getDate} />\n      }\n    </PageWrapper>\n  );\n};\n","import type { MessageBoxTypes } from '../components/MessageBox';\nimport type { MessageState } from '../hooks/useGoToMessage';\nimport { useEffect, useState } from 'react';\nimport { Box, Text } from 'grommet';\nimport { PageWrapper } from './PageWrapper';\nimport { useLocation, NavLink } from 'react-router-dom';\nimport { MessageBox, allowedMessageBoxTypes } from '../components/MessageBox';\n\nexport const Message = () => {\n  const { state } = useLocation();\n  const [messageType, setMessageType] = useState<MessageBoxTypes>('warn');\n  const [messageText, setMessageText] = useState<string | undefined>();\n  const [messagePath, setMessagePath] = useState<string | undefined>();\n  const [messagePathLabel, setMessagePathLabel] = useState<string | undefined>();\n\n  useEffect(\n    () => {\n      const { type, text, path, pathLabel } = state as MessageState;\n      setMessageType(allowedMessageBoxTypes.includes(type) ? type : 'warn');\n      setMessageText(text || 'Hello, the message on this path is expired');\n      setMessagePath(path);\n      setMessagePathLabel(pathLabel);\n    },\n    [state]\n  );\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <MessageBox type={messageType} show={!!messageText}>\n        <Box direction='column'>\n          <Box margin={{ bottom: 'small' }}>\n            <Text>{messageText}</Text>\n          </Box>\n          {messagePath &&\n            <Box>\n              <NavLink to={messagePath}>\n                {messagePathLabel || 'Continue'}\n              </NavLink>\n            </Box>\n          }\n        </Box>\n      </MessageBox>\n\n    </PageWrapper>\n  );\n};\n","import { useContext } from 'react';\nimport { Button, Box, Spinner, Text, ResponsiveContext } from 'grommet';\nimport { Login, Logout } from 'grommet-icons';\nimport styled from 'styled-components';\nimport { useAppState } from '../../store';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\nexport const SignInButton = () => {\n  const size = useContext(ResponsiveContext);\n  const { isConnecting, signIn } = useAppState();\n\n  return (\n    <Button\n      onClick={() => signIn()}\n      disabled={isConnecting}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          {size !== 'small' &&\n            <Text>\n              {isConnecting ? 'Connecting' : 'Connect'}\n            </Text>\n          }\n          {size === 'small' &&\n            <Login />\n          }\n          {isConnecting && <InnerSpinner />}\n        </Box>\n      )}\n    </Button>\n  )\n};\n\nexport const SignOutButton = () => {\n  const size = useContext(ResponsiveContext);\n  const { isConnecting, signOut } = useAppState();\n\n  return (\n    <Button\n      onClick={() => signOut()}\n      disabled={isConnecting}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          {size !== 'small' &&\n            <Text>\n              {isConnecting ? 'Connecting' : 'Disconnect'}\n            </Text>\n          }\n          {size === 'small' &&\n            <Logout />\n          }\n          {isConnecting && <InnerSpinner />}\n        </Box>\n      )}\n    </Button>\n  )\n};\n","import { Box, Text, Image, Grid, Button } from 'grommet';\nimport type { Space } from 'stays-data-models'\nimport { useNavigate } from 'react-router-dom';\nimport { useAppState } from '../store';\nimport { ThemeMode } from './SwitchThemeMode';\nimport { SignInButton } from './buttons/web3Modal';\n\nexport const SearchResultCard: React.FC<{ space: Space }> = ({ space }) => {\n  const { themeMode, account } = useAppState();\n  const navigate = useNavigate();\n\n  return (\n    <Box\n      border={{ color: themeMode === ThemeMode.light ? 'brand' : 'accent-1', size: 'small' }}\n      direction='row'\n      round='small'\n      align='center'\n      overflow='hidden'\n      background={{ color: `${themeMode}-1` }}\n      margin={{ horizontal: 'small', vertical: 'medium' }}\n    >\n      <Grid\n        responsive\n        width='100%'\n        rows={['xsmall', 'small', 'xsmall']}\n        columns={['medium', 'flex']}\n        gap=\"medium\"\n        areas={[\n          { name: 'img', start: [0, 0], end: [1, 2] },\n          { name: 'header', start: [1, 0], end: [1, 1] },\n          { name: 'main', start: [1, 1], end: [1, 1] },\n          { name: 'action', start: [1, 2], end: [1, 2] },\n        ]}\n        align='center'\n      >\n        <Box gridArea=\"img\" height=\"100%\" >\n          <Image\n            fit=\"cover\"\n            src={space.media.logo}\n          />\n        </Box>\n        <Box gridArea=\"header\">\n          <Text size='xxlarge'  >\n            {space.name}\n          </Text>\n          {/* <Text size='large'>\n            {space.address === undefined ? '' : <Box direction='row'>\n              <Text>{space.address.country},</Text>\n              <Text>{space.address.locality},</Text>\n              <Text>{space.address.streetAddress}</Text>\n            </Box>}\n          </Text> */}\n        </Box>\n        <Box direction='column' justify='start' gridArea=\"main\">\n          lordem\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' justify='between' align='center' gridArea=\"action\">\n          <Text size='large'>From: $$$</Text>\n          {account ? <Button\n            size='large'\n            label='Check Spaces'\n            onClick={() => navigate(`/space/${space.contractData.spaceId}`)}\n          /> : <SignInButton />}\n        </Box>\n      </Grid>\n    </Box>\n  );\n};\n","import { useContract } from './useContract';\nimport { useAppState } from '../store';\nimport { useCallback, useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSpaceAvailability');\n\nexport type UseSpaceAvailabilityHook = [\n  cb: (\n    spaceId: string,\n    startDay: number,\n    numberOfDays: number\n  ) => Promise<number[] | null>,\n  isReady: boolean\n];\n\n// This hook provides a callback function for getting a space availability\nexport const useSpaceAvailability = (): UseSpaceAvailabilityHook => {\n  const { rpcProvider, ipfsNode } = useAppState();\n  const [contract] = useContract(rpcProvider, ipfsNode);\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    setIsReady(!!contract);\n  }, [contract]);\n\n  const cb = useCallback(async (\n    spaceId: string,\n    startDay: number,\n    numberOfDays: number\n  ): Promise<number[] | null> => {\n    try {\n      if (!contract) {\n        throw new Error('Contract is not connected');\n      }\n      return contract.getAvailability(spaceId, startDay, numberOfDays);\n\n    } catch (error) {\n      logger.error(error);\n      return null;\n    }\n  }, [contract]);\n\n  return [cb, isReady];\n};\n","import { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\nimport { useAppDispatch, useAppState } from '../store';\nimport { LodgingFacility, Space } from 'stays-data-models';\nimport { useSpaceAvailability } from './useSpaceAvailability';\n\n// Initialize logger\nconst logger = Logger('useSpaceSearch');\n\nexport type UseSpaceSearchHook = [\n  isLoading: boolean,\n  error: string | undefined\n];\n\n// useSpaceSearch react hook\nexport const useSpaceSearch = (\n  startDay: number,\n  numberOfDays: number,\n  guestsAmount: number\n): UseSpaceSearchHook => {\n  const dispatch = useAppDispatch();\n  const { lodgingFacilities, searchTimestamp, searchParams } = useAppState();\n  const [cb, isReady] = useSpaceAvailability();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    setLoading(true);\n    setError(undefined);\n\n    if (!isReady) {\n      return\n    }\n\n    if (!!searchParams && searchParams.guestsAmount !== guestsAmount) {\n      dispatch({\n        type: 'SET_SEARCH_PARAMS',\n        payload: {\n          ...searchParams,\n          guestsAmount\n        }\n      });\n    }\n\n    if (\n      searchParams !== undefined &&\n      searchTimestamp !== undefined &&\n      searchTimestamp + 5 * 60 > Date.now() / 1000 &&\n      searchParams.numberOfDays === numberOfDays &&\n      searchParams.startDay === startDay\n    ) {\n      setLoading(false);\n      return\n    }\n\n    if (startDay < 0) {\n      setLoading(false);\n      setError('Not valid date')\n      return\n    }\n\n    dispatch({\n      type: 'RESET_RECORD',\n      payload: {\n        name: 'searchSpaces'\n      }\n    });\n\n    const getSpacesAvailability = async () => {\n      try {\n        const facilities: LodgingFacility[] = JSON.parse(JSON.stringify(lodgingFacilities))\n        const spaces = facilities.reduce(\n          (previousValue, currentValue) => [...previousValue, ...currentValue.spaces as Space[]],\n          [] as Space[]\n        );\n        const newSpaces = await Promise.all(\n          spaces.map(\n            async space => {\n              const availability = await cb(space.contractData.spaceId, startDay, numberOfDays)\n              return {\n                ...space,\n                available: availability === null ? availability : Math.min(...availability)\n              }\n            }\n          )\n        );\n\n        // Add all obtained records to state\n        for (const record of newSpaces) {\n          dispatch({\n            type: 'SET_RECORD',\n            payload: {\n              name: 'searchSpaces',\n              record: {\n                ...record,\n                id: record.contractData.spaceId\n              }\n            }\n          });\n        }\n        //Set timestamp to storage\n        dispatch({\n          type: 'SET_AVAILABILITY_TIMESTAMP',\n          payload: Date.now() / 1000\n        });\n        dispatch({\n          type: 'SET_SEARCH_PARAMS',\n          payload: {\n            startDay,\n            numberOfDays,\n            guestsAmount\n          }\n        });\n\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getSpacesAvailability();\n  }, [lodgingFacilities, isReady, cb, dispatch, numberOfDays, startDay, searchParams, searchTimestamp, guestsAmount]);\n\n  return [\n    loading,\n    error\n  ];\n};\n","import { PageWrapper } from './PageWrapper';\nimport { SearchForm } from '../components/search/SearchForm';\nimport { Box, Spinner } from 'grommet';\nimport { SearchResultCard } from '../components/SearchResultCard';\nimport { useAppState } from '../store';\nimport { useSpaceSearch } from '../hooks/useSpaceSearch';\nimport { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { MessageBox } from '../components/MessageBox';\nimport { useDayZero } from '../hooks/useDayZero';\n\nexport const Search = () => {\n  const { searchSpaces, provider, ipfsNode } = useAppState();\n  const { search } = useLocation();\n\n  const { startDay, numberOfDays, guestsAmount } = useMemo(() => {\n    const params = new URLSearchParams(search)\n    const startDay = Number(params.get('startDay'))\n    const numberOfDays = Number(params.get('numberOfDays'))\n    return {\n      startDay,\n      numberOfDays,\n      guestsAmount: Number(params.get('guestsAmount')),\n    }\n  }, [search])\n\n  const [loading, error] = useSpaceSearch(startDay, numberOfDays, guestsAmount)\n  const [getDate, isGetDateReady] = useDayZero(provider, ipfsNode);\n\n  const filteredSpaces = useMemo(() => {\n    return searchSpaces.filter((space: any) => space.capacity >= guestsAmount)\n  }, [searchSpaces, guestsAmount])\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      {isGetDateReady && <SearchForm\n        getDate={getDate}\n        startDay={startDay}\n        numberOfDays={numberOfDays}\n        initGuestsAmount={guestsAmount}\n      />}\n\n      <MessageBox type='error' show={!!error}>\n        <Box direction='row'>\n          <Box>\n            {error}\n          </Box>\n        </Box>\n      </MessageBox>\n\n      {loading ? <Spinner color='accent-1' alignSelf='center' size='medium' /> : null}\n      {filteredSpaces !== undefined && isGetDateReady ? filteredSpaces.map((space) =>\n        <SearchResultCard key={space.contractData.spaceId} space={space} />\n      ) : null}\n    </PageWrapper>\n  );\n};\n","import { Anchor } from 'grommet';\nimport { Share } from 'grommet-icons';\nimport styled from 'styled-components';\n\nexport interface ExternalLinkProps {\n  href: string;\n  label: string;\n}\n\nexport const ShareIcon = styled(Share)`\n  cursor: pointer;\n`;\n\nexport const ExternalLink = ({\n  href,\n  label\n}: ExternalLinkProps) => {\n\n  return (\n    <Anchor\n      href={href}\n      target='_blank'\n      rel='noopener noreferrer'\n      gap='xsmall'\n      reverse\n      label={label}\n      icon={<ShareIcon size='small' />}\n    />\n  )\n};\n","// Makes shorter text with ellipsis in the center\nexport const centerEllipsis = (text: string, width = 4, prefix = 2): string =>\n  text\n    ? text.length > ((width * 2) + prefix)\n      ? `${text.substring(0, width + prefix)}...${text.substring(text.length - width - prefix)}`\n      : text\n    : '';\n\n// Copies text to clipboard\nexport const copyToClipboard = (text: string): Promise<void> => {\n  if (navigator.clipboard && window.isSecureContext) {\n    return navigator\n      .clipboard\n      .writeText(text)\n      .then(resolve => resolve);\n  } else {\n    let textArea = document.createElement(\"textarea\");\n    textArea.value = text;\n    textArea.style.opacity = \"0\";\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    return new Promise((resolve, reject) => {\n      document.execCommand('copy') ? resolve() : reject();\n      textArea.remove();\n    });\n  }\n}\n","import { useEffect, useState } from 'react';\n\nexport const useWindowsDimension = () => {\n  const [windowDimenion, detectHW] = useState({\n    winWidth: window.innerWidth,\n    winHeight: window.innerHeight,\n  });\n\n  const detectSize = () => {\n    detectHW({\n      winWidth: window.innerWidth,\n      winHeight: window.innerHeight,\n    });\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', detectSize);\n\n    return () => {\n      window.removeEventListener('resize', detectSize);\n    };\n  }, [windowDimenion]);\n\n  return windowDimenion;\n};\n","import type { MessageBoxTypes } from '../components/MessageBox';\nimport { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport type UseGoToMessageHook = (\n  text: string,\n  type?: MessageBoxTypes,\n  path?: string,\n  pathLabel?: string\n) => void;\n\nexport interface MessageState {\n  text: string;\n  type: MessageBoxTypes;\n  path?: string;\n  pathLabel?: string;\n}\n\nexport const useGoToMessage = (): UseGoToMessageHook => {\n  const navigate = useNavigate();\n  return useCallback(\n    (text: string, type = 'info', path?: string, pathLabel?: string) =>\n      navigate(\n        '/message',\n        {\n          replace: true,\n          state: {\n            text,\n            type,\n            path,\n            pathLabel,\n          }\n        }\n      ),\n    [navigate]\n  );\n};\n","//Source https://betterprogramming.pub/the-best-practice-with-google-place-autocomplete-api-on-react-939211e8b4ce\nimport { enumerators } from 'stays-data-models';\n\n  const {\n    allowedLodgingFacilityTypes, // Lodging facility types\n    allowedLodgingFacilityTiers, // Lodging facility tiers\n   // allowedSpaceTypes, // Space types\n  } = enumerators;\n\nexport const defaultRoomTier = allowedLodgingFacilityTiers;\n\nexport const ResponsiveColumn = (winWidth: number) => {\n  if (winWidth >= 1300) {\n    return ['65%', '35%'];\n  } else if (winWidth >= 1000) {\n    return ['65%', '35%'];\n  } else if (winWidth >= 768) {\n    return ['60%', '40%'];\n  } else if (winWidth >= 600) {\n    return ['large'];\n  } else if (winWidth <= 500) {\n    return ['100%'];\n  } else if (winWidth <= 400) {\n    return ['100%'];\n  }\n};\n\n\nexport interface imageSchema {\n   description: string;\n   uri: string;\n   thumbnail: string;\n\n}\n\nexport interface addressSchema {\n  country: string;\n  subdivision: string;\n  locality: string;\n  postalCode: string;\n  streetAddress: string;\n  premise: string;\n  gps: string;\n}\n\nexport interface operatorSchema {\n  name: string;\n  address: Array<addressSchema>\n}\n\nexport interface mediaSchema {\n  logo?: string;\n  images: Array<imageSchema>;\n}\n\nexport interface LodgingFacilityRaw {\n  name?: string;\n  description?: string;\n  type?: string;\n  tier: string;\n  address?: Array<addressSchema>;\n  operator?: Array<operatorSchema>;\n  media: Array<mediaSchema>;\n}\n\nexport const LodgingFacilityRaw2:any = {\n  name: '',\n  description: '',\n  type: '',\n  tier: '',\n  address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: '',\n    },\n  operator: {\n    name: '',\n    address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: '',\n    },\n  },\n  media: {\n    logo: '',\n    images: [],\n   // images: Array <imageSchema>\n  },\n};\n\nexport const defaultFormValue = {\n  roomName: 'Madagaska room',\n  roomType: 'Deluxe King',\n  roomTier: 'Basic',\n  description: '',\n  addressCountry: '',\n  addressSubdivision: '',\n  addressLocality: '',\n  addressPostalCode: '',\n  addressGeometry: '',\n  addressPremise: '',\n\n  operatorGeometry: '',\n  operatorPostalCode: '',\n  operatorLocality: '',\n  operatorCountry: '',\n  operatorPremise: '', //addressPremise\n};\nexport const defaultRoomTypes = allowedLodgingFacilityTypes;\nexport const defaultCountries: string[] = [\n  'Afghanistan',\n  'Aland Islands',\n  'Albania',\n  'Algeria',\n  'American Samoa',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'Antarctica',\n  'Antigua and Barbuda',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'Bonaire, Sint Eustatius and Saba',\n  'Bosnia and Herzegovina',\n  'Botswana',\n  'Bouvet Island',\n  'Brazil',\n  'British Indian Ocean Territory',\n  'Brunei Darussalam',\n  'Bulgaria',\n  'Burkina Faso',\n  'Burundi',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'Cape Verde',\n  'Cayman Islands',\n  'Central African Republic',\n  'Chad',\n  'Chile',\n  'China',\n  'Christmas Island',\n  'Cocos (Keeling) Islands',\n  'Colombia',\n  'Comoros',\n  'Congo',\n  'Congo, Democratic Republic of the Congo',\n  'Cook Islands',\n  'Costa Rica',\n  'Cote D\\'Ivoire',\n  'Croatia',\n  'Cuba',\n  'Curacao',\n  'Cyprus',\n  'Czech Republic',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'Dominican Republic',\n  'Ecuador',\n  'Egypt',\n  'El Salvador',\n  'Equatorial Guinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'Falkland Islands (Malvinas)',\n  'Faroe Islands',\n  'Fiji',\n  'Finland',\n  'France',\n  'French Guiana',\n  'French Polynesia',\n  'French Southern Territories',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'Greece',\n  'Greenland',\n  'Grenada',\n  'Guadeloupe',\n  'Guam',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'Guinea-Bissau',\n  'Guyana',\n  'Haiti',\n  'Heard Island and Mcdonald Islands',\n  'Holy See (Vatican City State)',\n  'Honduras',\n  'Hong Kong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran, Islamic Republic of',\n  'Iraq',\n  'Ireland',\n  'Isle of Man',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'Kiribati',\n  'Korea, Democratic People\\'s Republic of',\n  'Korea, Republic of',\n  'Kosovo',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Lao People\\'s Democratic Republic',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libyan Arab Jamahiriya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia, the Former Yugoslav Republic of',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Marshall Islands',\n  'Martinique',\n  'Mauritania',\n  'Mauritius',\n  'Mayotte',\n  'Mexico',\n  'Micronesia, Federated States of',\n  'Moldova, Republic of',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nauru',\n  'Nepal',\n  'Netherlands',\n  'Netherlands Antilles',\n  'New Caledonia',\n  'New Zealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Niue',\n  'Norfolk Island',\n  'Northern Mariana Islands',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Palestinian Territory, Occupied',\n  'Panama',\n  'Papua New Guinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Pitcairn',\n  'Poland',\n  'Portugal',\n  'Puerto Rico',\n  'Qatar',\n  'Reunion',\n  'Romania',\n  'Russian Federation',\n  'Rwanda',\n  'Saint Barthelemy',\n  'Saint Helena',\n  'Saint Kitts and Nevis',\n  'Saint Lucia',\n  'Saint Martin',\n  'Saint Pierre and Miquelon',\n  'Saint Vincent and the Grenadines',\n  'Samoa',\n  'San Marino',\n  'Sao Tome and Principe',\n  'Saudi Arabia',\n  'Senegal',\n  'Serbia',\n  'Serbia and Montenegro',\n  'Seychelles',\n  'Sierra Leone',\n  'Singapore',\n  'Sint Maarten',\n  'Slovakia',\n  'Slovenia',\n  'Solomon Islands',\n  'Somalia',\n  'South Africa',\n  'South Georgia and the South Sandwich Islands',\n  'South Sudan',\n  'Spain',\n  'Sri Lanka',\n  'Sudan',\n  'Suriname',\n  'Svalbard and Jan Mayen',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syrian Arab Republic',\n  'Taiwan, Province of China',\n  'Tajikistan',\n  'Tanzania, United Republic of',\n  'Thailand',\n  'Timor-Leste',\n  'Togo',\n  'Tokelau',\n  'Tonga',\n  'Trinidad and Tobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'Turks and Caicos Islands',\n  'Tuvalu',\n  'Uganda',\n  'Ukraine',\n  'United Arab Emirates',\n  'United Kingdom',\n  'United States',\n  'United States Minor Outlying Islands',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Viet Nam',\n  'Virgin Islands, British',\n  'Virgin Islands, U.s.',\n  'Wallis and Futuna',\n  'Western Sahara',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n];\n","import type { LodgingFacilityRaw } from 'stays-data-models';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport {\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Button,\n  Box,\n  Collapsible,\n  Image,\n  Text,\n  TextArea,\n  Form,\n  Grid,\n  FormField,\n  FileInput,\n  Layer,\n  Heading,\n  Select,\n  Spinner,\n  Stack,\n  Carousel,\n} from 'grommet';\nimport { Close, CaretRightFill, CaretDownFill } from 'grommet-icons';\nimport { useParams } from 'react-router-dom';\nimport { MessageBox } from '../MessageBox';\nimport { ExternalLink } from '../ExternalLink';\nimport { validateLodgingFacilityData } from 'stays-data-models/dist/src/validators';\nimport { enumerators } from 'stays-data-models';\nimport { centerEllipsis } from '../../utils/strings';\nimport { useAppState } from '../../store';\nimport { useWeb3StorageApi } from '../../hooks/useWeb3StorageApi';\nimport { useContract } from './../../hooks/useContract';\nimport { useWindowsDimension } from '../../hooks/useWindowsDimension';\nimport { useGoToMessage } from '../../hooks/useGoToMessage';\nimport { ResponsiveColumn } from '../../utils/roomProfile';\nimport { getNetwork } from '../../config';\nimport Logger from '../../utils/logger';\n\n// Initialize logger\nconst logger = Logger('FacilityProfileCard');\n\nexport const defaultCountries: string[] = [\n  'Afghanistan',\n  'Aland Islands',\n  'Albania',\n  'Algeria',\n  'American Samoa',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'Antarctica',\n  'Antigua and Barbuda',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'Bonaire, Sint Eustatius and Saba',\n  'Bosnia and Herzegovina',\n  'Botswana',\n  'Bouvet Island',\n  'Brazil',\n  'British Indian Ocean Territory',\n  'Brunei Darussalam',\n  'Bulgaria',\n  'Burkina Faso',\n  'Burundi',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'Cape Verde',\n  'Cayman Islands',\n  'Central African Republic',\n  'Chad',\n  'Chile',\n  'China',\n  'Christmas Island',\n  'Cocos (Keeling) Islands',\n  'Colombia',\n  'Comoros',\n  'Congo',\n  'Congo, Democratic Republic of the Congo',\n  'Cook Islands',\n  'Costa Rica',\n  'Cote D\\'Ivoire',\n  'Croatia',\n  'Cuba',\n  'Curacao',\n  'Cyprus',\n  'Czech Republic',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'Dominican Republic',\n  'Ecuador',\n  'Egypt',\n  'El Salvador',\n  'Equatorial Guinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'Falkland Islands (Malvinas)',\n  'Faroe Islands',\n  'Fiji',\n  'Finland',\n  'France',\n  'French Guiana',\n  'French Polynesia',\n  'French Southern Territories',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'Greece',\n  'Greenland',\n  'Grenada',\n  'Guadeloupe',\n  'Guam',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'Guinea-Bissau',\n  'Guyana',\n  'Haiti',\n  'Heard Island and Mcdonald Islands',\n  'Holy See (Vatican City State)',\n  'Honduras',\n  'Hong Kong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran, Islamic Republic of',\n  'Iraq',\n  'Ireland',\n  'Isle of Man',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'Kiribati',\n  'Korea, Democratic People\\'s Republic of',\n  'Korea, Republic of',\n  'Kosovo',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Lao People\\'s Democratic Republic',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libyan Arab Jamahiriya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia, the Former Yugoslav Republic of',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Marshall Islands',\n  'Martinique',\n  'Mauritania',\n  'Mauritius',\n  'Mayotte',\n  'Mexico',\n  'Micronesia, Federated States of',\n  'Moldova, Republic of',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nauru',\n  'Nepal',\n  'Netherlands',\n  'Netherlands Antilles',\n  'New Caledonia',\n  'New Zealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Niue',\n  'Norfolk Island',\n  'Northern Mariana Islands',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Palestinian Territory, Occupied',\n  'Panama',\n  'Papua New Guinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Pitcairn',\n  'Poland',\n  'Portugal',\n  'Puerto Rico',\n  'Qatar',\n  'Reunion',\n  'Romania',\n  'Russian Federation',\n  'Rwanda',\n  'Saint Barthelemy',\n  'Saint Helena',\n  'Saint Kitts and Nevis',\n  'Saint Lucia',\n  'Saint Martin',\n  'Saint Pierre and Miquelon',\n  'Saint Vincent and the Grenadines',\n  'Samoa',\n  'San Marino',\n  'Sao Tome and Principe',\n  'Saudi Arabia',\n  'Senegal',\n  'Serbia',\n  'Serbia and Montenegro',\n  'Seychelles',\n  'Sierra Leone',\n  'Singapore',\n  'Sint Maarten',\n  'Slovakia',\n  'Slovenia',\n  'Solomon Islands',\n  'Somalia',\n  'South Africa',\n  'South Georgia and the South Sandwich Islands',\n  'South Sudan',\n  'Spain',\n  'Sri Lanka',\n  'Sudan',\n  'Suriname',\n  'Svalbard and Jan Mayen',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syrian Arab Republic',\n  'Taiwan, Province of China',\n  'Tajikistan',\n  'Tanzania, United Republic of',\n  'Thailand',\n  'Timor-Leste',\n  'Togo',\n  'Tokelau',\n  'Tonga',\n  'Trinidad and Tobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'Turks and Caicos Islands',\n  'Tuvalu',\n  'Uganda',\n  'Ukraine',\n  'United Arab Emirates',\n  'United Kingdom',\n  'United States',\n  'United States Minor Outlying Islands',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Viet Nam',\n  'Virgin Islands, British',\n  'Virgin Islands, U.s.',\n  'Wallis and Futuna',\n  'Western Sahara',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n];\n\nexport const defaultFormValue: LodgingFacilityRaw = {\n  name: '',\n  description: '',\n  type: '',\n  tier: '',\n  address: {\n    country: '',\n    subdivision: '',\n    locality: '',\n    postalCode: '',\n    streetAddress: '',\n    premise: '',\n    gps: ''\n  },\n  operator: {\n    name: '',\n    address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: ''\n    }\n  },\n  media: {\n    logo: '',\n    images: []\n  }\n};\n\nconst flattenObject = (obj: any, prefix = ''): Record<string, any> =>\n  Object\n    .keys(obj)\n    .reduce(\n      (acc, key) => {\n        const pre = prefix.length ? prefix + '.' : '';\n        acc = {\n          ...acc,\n          ...(\n            typeof obj[key] === 'object'\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              ? flattenObject(obj[key], pre + key)\n              : {\n                [pre + key]: obj[key]\n              }\n          )\n        };\n        return acc;\n      },\n      {}\n    );\n\nconst unFlattenObject = (obj: Record<string, any>) => {\n  const result: any = {};\n  for (let i in obj) {\n    const keys = i.split('.');\n    keys.reduce(\n      (acc, key, j) => {\n        return acc[key] ||\n          (acc[key] = isNaN(Number(keys[j + 1])) ? (keys.length - 1 === j ? obj[i] : {}) : [])\n      },\n      result\n    );\n  }\n  return result;\n};\n\nexport const FacilityProfileCard = () => {\n  const { id } = useParams<{ id: string }>();\n  const showMessage = useGoToMessage();\n  const { winWidth } = useWindowsDimension();\n  const {\n    provider,\n    ipfsNode,\n    ownFacilities,\n    ownFacilitiesLoading,\n    ownFacilitiesRefresh\n  } = useAppState();\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [profileValue, setProfileValue] = useState<Record<string, any>>(flattenObject(defaultFormValue));\n  const [countries, setCountries] = useState<string[]>(defaultCountries);\n  const [addressOpen, setAddressOpen] = useState<boolean>(false);\n  const [operatorOpen, setOperatorOpen] = useState<boolean>(false);\n  const [showImagesLoader, setShowImagesLoader] = useState<boolean>(false);\n  const [uploadIpfsError, setUploadIpfsError] = useState<string | undefined>();\n  const [facilityError, setFacilityError] = useState<string | undefined>();\n  const [facilityLoading, setFacilityLoading] = useState<boolean>(false);\n  const [logoUploading, setLogoUploading] = useState<boolean>(false);\n  const [imagesUploading, setImagesUploading] = useState<boolean>(false);\n  const [images, setImages] = useState<File[]>([]);\n  const [imagesDescriptions, setImagesDescriptions] = useState<Record<string, string>>({});\n  const [validationError, setValidationError] = useState<string | undefined>();\n  const [hash, setHash] = useState<string | undefined>();\n  const [profileCreating, setProfileCreating] = useState<boolean>(false);\n\n  // editing scope\n  const [selectedFacilityProfile, setSelectedFacilityProfile] = useState<LodgingFacilityRaw | undefined>();\n\n  const isLoading = useMemo<boolean>(\n    () => !!!web3Storage || loadingContract,\n    [web3Storage, loadingContract]\n  );\n\n  useEffect(\n    () => {\n      if (isLoading || !id || !!!ownFacilities) {\n        setSelectedFacilityProfile(undefined);\n        return;\n      }\n\n      try {\n        setFacilityError(undefined);\n        setFacilityLoading(true);\n\n        const facility = ownFacilities.find(\n          f => f.contractData.lodgingFacilityId === id\n        );\n\n        if (!facility) {\n          if (!ownFacilitiesLoading) {\n            throw new Error(\n              `Unable find the lodging facility with Id: ${id}`\n            );\n          }\n          setSelectedFacilityProfile(undefined);\n          return;\n        }\n\n        const profile = JSON.parse(JSON.stringify(facility));\n        delete profile.contractData;\n        delete profile.spaces;\n        delete profile.updated;\n\n        setSelectedFacilityProfile(profile);\n        setProfileValue(flattenObject(profile));\n        logger.debug('Selected facility profile', profile);\n        setFacilityLoading(false);\n      } catch (err) {\n        logger.error(err);\n        setFacilityError(\n          (err as Error).message || 'Unknown lodging facility loading error'\n        );\n        setFacilityLoading(false);\n      }\n    },\n    [id, ownFacilities, ownFacilitiesLoading, isLoading]\n  );\n\n  // true - update; false - create\n  const isUpdateMode = useMemo(\n    () => !!selectedFacilityProfile,\n    [selectedFacilityProfile]\n  );\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork();\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null;\n  }, [hash]);\n\n  const closeImageLoader = () => {\n    setImages([]);\n    setImagesDescriptions({});\n    setShowImagesLoader(false);\n  };\n\n  const unFlattenProfile = useMemo<LodgingFacilityRaw>(\n    () => unFlattenObject(profileValue),\n    [profileValue]\n  );\n\n  const deployToIpfs = useCallback(\n    async (\n      file: File,\n      loadingSetter = () => {},\n      isImage = false\n    ) => {\n      try {\n        if (!web3Storage) {\n          throw new Error(\"IPFS API not ready yet\");\n        }\n        loadingSetter(true);\n        const { cid } = await web3Storage.add(file);\n        const uri = isImage\n          ? `https://${cid}.ipfs.dweb.link`\n          : `ipfs://${cid}`;\n        loadingSetter(false);\n        return uri;\n      } catch (err) {\n        logger.error(err);\n        setUploadIpfsError(\n          (err as Error).message || 'Unknown IPFS uploader error'\n        );\n        loadingSetter(false);\n        return null;\n      }\n    },\n    [web3Storage]\n  );\n\n  const handleSubmit = useCallback(\n    async () => {\n      setValidationError(undefined);\n\n      try {\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n\n        setProfileCreating(true);\n\n        const profileData = unFlattenObject(profileValue);\n\n        logger.debug('profileData', profileData);\n        validateLodgingFacilityData(profileData);\n\n        if (isUpdateMode) {\n          if (!id) {\n            throw new Error(\n              'Id of the lodging facility is required but not found in the configuration'\n            );\n          }\n\n          await contract.updateLodgingFacility(\n            id,\n            profileData,\n            undefined,\n            setHash,\n            undefined\n          );\n        } else {\n          await contract.registerLodgingFacility(\n            profileData,\n            true,\n            undefined,\n            undefined,\n            setHash,\n            undefined\n          );\n        }\n\n        if (ownFacilitiesRefresh) {\n          ownFacilitiesRefresh();\n        }\n\n        await new Promise(resolve => setTimeout(resolve, 10000));\n\n        setProfileCreating(false);\n\n        showMessage(\n          `The Lodging Facility \"${profileData.name}\" has been successfully ${isUpdateMode ? 'updated' : 'created'}`,\n          'info',\n          '/facilities',\n          'Back to my Lodging Facilities'\n        );\n      } catch (err) {\n        logger.error(err);\n        setValidationError(\n          (err as Error).message ||\n          'Unknown profile validation error'\n        );\n        setProfileCreating(false);\n      }\n    },\n    [showMessage, isUpdateMode, profileValue, id, contract, ownFacilitiesRefresh]\n  );\n\n  return (\n    <>\n      <MessageBox type='info' show={isLoading}>\n        <Box direction='row'>\n          <Box>\n            Profile form dependencies are loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={facilityLoading}>\n        <Box direction='row'>\n          <Box>\n            Lodging Facility is profile loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!uploadIpfsError}>\n        <Box>\n          {uploadIpfsError}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!facilityError}>\n        <Box>\n          {facilityError}\n        </Box>\n      </MessageBox>\n\n      {!isLoading &&\n        <Form\n          value={profileValue}\n          validate='change'\n          onReset={() => {\n            setProfileValue(flattenObject(defaultFormValue));\n            setAddressOpen(false);\n            setOperatorOpen(false);\n            closeImageLoader();\n          }}\n          onSubmit={handleSubmit}\n          onChange={nextValue => setProfileValue(nextValue)}\n        >\n          <Card width='xxlarge' elevation='xsmall' background='light-3'>\n            <CardHeader pad='medium'>\n              <Heading margin='none' level='3'>\n                Lodging Facility Profile\n              </Heading>\n            </CardHeader>\n            <CardBody\n              pad='medium'\n              alignSelf='start'\n              background='#fff'\n              width='xxlarge'\n            >\n              <Grid\n                columns={ResponsiveColumn(winWidth)}\n                responsive={true}\n              >\n                <Box>\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Name'\n                    name='name'\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Type'\n                    name='type'\n                    required\n                  >\n                    <Select\n                      name='type'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Room Type'\n                      required\n                      clear\n                      options={enumerators.allowedLodgingFacilityTypes}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Tier'\n                    name='tier'\n                    required\n                  >\n                    <Select\n                      name='tier'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Room Tier'\n                      required\n                      clear\n                      options={enumerators.allowedLodgingFacilityTiers}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Description'\n                    name='description'\n                    htmlFor='text-area'\n                    component={TextArea}\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                    <Box>\n                      <Heading\n                        margin={{ 'left': 'small' }}\n                        level='3'\n                        style={{ cursor: 'pointer' }}\n                        onClick={() => setAddressOpen(!addressOpen)}\n                      >\n                        <Box direction='row'>\n                          <Box pad={{ 'right': 'small' }}>\n                            Address\n                          </Box>\n                          <Box>\n                            {addressOpen ? <CaretDownFill /> : <CaretRightFill />}\n                          </Box>\n                        </Box>\n                      </Heading>\n\n                      <Collapsible open={addressOpen}>\n                        <FormField\n                          label='Street Address'\n                          style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                          name='address.streetAddress'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Locality'\n                          name='address.locality'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Postal Code'\n                          name='address.postalCode'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                          label='Country'\n                          name='address.country'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        >\n                          <Select\n                            name='address.country'\n                            placeholder='Country'\n                            clear\n                            required\n                            options={countries}\n                            onSearch={(text) => {\n                              const escapedText = text.replace(\n                                /[-\\\\^$*+?.()|[\\]{}]/g,\n                                '\\\\$&'\n                              );\n\n                              const exp = new RegExp(escapedText, 'i');\n                              setCountries(\n                                defaultCountries.filter((o) => exp.test(o))\n                              );\n                            }}\n                            onClose={() => setCountries(defaultCountries)}\n                          />\n                        </FormField>\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Subdivision'\n                          name='address.subdivision'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Premise'\n                          name='address.premise'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='GPS'\n                          name='address.gps'\n                        />\n                      </Collapsible>\n                    </Box>\n\n                    <Box>\n                      <Heading\n                        margin={{ 'left': 'small' }}\n                        level='3'\n                        style={{ cursor: 'pointer' }}\n                        onClick={() => setOperatorOpen(!operatorOpen)}\n                      >\n                        <Box direction='row'>\n                          <Box pad={{ 'right': 'small' }}>\n                            Operator\n                          </Box>\n                          <Box>\n                            {operatorOpen ? <CaretDownFill /> : <CaretRightFill />}\n                          </Box>\n                        </Box>\n                      </Heading>\n\n                      <Collapsible open={operatorOpen}>\n                        <FormField\n                          // style={{ padding: 10 }}\n                          style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                          label='Operator Name'\n                          name='operator.name'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          label='Street Address'\n                          style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                          name='operator.address.streetAddress'\n                          required\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Locality'\n                          name='operator.address.locality'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Postal Code'\n                          name='operator.address.postalCode'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                          label='Country'\n                          name='operator.address.country'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        >\n                          <Select\n                            name='operator.address.country'\n                            placeholder='Country'\n                            clear\n                            required\n                            options={countries}\n                            onSearch={(text) => {\n                              const escapedText = text.replace(\n                                /[-\\\\^$*+?.()|[\\]{}]/g,\n                                '\\\\$&'\n                              );\n\n                              const exp = new RegExp(escapedText, 'i');\n                              setCountries(\n                                defaultCountries.filter((o) => exp.test(o))\n                              );\n                            }}\n                            onClose={() => setCountries(defaultCountries)}\n                          />\n                        </FormField>\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Subdivision'\n                          name='operator.address.subdivision'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Premise'\n                          name='operator.address.premise'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Geometry'\n                          name='operator.address.gps'\n                        />\n                      </Collapsible>\n                    </Box>\n\n                    {unFlattenProfile?.media?.images && unFlattenProfile.media.images.length > 0 &&\n                      <Box>\n                        <Heading\n                          margin={{ 'left': 'small' }}\n                          level='3'\n                        >\n                          Facility Images\n                        </Heading>\n\n                        <Box height='medium' overflow='hidden'>\n                          <Carousel fill initialChild={0}>\n                            {unFlattenProfile.media.images.map(\n                              (image, index: number) => (\n                                <Stack key={index} fill anchor='center'>\n                                  <Image\n                                    fill\n                                    height='medium'\n                                    fit='cover'\n                                    src={image.uri}\n                                    title={image.description}\n                                  />\n                                  <Button\n                                    icon={<Close color='white' />}\n                                    onClick={() => {\n                                      setProfileValue(\n                                        flattenObject({\n                                          ...unFlattenProfile,\n                                          media: {\n                                            ...unFlattenProfile.media,\n                                            images: unFlattenProfile?.media?.images?.filter(\n                                              (_, i) => i !== index\n                                            )\n                                          }\n                                        })\n                                      );\n                                    }}\n                                  />\n                                </Stack>\n                              )\n                            )}\n                          </Carousel>\n                        </Box>\n                      </Box>\n                    }\n                </Box>\n\n                <Box alignSelf='start' align='center'>\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Text>Facility Logo</Text>\n\n                    <Stack anchor='top-right'>\n                      <Image\n                        src={\n                          profileValue['media.logo'] === ''\n                            ? '/interior-design.png'\n                            : profileValue['media.logo']\n                        }\n                        fit='cover'\n                        width='110rem'\n                        height='110rem'\n                        style={{\n                          background: 'rgba(255,255,255, 0.5)',\n                          transition: 'all .3s linear',\n                          padding: 40,\n                          border: '1px solid #ccc',\n                        }}\n                      />\n                      {profileValue['media.logo'] === '' ? null : (\n                        <Box\n                          background='brand'\n                          margin='small'\n                          pad={{ horizontal: 'small', vertical: 'small' }}\n                          style={{ cursor: 'pointer' }}\n                          round\n                          onClick={() => setProfileValue({\n                            ...profileValue,\n                            'media.logo': ''\n                          })}\n                        >\n                          <Close color='white' size='small' />\n                        </Box>\n                      )}\n                      {logoUploading &&\n                        <Spinner size='medium' margin={{ top: '80px', right: '80px' }} />\n                      }\n                    </Stack>\n\n                    {profileValue['media.logo'] === '' &&\n                      <FormField htmlFor='fileInput' required>\n                        <FileInput\n                          accept='image/*'\n                          max={1}\n                          maxSize={50000}\n                          messages={{\n                            browse: 'browse',\n                            dropPrompt: 'Drop file here or',\n                            files: 'files',\n                            remove: 'remove',\n                            removeAll: 'remove all',\n                            maxFile: 'Attach a maximum of {max} files only.',\n                          }}\n                          onChange={async (event) => {\n                            setUploadIpfsError(undefined);\n\n                            if (event.target.files) {\n                              const uri = await deployToIpfs(\n                                event.target.files[0],\n                                setLogoUploading,\n                                true\n                              );\n\n                              if (uri) {\n                                setProfileValue({\n                                  ...profileValue,\n                                  'media.logo': uri\n                                });\n                              }\n                            }\n                          }}\n                        />\n                      </FormField>\n                    }\n                  </Box>\n\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    style={{ marginTop: 0 }}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Stack anchor='top-right' style={{ marginTop: 80 }}>\n                      <Button\n                        id='ShowRImage'\n                        onClick={() => setShowImagesLoader(true)}\n                        label='Add Room Images'\n                        style={{\n                          height: 40,\n                          fontSize: 12,\n                          marginTop: 6,\n                        }}\n                      />\n\n                      {showImagesLoader &&\n                        <Layer\n                          style={{ overflow: \"auto\" }}\n                          onEsc={closeImageLoader}\n                          onClickOutside={closeImageLoader}\n                        >\n                          <Box\n                            background=\"brand\"\n                            margin={{ top: \"small\", right: \"small\" }}\n                            style={{\n                              cursor: \"pointer\",\n                              width: 30,\n                              height: 30,\n                              position: \"absolute\",\n                              right: \"0\",\n                            }}\n                            round\n                            align='center'\n                            justify='center'\n                            onClick={closeImageLoader}\n                          >\n                            <Close color=\"white\" size=\"small\" />\n                          </Box>\n\n                          <Card width=\"large\" background=\"light-1\">\n                            <CardHeader>\n                              <Text\n                                style={{\n                                  fontSize: 15,\n                                  fontWeight: \"600\",\n                                  padding: 20,\n                                  paddingBottom: 10,\n                                }}\n                              >\n                                SELECT ROOM IMAGES\n                              </Text>\n                            </CardHeader>\n                            <CardBody style={{ padding: 20 }}>\n                              <form>\n                                <FormField htmlFor=\"fileInput\">\n                                  <FileInput\n                                    accept=\"image/*\"\n                                    multiple={{ max: 5 }}\n                                    messages={{\n                                      browse: \"browse\",\n                                      dropPrompt: \"Drop file here or\",\n                                      dropPromptMultiple: \"Drop files here or\",\n                                      files: \"files\",\n                                      remove: \"remove\",\n                                      removeAll: \"remove all\",\n                                      maxFile:\n                                        \"Attach a maximum of {max} files only.\",\n                                    }}\n                                    onChange={((e: any, { files }: { files: File[] }) => {\n                                      logger.debug(e);\n                                      if (files.length > 0) {\n                                        setImages(files);\n                                      }\n                                    }) as any}\n                                  />\n                                </FormField>\n\n                                {images.length > 0 &&\n                                  <>\n                                    <Heading\n                                      margin={{ 'left': 'small' }}\n                                      level='3'\n                                    >\n                                      IMAGES\n                                    </Heading>\n\n                                    <ul\n                                      style={{ listStyleType: 'none' }}\n                                    >\n                                      <br />\n                                      {images.map((file, index) => (\n                                        <li\n                                          key={index}\n                                          style={{ paddingBottom: 25 }}\n                                        >\n                                          <Box direction=\"row\">\n                                            <img\n                                              style={{ height: 40, width: 40 }}\n                                              alt={file.name}\n                                              src={URL.createObjectURL(file)}\n                                            ></img>\n                                            <textarea\n                                              value={imagesDescriptions[file.name] || ''}\n                                              onChange={(e) => {\n                                                setImagesDescriptions({\n                                                  ...imagesDescriptions,\n                                                  [file.name]: e.target.value\n                                                });\n                                              }}\n                                              required\n                                              placeholder={`add a description for ${file.name}`}\n                                              rows={2}\n                                              cols={40}\n                                              style={{\n                                                padding: 15,\n                                                border: \"1px solid #ccc\",\n                                                marginLeft: 10,\n                                              }}\n                                            ></textarea>\n                                          </Box>\n                                        </li>\n                                      ))}\n                                    </ul>\n\n                                    <Button\n                                      fill={true}\n                                      label={\n                                        <Box direction='row'>\n                                          <Box margin={{ right: 'small' }}>\n                                            <Text>\n                                              Upload\n                                            </Text>\n                                          </Box>\n                                          {imagesUploading &&\n                                            <Spinner color='white' />\n                                          }\n                                        </Box>\n                                      }\n                                      disabled={isLoading || imagesUploading}\n                                      primary\n                                      style={{\n                                        margin: 15,\n                                        height: 50,\n                                        width: \"94%\",\n                                      }}\n                                      onClick={async (e: any) => {\n                                        e.preventDefault();\n                                        setImagesUploading(true);\n\n                                        let unFlattenProfile = unFlattenObject(profileValue);\n\n                                        const initialImagesCount = unFlattenProfile.media.images.length;\n                                        logger.debug('initialImagesCount', initialImagesCount);\n\n                                        for (let i=0; i < images.length; i++) {\n                                          const uri = await deployToIpfs(\n                                            images[i],\n                                            () => {},\n                                            true\n                                          );\n\n                                          if (uri) {\n                                            unFlattenProfile = {\n                                              ...unFlattenProfile,\n                                              media: {\n                                                ...unFlattenProfile.media,\n                                                images: [\n                                                  ...unFlattenProfile.media.images,\n                                                  {\n                                                    uri,\n                                                    description: imagesDescriptions[images[i].name] || ''\n                                                  }\n                                                ]\n                                              }\n                                            };\n                                          }\n                                        }\n\n                                        setProfileValue(flattenObject(unFlattenProfile));\n\n                                        setImagesUploading(false);\n                                        closeImageLoader();\n                                      }}\n                                    />\n                                  </>\n                                }\n                              </form>\n                            </CardBody>\n                          </Card>\n                        </Layer>\n                      }\n\n                    </Stack>\n\n                  </Box>\n                </Box>\n              </Grid>\n            </CardBody>\n            <CardFooter pad={{ horizontal: 'small' }} background='light-2'>\n              <Box\n                direction='row'\n                justify='between'\n                width='xxlarge'\n                margin={'medium'}\n              >\n                <Button size='large' type='reset' label='Reset' />\n                <Box direction='column' align='center'>\n                  <Box>\n                    <Button\n                      type='submit'\n                      size='large'\n                      label={\n                        <Box direction='row'>\n                          <Box margin={{ right: 'small' }}>\n                            {isUpdateMode ? 'Update' : 'Save'}\n                          </Box>\n                          {profileCreating &&\n                            <Spinner color='white' />\n                          }\n                        </Box>\n                      }\n                      disabled={isLoading || profileCreating}\n                      primary\n                      onClick={() => {\n                        setAddressOpen(true);\n                        setOperatorOpen(true);\n                      }}\n                    />\n                  </Box>\n                  {hashLink !== null && hash &&\n                    <Box margin={{ top: 'small' }}>\n                      <ExternalLink\n                        href={hashLink}\n                        label={centerEllipsis(hash)}\n                      />\n                    </Box>\n                  }\n                </Box>\n\n              </Box>\n            </CardFooter>\n          </Card>\n\n          <MessageBox type='error' show={!!validationError}>\n            <Box>\n              {validationError}\n            </Box>\n          </MessageBox>\n        </Form>\n      }\n    </>\n  );\n};\n","import { Box } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { FacilityProfileCard } from \"../components/rooms/FacilityProfileCard\";\n\nexport const FacilityProfile = (): JSX.Element => {\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: \"/\",\n          label: \"Home\",\n        },\n        {\n          path: \"/facilities\",\n          label: \"Facilities\",\n        },\n      ]}\n    >\n      <Box\n        alignSelf=\"center\"\n        style={{\n          paddingBottom: 50,\n          border: \"0px solid red\",\n          width: \"100%\",\n        }}\n      >\n        <FacilityProfileCard />\n      </Box>\n    </PageWrapper>\n  );\n};\n","import { Button, Text, Spinner, Box } from 'grommet';\nimport styled from 'styled-components';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\nexport const BookWithDai: React.FC<{\n  loading: boolean; disabled: boolean; onClick: () => void\n}> = ({ loading, disabled, onClick }) => {\n\n  return (\n    <Button\n      onClick={() => onClick()}\n      disabled={disabled}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          <Text>\n            Book with DAI\n          </Text>\n          {loading && <InnerSpinner />}\n        </Box>\n      )}\n    </Button>\n  )\n};\n","import { PageWrapper } from './PageWrapper';\nimport { Tag, Box, Text, Image, Carousel, Spinner } from 'grommet';\nimport { useAppState } from '../store';\nimport { useMemo, useEffect, useState } from 'react';\nimport { ThemeMode } from '../components/SwitchThemeMode';\nimport { BookWithDai } from '../components/buttons/BookWithDai';\nimport { MessageBox } from '../components/MessageBox';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { getNetwork } from '../config';\nimport { centerEllipsis } from '../utils/strings';\nimport { useContract } from '../hooks/useContract';\nimport { NavLink } from 'react-router-dom';\nimport { utils } from 'ethers'\n\nexport const Space: React.FC = () => {\n  const {\n    account,\n    searchSpaces,\n    themeMode,\n    searchParams,\n    provider,\n    ipfsNode,\n    bootstrapped\n  } = useAppState();\n\n  const query = window.location.pathname.substring(7)\n  const space = useMemo(() => searchSpaces.find((space) => space.id === query), [searchSpaces, query])\n\n  const [contract, , errorContract] = useContract(provider, ipfsNode);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n  const [tokenId, setTokenId] = useState<string | undefined>();\n  const [hash, setHash] = useState('');\n\n  useEffect(() => {\n    setError(errorContract);\n  }, [errorContract]);\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash])\n\n  const handler = async () => {\n    try {\n      setLoading(true)\n      if (!contract) {\n        throw new Error('Contract is not connected');\n      }\n      if (searchParams === undefined) {\n        throw new Error('searchParams is undefined')\n      }\n      if (space === undefined) {\n        throw new Error('space is undefined')\n      }\n      if (!account) {\n        throw new Error('account is undefined')\n      }\n      if (!provider) {\n        throw new Error('provider is undefined')\n      }\n      const balance = await provider.getBalance(account)\n      const total = Number(utils.formatUnits(space.contractData.pricePerNightWei, 'ether')) * Number(searchParams.numberOfDays)\n      if (Number(utils.formatUnits(balance, 'ether')) < total) {\n        throw new Error('not enough DAI')\n      }\n      setError(undefined);\n\n      const res = await contract.book(\n        space.id,\n        searchParams.startDay,\n        searchParams.numberOfDays,\n        searchParams.guestsAmount,\n        undefined,\n        setHash\n      )\n      setTokenId(res)\n      setLoading(false)\n    } catch (error) {\n      setLoading(false)\n      setError((error as Error).message);\n    }\n  }\n\n  const isLoading = useMemo(() => !!bootstrapped && !!contract, [bootstrapped, contract])\n  const borderColor = themeMode === ThemeMode.light ? 'brand' : 'accent-1'\n\n  const searchQuery = useMemo(() => {\n    return new URLSearchParams([\n      ['startDay', String(searchParams?.startDay)],\n      ['numberOfDays', String(searchParams?.numberOfDays)],\n      ['guestsAmount', String(searchParams?.guestsAmount)],\n    ])\n  }, [searchParams])\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          label: 'Search',\n          path: `/search?${searchQuery}`\n        }\n      ]}\n    >\n      <MessageBox type='info' show={!isLoading}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={!!tokenId}>\n        <Box direction='row'>\n          <Box>\n            Booked succesfully!\n            <NavLink to={`/tokens?tokenId=${tokenId}`}> Check details </NavLink>\n          </Box>\n        </Box>\n      </MessageBox>\n\n\n      {isLoading && !space && <Box> No space with given id </Box>}\n      {isLoading && !!space && !tokenId && <Box\n        border={{ color: borderColor }}\n        flex={true}\n        align='start'\n        overflow='auto'\n        pad='medium'\n        round='small'\n      >\n        <Box pad={{ bottom: 'small' }}>\n          <Text size='xxlarge'>\n            {space.name}\n          </Text>\n          {/* <Text size='large'>\n            {space.address === undefined ? '' : <Box>\n              <Text>{space.address.country}</Text>\n              <Text>{space.address.locality}</Text>\n              <Text>{space.address.streetAddress}</Text>\n            </Box>}\n          </Text> */}\n        </Box>\n        <Box width='100%' align='center' gridArea=\"img\" height=\"xlarge\" pad={{ bottom: 'medium' }}>\n          <Carousel height='xxlarge' width='xlarge'>\n            {space.media.images?.map((space, i) =>\n              <Image\n                key={i}\n                width='xlarge'\n                fit=\"cover\"\n                alignSelf='center'\n                src={space.uri}\n              />\n            )}\n          </Carousel>\n        </Box>\n        <Box pad={{ bottom: 'small' }}>\n          <Text size='xxlarge'>\n            Info\n          </Text>\n        </Box>\n        <Box pad={{ bottom: 'medium', left: 'small' }}>\n          <Text>{space.description}</Text>\n        </Box>\n        <Box>\n          <Box pad={{ bottom: 'small' }} direction='row'>\n            <Text size='xxlarge'>Room type</Text>\n          </Box>\n          <Box pad={{ bottom: 'small' }} direction='row'>\n            <Tag value={space.type} />\n          </Box>\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' justify='between' align='center' gridArea=\"action\">\n\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' width='100%' justify='between' align='center' gridArea=\"action\">\n          <Text>Price per Night: <Text color={borderColor} size='large'>\n            {utils.formatUnits(space.contractData.pricePerNightWei, 'ether')}\n            DAI\n          </Text></Text>\n          <Box align='center'>\n            <BookWithDai\n              onClick={handler}\n              loading={loading}\n              disabled={!!tokenId}\n            />\n\n            {hashLink !== null ?\n              <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n              : null}\n          </Box>\n        </Box>\n\n        <Box width='xxlarge' pad={{ top: 'medium' }}>\n          <MessageBox type='error' show={!!error}>\n            <Box direction='row'>\n              <Box>\n                {error}\n              </Box>\n            </Box>\n          </MessageBox>\n        </Box>\n      </Box>}\n    </PageWrapper>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { Box, Layer } from 'grommet';\n\nexport interface ModalProps {\n  show: boolean;\n  onClose: () => void;\n  children: ReactNode;\n}\n\nexport const Modal = ({\n  show = false,\n  onClose,\n  children\n}: ModalProps) => {\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Box>\n      <Layer\n        onEsc={() => onClose()}\n        onClickOutside={() => onClose()}\n      >\n        <Box responsive>\n          {children}\n        </Box>\n      </Layer>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { TypedDataField } from '@ethersproject/abstract-signer';\nimport type { StaysVoucher } from 'stays-smart-contracts';\nimport { createVoucher } from 'stays-smart-contracts';\nimport { useMemo, useCallback } from 'react';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSignVoucher');\n\nconst network = getNetwork();\n\nexport { TypedDataField }\n\nexport type UseSignTypedDataHook = [\n  signCallback: (from: string, to: string, tokenId: string) => Promise<StaysVoucher>,\n  isReady: boolean\n];\n\nexport const useSignVoucher = (\n  provider: providers.JsonRpcProvider | undefined\n): UseSignTypedDataHook => {\n  const isReady = useMemo(() => !!provider, [provider]);\n\n  const signCallback = useCallback(\n    async (from: string, to: string, tokenId: string): Promise<StaysVoucher> => {\n      if (!!!provider) {\n        throw new Error('Signature provider is not ready yet');\n      }\n\n      const signer = provider.getSigner();\n      const signerAddress = await signer.getAddress();\n\n      if (from !== signerAddress) {\n        throw new Error('The signer address and \"from\" address must be equal');\n      }\n\n      if (!to) {\n        throw new Error('Stay voucher recipient not defined');\n      }\n\n      const voucher = createVoucher(\n        signer,\n        from,\n        to,\n        tokenId,\n        network.address,\n        network.chainId\n      );\n      logger.debug('Voucher', voucher);\n\n      return voucher;\n    },\n    [provider]\n  );\n\n  return [signCallback, isReady];\n};\n","import type { providers } from 'ethers';\nimport { useState, useCallback } from 'react';\nimport { Box, Button } from 'grommet';\nimport { Modal } from '../components/Modal';\nimport QRCode from 'react-qr-code';\nimport { useSignVoucher } from '../hooks/useSignVoucher';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('StayVoucherQr');\n\nexport interface StayVoucherQrProps {\n  provider: providers.JsonRpcProvider | undefined,\n  from: string | undefined,\n  to: string | undefined,\n  tokenId: string,\n  onError: (error: string) => void\n}\n\nexport const StayVoucherQr = ({\n  provider,\n  from,\n  to,\n  tokenId,\n  onError\n}: StayVoucherQrProps) => {\n  const [signCallback, isSignerReady] = useSignVoucher(provider);\n  const [qrData, setQrData] = useState<string | undefined>();\n\n  const downloadQr = (qrId: string): void => {\n    const xml = (document as any).getElementById(qrId).outerHTML;\n    const data = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(xml)}`;\n    const downloadElem = document.createElement('a');\n    downloadElem.setAttribute('href', data);\n    downloadElem.setAttribute('download', 'StaysVoucherQr.svg');\n    downloadElem.click();\n  }\n\n  const handleGetQr = useCallback(\n    async () => {\n      try {\n        if (!from) {\n          throw new Error('Signer account is not connected yet');\n        }\n\n        if (!to) {\n          throw new Error('Stay voucher recipient not defined');\n        }\n\n        const voucher = await signCallback(\n          from,\n          to,\n          tokenId\n        );\n\n        setQrData(JSON.stringify(voucher));\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message ||\n          'Unknown QrTest error'\n        onError(message);\n      }\n    },\n    [signCallback, onError, from, to, tokenId]\n  );\n\n  if (!isSignerReady) {\n    return null;\n  }\n\n  return (\n    <Box>\n\n      <Button\n        label='Get check-in QR'\n        onClick={handleGetQr}\n      />\n\n      <Modal\n        show={!!qrData && typeof qrData === 'string'}\n        onClose={() => setQrData(undefined)}\n      >\n        {typeof qrData === 'string' &&\n          <Box\n            pad='medium'\n            direction='column'\n          >\n            <Box\n              pad='medium'\n            >\n              <QRCode\n                id={qrData.substring(0, 10)}\n                value={qrData}\n              />\n            </Box>\n            <Box>\n              <Button\n                label='Download'\n                onClick={() => downloadQr(qrData.substring(0, 10))}\n              />\n            </Box>\n          </Box>\n        }\n      </Modal>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { StayToken } from 'stays-core';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useMyTokens');\n\nexport type UseMyTokensHook = [\n  tokens: StayToken[],\n  loading: boolean,\n  error: string | undefined\n];\n\nexport type UseGetTokenHook = [\n  token: StayToken | undefined,\n  facilityOwner: string | undefined,\n  loading: boolean,\n  error: string | undefined\n];\n\nexport const useMyTokens = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  account: string | undefined\n): UseMyTokensHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [tokens, setTokens] = useState<StayToken[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const loadTokens = useCallback(\n    async (owner) => {\n      if (!contract || !owner) {\n        return;\n      }\n      try {\n        setError(undefined);\n        setLoading(true);\n        logger.debug('Start loading tokens');\n\n        const tokensIds = await contract.getTokensOfOwner(owner);\n        logger.debug('tokensIds', tokensIds);\n\n        const tokensOfOwner = await Promise.all(\n          tokensIds.map(\n            tokenId => contract.getToken(tokenId)\n          )\n        );\n        setTokens(tokensOfOwner);\n        logger.debug('tokensOfOwner', tokensOfOwner);\n\n        setLoading(false);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useMyTokens error';\n        setError(message);\n        setLoading(false);\n      }\n    },\n    [contract]\n  );\n\n  useEffect(\n    () => {\n      setError(contractError);\n    },\n    [contractError]\n  );\n\n  useEffect(\n    () => {\n      loadTokens(account);\n      return () => setTokens([]);\n    },\n    [loadTokens, account]\n  );\n\n  return [tokens, loading, error];\n};\n\nexport const useGetToken = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  tokenId: string | undefined\n): UseGetTokenHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [token, setToken] = useState<StayToken | undefined>();\n  const [facilityOwner, setFacilityOwner] = useState<string | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const getToken = useCallback(\n    async (id: string | undefined) => {\n      if (!contract || !id) {\n        setToken(undefined);\n        // setToken({\n        //   tokenId: '1',\n        //   owner: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n        //   tokenUri: '',\n        //   data: {\n        //     name: 'Stays #1',\n        //     description: 'Stay at lodging facility',\n        //     image: 'https://bafybeigg7mwwpnnm6mmk3twxc4arizoyc6ijnaye3pdciwcohheo7xi7hm.ipfs.dweb.link/token-image.png',\n        //     external_url: 'https://localhost:3000/space/0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F',\n        //     attributes: [\n        //       {\n        //         trait_type: 'facilityId',\n        //         value: '0x75663CE0EB08ACE9FD7FFB90BCC405E494180FA0E2734A50E78E81FA67CF316B'\n        //       },\n        //       {\n        //         trait_type: 'spaceId',\n        //         value: '0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F'\n        //       },\n        //       {\n        //         trait_type: 'startDay',\n        //         value: '1'\n        //       },\n        //       {\n        //         trait_type: 'numberOfDays',\n        //         value: '1'\n        //       },\n        //       {\n        //         trait_type: 'quantity',\n        //         value: '1'\n        //       }\n        //     ]\n        //   }\n        // });\n        return;\n      }\n      try {\n        setError(undefined);\n        setLoading(true);\n\n        const token = await contract.getToken(id);\n        setToken(token);\n\n        const facilityIdAttribute = token.data.attributes?.find(\n          attribute => attribute.trait_type === 'facilityId'\n        );\n\n        if (!facilityIdAttribute) {\n          throw new Error(\n            'Unable to find facilityId in the Stay token metadata'\n          );\n        }\n\n        const facility = await contract.getLodgingFacility(\n          facilityIdAttribute.value\n        );\n\n        if (!facility) {\n          throw new Error(\n            `Unable to the lodging facility by Id: ${facilityIdAttribute.value}`\n          );\n        }\n\n        setFacilityOwner(facility.contractData.owner);\n\n        setLoading(false);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useGetToken error';\n        setError(message);\n        setLoading(false);\n      }\n    },\n    [contract]\n  );\n\n  useEffect(\n    () => {\n      setError(contractError);\n    },\n    [contractError]\n  );\n\n  useEffect(\n    () => {\n      getToken(tokenId);\n      return () => setToken(undefined);\n    },\n    [getToken, tokenId]\n  );\n\n  return [token, facilityOwner, loading, error];\n};\n","import type { StayToken, TokenData } from 'stays-core';\nimport { useCallback, useMemo, useState } from 'react';\nimport { DateTime } from 'luxon';\nimport * as Icons from 'grommet-icons';\nimport { Grid, Spinner, Button, Box, Card, CardBody, CardHeader, CardFooter, Image, Text } from 'grommet';\nimport { PageWrapper } from './PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { StayVoucherQr } from '../components/StayVoucherQr';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { useAppState } from '../store';\nimport { useWindowsDimension } from \"../hooks/useWindowsDimension\";\nimport { useMyTokens, useGetToken } from '../hooks/useMyTokens';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { useContract } from '../hooks/useContract';\nimport { centerEllipsis } from '../utils/strings';\nimport { getNetwork } from '../config';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { useGoToMessage } from '../hooks/useGoToMessage';\n\nconst ResponsiveColumn = (winWidth: number): string[] => {\n  if (winWidth >= 1300) {\n    return [\"21rem\", \"21rem\", \"21rem\", \"21rem\"];\n  } else if (winWidth >= 1000) {\n    return [\"21rem\", \"21rem\", \"21rem\"];\n  } else if (winWidth >= 768) {\n    return [\"23rem\", \"23rem\"];\n  } else if (winWidth >= 600) {\n    return [\"31rem\"];\n  } else if (winWidth <= 500) {\n    return [\"24rem\"];\n  } else if (winWidth <= 400) {\n    return [\"16rem\"];\n  }\n  return [];\n};\n\nexport interface TokenCardProps extends TokenData {\n  onClick?: () => void\n}\n\nexport interface TokenViewProps extends StayToken {\n  getDate: (days: number) => DateTime;\n  isGetDateReady: boolean;\n  facilityOwner: string | undefined;\n}\n\nexport const TokenCard = ({\n  image,\n  name,\n  onClick = () => { }\n}: TokenCardProps) => {\n  return (\n    <Box margin='medium'>\n      <Card\n        background='light-1'\n        elevation='small'\n        onClick={() => onClick()}\n      >\n        <CardBody pad='small'>\n          <Image\n            fit='cover'\n            src={image}\n          />\n        </CardBody>\n        <CardFooter\n          pad={{ horizontal: 'small' }}\n          background='light-2'\n        >\n          <Box pad='small'>\n            <Text size=\"xlarge\" weight=\"bold\">\n              {name}\n            </Text>\n          </Box>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n\nexport const TokenView = ({\n  tokenId,\n  owner,\n  getDate,\n  isGetDateReady,\n  facilityOwner,\n  status,\n  data: {\n    name,\n    description,\n    image,\n    attributes\n  }\n}: TokenViewProps ) => {\n  const { provider, ipfsNode } = useAppState();\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const navigate = useNavigate();\n  const showMessage = useGoToMessage();\n  const [cancelLoading, setCancelLoading] = useState<boolean>(false);\n  const [cancellationTxHash, setCancellationTxHash] = useState<string | undefined>();\n  const [error, setError] = useState<string | undefined>();\n  const cancellationTxHashLink = useMemo(() => {\n    const network = getNetwork()\n    return cancellationTxHash ? `${network.blockExplorer}/tx/${cancellationTxHash}` : '#'\n  }, [cancellationTxHash]);\n\n  const parseTrait = (trait: string, value: any): any => {\n    switch (trait) {\n      case 'startDay':\n        return getDate(Number(value)).toISODate();\n      case 'facilityId':\n        return centerEllipsis(value);\n      case 'spaceId':\n        return centerEllipsis(value);\n      default:\n        return value;\n    }\n  };\n\n  const cancelTx = useCallback(\n    async () => {\n      setError(undefined);\n      setCancellationTxHash(undefined);\n      if (!contract) {\n        return;\n      }\n      try {\n        setCancelLoading(true);\n        await contract.cancel(tokenId, undefined, setCancellationTxHash);\n        setCancelLoading(false);\n        // Show success message;\n        showMessage(\n          `Stay token #${tokenId} is successfully cancelled. All funds are fully refunded`,\n          'info'\n        );\n      } catch (err) {\n        setError((err as Error).message || 'Unknown cancellation error');\n        setCancelLoading(false);\n      }\n    },\n    [showMessage, contract, tokenId]\n  );\n\n  if (!isGetDateReady) {\n    return null;\n  }\n\n  return (\n    <Box\n      alignSelf='center'\n      direction='column'\n      pad={{ bottom: 'medium' }}\n    >\n      <Card\n        width='large'\n      >\n        <CardBody>\n          <CardHeader\n            pad={{ horizontal: 'small' }}\n            background='light-2'\n            justify='end'\n          >\n            <Button\n              icon={<Icons.Close color=\"plain\" />}\n              hoverIndicator\n              onClick={() => navigate('/tokens', { replace: true })}\n            />\n          </CardHeader>\n          <Image\n            fit='cover'\n            src={image}\n          />\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Status</Text>\n            </Box>\n            <Box>\n              <Text>{status ?? 'unknown'}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Name</Text>\n            </Box>\n            <Box>\n              <Text>{name}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Description</Text>\n            </Box>\n            <Box>\n              <Text>{description}</Text>\n            </Box>\n          </Grid>\n\n          {attributes?.map(\n            ({ trait_type, value }, index) => (\n              <Grid\n                key={index}\n                fill='horizontal'\n                pad='small'\n                border='bottom'\n                columns={['small', 'auto']}\n                responsive\n              >\n                <Box>\n                  <Text weight='bold'>{trait_type}</Text>\n                </Box>\n                <Box>\n                  <Text>{parseTrait(trait_type, value)}</Text>\n                </Box>\n              </Grid>\n            )\n          )}\n        </CardBody>\n        <CardFooter pad='medium'>\n          <StayVoucherQr\n            provider={provider}\n            from={owner}\n            to={facilityOwner}\n            tokenId={tokenId}\n            onError={err => setError(err)}\n          />\n\n          {status === 'booked' &&\n            <Box>\n              <Button\n                label={\n                  <Box direction='row'>\n                    <Box>\n                      <Text>Cancel and get refund</Text>\n                    </Box>\n                    {cancelLoading &&\n                      <Box pad={{ left: 'small' }}>\n                        <Spinner />\n                      </Box>\n                    }\n                  </Box>\n                }\n                disabled={cancelLoading}\n                onClick={cancelTx}\n              />\n              {!!cancellationTxHash\n                ? <ExternalLink\n                    href={cancellationTxHashLink}\n                    label={centerEllipsis(cancellationTxHash)}\n                  />\n                : null\n              }\n            </Box>\n          }\n        </CardFooter>\n      </Card>\n\n      <MessageBox type='error' show={!!error}>\n        <Box>\n          {error}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!contractError}>\n        <Box>\n          {contractError}\n        </Box>\n      </MessageBox>\n    </Box>\n  );\n};\n\nexport const MyTokens = () => {\n  const { provider, ipfsNode, account } = useAppState();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [getDate, isGetDateReady, getDateError] = useDayZero(provider, ipfsNode);\n  const tokenId = useMemo(\n    () => searchParams.get('tokenId') || undefined,\n    [searchParams]\n  );\n  const [tokens, tokensLoading, tokensError] = useMyTokens(\n    provider,\n    ipfsNode,\n    account\n  );\n  const [token, facilityOwner, tokenLoading, tokenError] = useGetToken(\n    provider,\n    ipfsNode,\n    tokenId\n  );\n  const { winWidth } = useWindowsDimension();\n  const isLoading = useMemo(\n    () => tokensLoading || tokenLoading || !isGetDateReady,\n    [tokensLoading, tokenLoading, isGetDateReady]\n  );\n\n\n  // const tokensTest: StayToken[] = [\n  //   {\n  //     tokenId: '1',\n  //     owner: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n  //     tokenUri: '',\n  //     data: {\n  //       name: 'Stays #1',\n  //       description: 'Stay at lodging facility',\n  //       image: 'https://bafybeigg7mwwpnnm6mmk3twxc4arizoyc6ijnaye3pdciwcohheo7xi7hm.ipfs.dweb.link/token-image.png',\n  //       external_url: 'https://localhost:3000/space/0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F',\n  //       attributes: [\n  //         {\n  //           trait_type: 'facilityId',\n  //           value: '0x75663CE0EB08ACE9FD7FFB90BCC405E494180FA0E2734A50E78E81FA67CF316B'\n  //         },\n  //         {\n  //           trait_type: 'spaceId',\n  //           value: '0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F'\n  //         },\n  //         {\n  //           trait_type: 'startDay',\n  //           value: '10000'\n  //         },\n  //         {\n  //           trait_type: 'numberOfDays',\n  //           value: '1'\n  //         },\n  //         {\n  //           trait_type: 'quantity',\n  //           value: '1'\n  //         }\n  //       ]\n  //     }\n  //   }\n  // ];\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home',\n        },\n      ]}\n    >\n      {token &&\n        <TokenView\n          getDate={getDate}\n          isGetDateReady={isGetDateReady}\n          facilityOwner={facilityOwner}\n          {...token}\n        />\n      }\n\n      <MessageBox type='info' show={isLoading}>\n        <Box direction='row'>\n          <Box>\n            Tokens data is loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={!isLoading && (!tokens || tokens.length === 0)}>\n        <Box>\n          Tokens list is empty. It is a time to book a stay!\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!tokensError}>\n        <Box>\n          {tokensError}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!tokenError}>\n        <Box>\n          {tokenError}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!getDateError}>\n        <Box>\n          {getDateError}\n        </Box>\n      </MessageBox>\n\n      <Grid\n        alignSelf=\"center\"\n        columns={ResponsiveColumn(winWidth)}\n        responsive={true}\n      >\n        {tokens?.map(({ tokenId, data }, index) => (\n          <TokenCard\n            key={index}\n            onClick={() => setSearchParams({ tokenId })}\n            {...data}\n          />\n        ))}\n      </Grid>\n    </PageWrapper>\n  );\n};\n","import { Button, Box } from 'grommet';\nimport React, { useState } from 'react';\nimport { QrReader as QrCodeReader } from 'react-qr-reader';\nimport { Modal } from './Modal';\n\nexport const QrReader: React.FC<{\n  onScan(data: string): void;\n  onError(data: string): void\n}> = ({ onScan,onError }) => {\n  const [show, setShow] = useState(false);\n\n  return (\n    <Box>\n      <Button label='Scan QR' onClick={() => setShow(true)} />\n      <Modal\n        show={show}\n        onClose={() => setShow(false)}\n      >\n        <Box\n          pad='medium'\n          direction='column'\n          width='medium'\n        >\n          <QrCodeReader\n            constraints={{ facingMode: 'user' }}\n            onResult={(result, error) => {\n              if (error) {\n                onError(error.message);\n              }\n              if (!!result) {\n                onScan(result.getText())\n                setShow(false)\n              }\n            }}\n          />\n        </Box>\n      </Modal>\n    </Box>\n  );\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Box, Spinner } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { QrReader } from '../components/QrReader';\nimport { useAppState } from '../store';\nimport { useContract } from '../hooks/useContract';\nimport { MessageBox } from '../components/MessageBox';\nimport { StaysVoucher } from 'stays-smart-contracts';\nimport { getNetwork } from '../config';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { centerEllipsis } from '../utils/strings';\n\nexport const CheckIn = (): JSX.Element => {\n  const {\n    isBootstrapLoading,\n    isIpfsNodeConnecting,\n    provider,\n    ipfsNode,\n    bootstrapped\n  } = useAppState();\n\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n\n  const [hash, setHash] = useState('');\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const handleCheckIn = useCallback(\n    async (data: string) => {\n      try {\n        setLoading(true)\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n        setError(undefined);\n\n        const parsedData: StaysVoucher = JSON.parse(data)\n        await contract.checkIn(\n          parsedData.tokenId,\n          parsedData,\n          undefined,\n          setHash,\n          undefined\n        )\n        setLoading(false)\n      } catch (error) {\n        setLoading(false)\n        setError((error as Error).message);\n\n      }\n    }, [contract, setError, setLoading, setHash])\n\n  return (\n    <>\n      <PageWrapper\n        breadcrumbs={[\n          {\n            path: \"/\",\n            label: \"Home\",\n          },\n        ]}\n      >\n        <MessageBox type='info' show={isIpfsNodeConnecting || isBootstrapLoading || loadingContract}>\n          <Box direction='row'>\n            <Box>\n              The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n            </Box>\n            <Spinner />\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!error}>\n          <Box direction='row'>\n            <Box>\n              {error}\n            </Box>\n          </Box>\n        </MessageBox>\n\n        {(!!bootstrapped && !!contract) &&\n          <Box\n            alignSelf=\"center\"\n            style={{\n              paddingBottom: 50,\n              width: \"100%\",\n            }}\n          >\n            <QrReader onError={setError} onScan={handleCheckIn} />\n            {hashLink !== null ?\n              <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n              : null}\n\n            {loading ? <Spinner color='accent-1' alignSelf='center' size='medium' /> : null}\n          </Box>\n        }\n      </PageWrapper>\n    </>\n  );\n};\n","import type { StayToken } from 'stays-core';\nimport { useMemo, useState } from 'react';\nimport { DateTime } from 'luxon';\nimport * as Icons from 'grommet-icons';\nimport { Grid, Button, Box, Card, CardBody, CardHeader, CardFooter, Image, Text, Spinner } from 'grommet';\nimport { centerEllipsis } from '../../utils/strings';\nimport { TxHashCallbackFn } from 'stays-core/dist/src/utils/sendHelper';\nimport { getNetwork } from '../../config';\nimport { ExternalLink } from '../ExternalLink';\nimport styled from 'styled-components';\nimport { MessageBox } from '../MessageBox';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\n\nexport interface CheckOutProps extends StayToken {\n  getDate: (days: number) => DateTime;\n  facilityOwner: string | undefined;\n  checkOut: (\n    tokenId: string,\n    checkOutDate: DateTime,\n    transactionHashCb?: TxHashCallbackFn\n  ) => void;\n  onClose: () => void;\n  loading: boolean;\n  error: string | undefined;\n}\n\nexport const CheckOutView = ({\n  tokenId,\n  getDate,\n  status,\n  data: {\n    name,\n    description,\n    image,\n    attributes\n  },\n  checkOut,\n  onClose,\n  loading,\n  error\n}: CheckOutProps) => {\n  const startDay = attributes?.find(attr => attr.trait_type === 'startDay')\n  const numberOfDays = attributes?.find(attr => attr.trait_type === 'numberOfDays')\n  const checkOutDate = getDate(Number(numberOfDays?.value) + Number(startDay?.value))\n\n  const [hash, setHash] = useState('');\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash])\n\n  const parseTrait = (trait: string, value: any): any => {\n    switch (trait) {\n      case 'startDay':\n        return getDate(Number(value)).toISODate();\n      case 'facilityId':\n        return centerEllipsis(value);\n      case 'spaceId':\n        return centerEllipsis(value);\n      default:\n        return value;\n    }\n  };\n\n  return (\n    <Box\n      alignSelf='center'\n      direction='column'\n      pad={{ bottom: 'medium' }}\n    >\n      <Card\n        width='large'\n      >\n        <CardBody>\n          <CardHeader\n            pad={{ horizontal: 'small' }}\n            background='light-2'\n            justify='end'\n          >\n            <Button\n              icon={<Icons.Close color=\"plain\" />}\n              hoverIndicator\n              onClick={() => onClose()}\n            />\n          </CardHeader>\n          <Image\n            fit='cover'\n            src={image}\n          />\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Status</Text>\n            </Box>\n            <Box>\n              <Text>{status ?? 'unknown'}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Name</Text>\n            </Box>\n            <Box>\n              <Text>{name}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Description</Text>\n            </Box>\n            <Box>\n              <Text>{description}</Text>\n            </Box>\n          </Grid>\n\n          {attributes?.map(\n            ({ trait_type, value }, index) => (\n              <Grid\n                key={index}\n                fill='horizontal'\n                pad='small'\n                border='bottom'\n                columns={['small', 'auto']}\n                responsive\n              >\n                <Box>\n                  <Text weight='bold'>{trait_type}</Text>\n                </Box>\n                <Box>\n                  <Text>{parseTrait(trait_type, value)}</Text>\n                </Box>\n              </Grid>\n            )\n          )}\n        </CardBody>\n        <CardFooter pad='medium'>\n          <Button onClick={() => checkOut(tokenId, checkOutDate, setHash)} >\n            {() => (\n              <Box direction='row' align='center' pad='small'>\n                <Text>\n                  Check out\n                </Text>\n                {loading && <InnerSpinner />}\n              </Box>\n            )}\n          </Button>\n          {hashLink !== null ?\n            <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n            : null}\n          <MessageBox type='error' show={!!error}>\n            <Box direction='row'>\n              <Box>\n                {error}\n              </Box>\n            </Box>\n          </MessageBox>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n","import type { TokenData } from 'stays-core';\nimport { Box, Card, CardBody, CardFooter, Image, Text } from 'grommet';\n\nexport interface CheckOutCardProps extends TokenData {\n  onClick?: () => void\n}\n\nexport const CheckOutCard = ({\n  image,\n  name,\n  onClick = () => { }\n}: CheckOutCardProps) => {\n  return (\n    <Box margin='medium'>\n      <Card\n        background='light-1'\n        elevation='small'\n        onClick={() => onClick()}\n      >\n        <CardBody pad='small'>\n          <Image\n            fit='cover'\n            src={image}\n          />\n        </CardBody>\n        <CardFooter\n          pad={{ horizontal: 'small' }}\n          background='light-2'\n        >\n          <Box pad='small'>\n            <Text size=\"xlarge\" weight=\"bold\">\n              {name}\n            </Text>\n          </Box>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\nimport { TxHashCallbackFn } from 'stays-core/dist/src/utils/sendHelper';\nimport { DateTime } from 'luxon';\n\n// Initialize logger\nconst logger = Logger('useCheckOut');\n\nexport type UseProceedCheckOut = [\n  checkOut: (\n    tokenId: string,\n    checkOutDate: DateTime,\n    transactionHashCb?: TxHashCallbackFn\n  ) => void,\n  isReady: boolean,\n  loading: boolean,\n  error: string | undefined,\n];\n\n// useCheckOut react hook\nexport const useCheckOut = (\n  account: string | undefined,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n): UseProceedCheckOut => {\n  const [contract, , contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (contractError) {\n      setError(contractError);\n    }\n  }, [contractError]);\n\n  useEffect(() => {\n    if (!!contract) {\n      setIsReady(true);\n    }\n  }, [contract]);\n\n  const checkOut = useCallback(\n    async (tokenId: string, checkOutDate: DateTime, transactionHashCb?: TxHashCallbackFn) => {\n      setLoading(true)\n      if (!contract || !account || !tokenId) {\n        return;\n      }\n      setError(undefined);\n\n      try {\n        const now = DateTime.now()\n        if (now.toMillis() < checkOutDate.toMillis()) {\n          throw new Error(`Check out not available yet (check out date: ${checkOutDate.toLocaleString()} )`)\n        }\n\n        await contract.checkOut(tokenId, undefined, transactionHashCb);\n        setLoading(false)\n      } catch (error) {\n        logger.error(error);\n        const message = (error as Error).message || 'Unknown useCheckOut out error'\n        setError(message);\n        setLoading(false)\n      }\n    },\n    [contract, account]\n  );\n\n  return [checkOut, isReady, loading, error];\n};\n","import type { OwnerLodgingFacility, OwnerSpace } from '../store/actions';\nimport { useState } from 'react';\nimport { Box, Button, Grid, Spinner } from 'grommet';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { PageWrapper } from './PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { useAppState } from '../store';\nimport { StayToken } from 'stays-core';\nimport { useWindowsDimension } from '../hooks/useWindowsDimension';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { CheckOutView } from '../components/checkOut/CheckOutView';\nimport { CheckOutCard } from '../components/checkOut/CheckOutCard';\nimport { useCheckOut } from '../hooks/useCheckOut';\n\nconst ResponsiveColumn = (winWidth: number): string[] => {\n  if (winWidth >= 1300) {\n    return [\"21rem\", \"21rem\"];\n  } else if (winWidth >= 1000) {\n    return [\"21rem\", \"21rem\"];\n  } else if (winWidth >= 768) {\n    return [\"21rem\"];\n  } else if (winWidth >= 600) {\n    return [\"31rem\"];\n  } else if (winWidth <= 500) {\n    return [\"24rem\"];\n  } else if (winWidth <= 400) {\n    return [\"16rem\"];\n  }\n  return [];\n};\n\nconst FacilityList: React.FC<{\n  facilities: OwnerLodgingFacility[],\n  onSelect(facility: OwnerLodgingFacility): void\n}> = ({ facilities, onSelect }) => {\n  if (!facilities) {\n    return null\n  }\n  return <Box>\n    {facilities.map((facility, i) => (<Box key={i}>\n      <Button\n        onClick={() => onSelect(facility)}\n        label={facility.name}\n        margin={{ bottom: 'small' }}\n      />\n    </Box>))}\n\n    <NavLink to='/facilities/add'>\n      Add new facility\n    </NavLink>\n  </Box>\n}\n\nconst SpacesList: React.FC<{\n  facility: OwnerLodgingFacility | undefined,\n  onSelect(tokens: StayToken[]): void\n}> = ({ facility, onSelect }) => {\n  if (!facility || !facility.spaces) {\n    return null\n  }\n  return <Box direction='row'>\n    {facility.spaces.map((space: OwnerSpace, i) => (<Box key={i}>\n      <Button\n        onClick={() => onSelect(space.tokens)}\n        label={space.name}\n      />\n    </Box>))}\n  </Box>\n}\n\nexport const Facilities = () => {\n  const navigate = useNavigate();\n\n  const {\n    account,\n    isIpfsNodeConnecting,\n    ownFacilities,\n    ownFacilitiesLoading,\n    provider,\n    ipfsNode,\n  } = useAppState();\n\n  const { winWidth } = useWindowsDimension();\n  const [getDate, isGetDateReady,] = useDayZero(provider, ipfsNode);\n\n  const [checkOut, isReady, checkOutLoading, checkOutError] = useCheckOut(\n    account,\n    provider,\n    ipfsNode,\n  )\n\n  const [selectedFacility, setSelectedFacility] = useState<OwnerLodgingFacility | undefined>()\n\n  const [tokens, setTokens] = useState<StayToken[]>([])\n  const [selectedToken, setSelectedToken] = useState<StayToken | undefined>()\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <MessageBox type='info' show={isIpfsNodeConnecting || !!ownFacilitiesLoading}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <Grid\n        fill='horizontal'\n        pad='small'\n        columns={['medium', 'auto']}\n        responsive\n        gap='medium'\n      >\n\n        <FacilityList facilities={ownFacilities ?? []} onSelect={setSelectedFacility} />\n\n        <Box direction='column'>\n          <SpacesList onSelect={setTokens} facility={selectedFacility} />\n\n          {selectedFacility &&\n            <Box direction='column' margin={{ top: 'small' }}>\n              <Box width='200px'>\n                <Button\n                  primary\n                  label='Edit the facility'\n                  onClick={() => navigate(\n                    `/facilities/edit/${selectedFacility.contractData.lodgingFacilityId}`\n                  )}\n                />\n              </Box>\n            </Box>\n          }\n\n          <Box margin={{ top: 'small' }}>\n            {selectedToken && isGetDateReady && isReady &&\n              <CheckOutView\n                getDate={getDate}\n                facilityOwner={account}\n                {...selectedToken}\n                onClose={() => setSelectedToken(undefined)}\n                checkOut={checkOut}\n                error={checkOutError}\n                loading={checkOutLoading}\n              />\n            }\n            <Grid\n              fill\n              alignSelf=\"center\"\n              columns={ResponsiveColumn(winWidth)}\n              responsive={true}\n            >\n              {tokens?.map((token, index) => (\n                <CheckOutCard\n                  key={index}\n                  onClick={() => setSelectedToken(token)}\n                  {...token.data}\n                />\n              ))}\n            </Grid>\n          </Box>\n        </Box>\n      </Grid>\n\n    </PageWrapper>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { useMemo } from 'react';\nimport { useRoutes, useNavigate } from 'react-router-dom';\nimport { Menu } from 'grommet';\nimport { Menu as MenuIcon } from 'grommet-icons';\nimport { useAppState } from '../store';\nimport { Protected } from './Protected';\n\n// Pages\nimport { Home } from '../pages/Home';\nimport { Message } from '../pages/Message';\nimport { Search } from '../pages/Search';\n// import { Rooms } from \"../pages/Rooms\";\n// import { RoomProfile } from \"../pages/RoomProfile\";\nimport { FacilityProfile } from \"../pages/FacilityProfile\";\nimport { Space } from '../pages/Space';\nimport { MyTokens } from '../pages/MyTokens';\nimport { CheckIn } from '../pages/CheckIn';\nimport { Facilities } from '../pages/Facilities';\n\nexport interface RouteConfig {\n  path: string;\n  element: ReactNode;\n  title: string;\n  label?: string;\n  protected?: boolean;\n}\n\nexport type Routes = RouteConfig[];\n\nexport const pagesRoutesConfig: Routes = [\n  {\n    path: \"/\",\n    element: <Home />,\n    title: \"Stays\",\n    label: \"Home\",\n  },\n  {\n    path: '/message',\n    element: <Message />,\n    title: 'Useful information'\n  },\n  {\n    path: \"/search\",\n    element: <Search />,\n    title: \"Search for lodging facility\",\n  },\n  // {\n  //   path: \"/rooms\",\n  //   element: <Rooms />,\n  //   title: \"Rooms\",\n  //   label: \"Rooms\",\n  //   protected: true,\n  // },\n  // {\n  //   path: \"/rooms/add\",\n  //   element: <RoomProfile />,\n  //   title: \"Add New Room\",\n  //   protected: true,\n  // },\n  {\n    path: \"/space/:id\",\n    element: <Space />,\n    title: \"Search for lodging facility\",\n    protected: true,\n  },\n  {\n    path: '/tokens',\n    element: <MyTokens />,\n    title: 'My Stay Tokens',\n    label: \"My Tokens\",\n    protected: true,\n  },\n  {\n    path: '/check-in',\n    element: <CheckIn />,\n    title: 'Check In',\n    label: 'Check In',\n    protected: true,\n  },\n  {\n    path: '/facilities',\n    element: <Facilities />,\n    title: 'My Lodging Facilities',\n    label: 'Lodging Facilities',\n    protected: true,\n  },\n  {\n    path: \"/facilities/add\",\n    element: <FacilityProfile />,\n    title: \"Add New Lodging Facility\",\n    protected: true,\n  },\n  {\n    path: \"/facilities/edit/:id\",\n    element: <FacilityProfile />,\n    title: \"Edit Lodging Facility\",\n    protected: true,\n  },\n];\n\nexport const processPagesConfig = (config: Routes): Routes =>\n  config.map(\n    (route: RouteConfig) => route.protected\n      ? {\n        ...route,\n        element: <Protected component={route.element} />\n      }\n      : route\n  );\n\nexport const AppRoutes = () => useRoutes(\n  useMemo(\n    () => processPagesConfig(pagesRoutesConfig), []\n  )\n);\n\nexport const GlobalMenu = () => {\n  const { isConnecting } = useAppState();\n  const navigate = useNavigate();\n  const buildMenuConfig = useMemo(\n    () => pagesRoutesConfig\n      .reduce<Routes>(\n        (a, v) => ([\n          ...a,\n          ...(\n            v.label // Items without labels are ignored\n              ? [\n                {\n                  ...v,\n                  onClick: () => navigate(v.path)\n                }\n              ]\n              : []\n          )\n        ]),\n        []\n      ),\n    [navigate]\n  );\n\n  return (\n    <Menu\n      disabled={isConnecting}\n      icon={(<MenuIcon />)}\n      items={buildMenuConfig}\n    />\n  );\n};\n","import { useContext } from 'react';\nimport { useState, useMemo } from 'react';\nimport Blockies from 'react-blockies';\nimport styled from 'styled-components';\nimport { Box, Text, Notification, ResponsiveContext } from 'grommet';\nimport { centerEllipsis, copyToClipboard } from '../utils/strings';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('Account');\n\nexport interface AccountProps {\n  account?: string;\n}\n\nconst AccountIcon = styled(Blockies)`\n  border-radius: 50%;\n`;\n\nconst AccountHash = styled(Text)`\n  margin-left: 8px;\n  cursor: pointer;\n`;\n\nexport const Account = ({ account }: AccountProps) => {\n  const size = useContext(ResponsiveContext);\n  const [notification, setNotification] = useState<boolean>(false);\n  const shortAccount = useMemo(() => centerEllipsis(account || ''), [account]);\n\n  if (!account) {\n    return null;\n  }\n\n  return (\n    <Box\n      direction='row'\n      align='center'\n      pad='small'\n      onClick={() => {\n        copyToClipboard(account);\n        logger.debug('Copied to clipboard', account);\n        setNotification(true);\n        setTimeout(() => setNotification(false), 1000);\n      }}\n    >\n      <AccountIcon\n        seed={account}\n        size={7}\n        scale={4}\n      />\n      {size !== 'small' &&\n        <AccountHash>\n          {shortAccount}\n        </AccountHash>\n      }\n      {notification &&\n        <Notification\n          toast\n          title='Copied to clipboard'\n          status='normal'\n        />\n      }\n    </Box>\n  );\n};\n","import { useContext, useMemo } from 'react';\nimport { useNavigate, useLocation, Navigate } from 'react-router-dom';\nimport { Image, Header, Heading, Box, ResponsiveContext } from 'grommet';\nimport { useAppState } from '../store';\nimport { usePageTitle } from '../hooks/usePageTitle';\nimport { Account } from '../components/Account';\nimport { SignInButton, SignOutButton } from '../components/buttons/web3Modal';\nimport { SwitchThemeMode } from './SwitchThemeMode';\nimport { GlobalMenu } from './Routes';\n\nexport const AppHeader = () => {\n  const size = useContext(ResponsiveContext);\n  const { state } = useLocation();\n  const navigate = useNavigate();\n  const { account } = useAppState();\n  const title = usePageTitle();\n  const returnLocation = useMemo(\n    () => (state as any)?.location as Location,\n    [state]\n  );\n\n  return (\n    <Header\n      background='light-1'\n      pad={size}\n      responsive={true}\n    >\n      {(returnLocation && account) &&\n        <Navigate to={returnLocation} state={null} />\n      }\n      <Box direction='row' align='center' gap={size}>\n        <Image\n          src='/wt-logo.png'\n          fit='cover'\n          width='40rem'\n          height='40rem'\n          onClick={() => navigate('/')}\n        />\n        <Heading size='small'>{title}</Heading>\n      </Box>\n      <Box direction='row' align='center' gap={size}>\n        <Account account={account} />\n        <Box>\n          {account\n            ? <SignOutButton />\n            : <SignInButton />\n          }\n        </Box>\n        <GlobalMenu />\n        <SwitchThemeMode />\n      </Box>\n    </Header>\n  );\n};\n","import type { RouteMatch } from 'react-router-dom';\nimport type { RouteConfig } from '../components/Routes';\nimport { useMemo } from 'react';\nimport { useLocation, matchRoutes } from 'react-router-dom';\nimport { pagesRoutesConfig } from '../components/Routes';\n\nexport const UNKNOWN_PAGE_TITLE = '404';\n\nexport const getPageTitle = (routes: RouteMatch[] | null): string =>\n  routes\n    ? (routes[0].route as RouteConfig).title || UNKNOWN_PAGE_TITLE\n    : UNKNOWN_PAGE_TITLE;\n\nexport const usePageTitle = (): string => {\n  const location = useLocation();\n\n  return useMemo(\n    () => getPageTitle(\n      matchRoutes(pagesRoutesConfig, location)\n    ),\n    [location])\n  ;\n};\n","import { Main } from 'grommet';\nimport { AppStateProvider } from './store';\nimport { GlobalStyle } from './GlobalStyle';\nimport { AppHeader } from './components/AppHeader';\nimport { AppRoutes } from './components/Routes';\n\nconst App = () => {\n\n  return (\n    <AppStateProvider>\n      <GlobalStyle>\n        <Main\n          fill\n          responsive\n        >\n          <AppHeader />\n          <AppRoutes />\n        </Main>\n      </GlobalStyle>\n    </AppStateProvider>\n  );\n}\n\nexport default App;\n","import { BrowserRouter } from 'react-router-dom';\nimport { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport './reset.css';\n\nconst renderApp = () => {\n  render(\n    <StrictMode>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </StrictMode>,\n    document.getElementById('root')\n  );\n};\n\nrenderApp();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",null,null,null,null,null,null,null,null],"sourceRoot":""}