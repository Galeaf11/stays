{"version":3,"sources":["../../../../src/apis/web3Storage.ts","../../../../src/apis/base.ts","../../../src/voucher.ts","../../../typechain/index.ts","../../../../typechain/factories/IERC1271__factory.ts","../../../../typechain/factories/ERC721__factory.ts","../../../../typechain/factories/ERC721Enumerable__factory.ts","../../../../typechain/factories/ERC721URIStorage__factory.ts","../../../../typechain/factories/IERC721Enumerable__factory.ts","../../../../typechain/factories/IERC721Metadata__factory.ts","../../../../typechain/factories/IERC721__factory.ts","../../../../typechain/factories/IERC721Receiver__factory.ts","../../../../typechain/factories/ERC165__factory.ts","../../../../typechain/factories/IERC165__factory.ts","../../../../typechain/factories/IStayEscrow__factory.ts","../../../../typechain/factories/IStays__factory.ts","../../../../typechain/factories/StayEscrow__factory.ts","../../../../typechain/factories/Stays__factory.ts","../../../../src/api/getLodgingFacilityIds.ts","../../../../src/api/getNewAndUpdatedFacilityIds.ts","../../../../src/api/getLodgingFacilityIdsByOwner.ts","../../../../src/api/getSpaceIds.ts","../../../../src/api/getAvailability.ts","../../../../src/api/getLodgingFacility.ts","../../../../src/utils/ipfs.ts","../../../../src/utils/repeater.ts","../../../../src/api/getSpace.ts","../../../../src/api/getTokensBySpaceId.ts","../../../../src/api/registerLodgingFacility.ts","../../../../src/api/updateLodgingFacility.ts","../../../../src/api/addSpace.ts","../../../../src/api/book.ts","../../../../src/api/nft.ts","../../../../src/api/getDayZero.ts","../../../../src/api/checkIn.ts","../../../../src/api/checkOut.ts","../../../../src/api/cancel.ts","../../../src/faker.ts","reportWebVitals.ts","components/SwitchThemeMode.tsx","utils/logger.ts","store/recordsReducer.ts","store/ownFacilitiesReducer.ts","config.ts","store/localStorage.ts","store/reducer.ts","hooks/useWeb3Modal.ts","hooks/useRpcProvider.ts","hooks/useNetworkId.ts","hooks/useAccount.ts","hooks/useWeb3StorageApi.ts","hooks/useContract.ts","hooks/usePoller.ts","hooks/useSmartContractData.ts","hooks/useOwnFacilities.ts","store/index.tsx","hooks/useIpfsNode.ts","GlobalStyle.tsx","components/Protected.tsx","components/Breadcrumbs.tsx","components/MessageBox.tsx","pages/PageWrapper.tsx","components/search/SearchForm.tsx","hooks/useDayZero.ts","pages/Home.tsx","pages/Message.tsx","components/buttons/web3Modal.tsx","components/SearchResultCard.tsx","hooks/useSpaceAvailability.ts","hooks/useSpaceSearch.ts","pages/Search.tsx","components/ExternalLink.tsx","utils/strings.ts","hooks/useWindowsDimension.ts","hooks/useGoToMessage.ts","utils/roomProfile.ts","components/rooms/FacilityProfileCard.tsx","pages/FacilityProfile.tsx","components/buttons/BookWithDai.tsx","pages/Space.tsx","components/Modal.tsx","hooks/useSignVoucher.ts","components/StayVoucherQr.tsx","hooks/useMyTokens.ts","pages/MyTokens.tsx","components/QrReader.tsx","pages/CheckIn.tsx","components/checkOut/CheckOutView.tsx","components/checkOut/CheckOutCard.tsx","hooks/useCheckOut.ts","pages/Facilities.tsx","components/Routes.tsx","components/Account.tsx","components/AppHeader.tsx","hooks/usePageTitle.ts","App.tsx","index.tsx","../../../../src/utils/sendHelper.ts","../../../src/index.ts","../../../../src/utils/dataUri.ts","../../../src/enum.ts","../../index.ts","../../../src/validators.ts","../../../../src/utils/index.ts","../../../src/schemas.ts"],"names":["web3StorageApiPath","token","gateway","_super","Error","_this","authToken","ipfsGateway","__extends","Web3StorageApi","file","_b","request","arrayBuffer","_d","__assign","authHeader","name","cid","cat","Promise","resolve","org_id_utils_1","concat","undefined","_a","base_1","exports","signer","from","to","tokenId","verifyingContract","chainId","__awaiter","voucher","domain","version","signature","_signTypedData","Voucher","type","Object","enumerable","get","_abi","inputs","internalType","outputs","stateMutability","IERC1271__factory","ethers_1","Interface","address","signerOrProvider","anonymous","indexed","_bytecode","ERC721__factory","constructor","args","length","contractName","deploy","name_","symbol_","overrides","getDeployTransaction","attach","connect","ERC721Enumerable__factory","ERC721URIStorage__factory","IERC721Enumerable__factory","IERC721Metadata__factory","IERC721__factory","IERC721Receiver__factory","ERC165__factory","IERC165__factory","IStayEscrow__factory","components","IStays__factory","StayEscrow__factory","Stays__factory","contract","active","getActiveLodgingFacilityIds","getAllLodgingFacilityIds","fromBlock","facilitiesIds","Set","facilityCreatedFilter","filters","LodgingFacilityCreated","facilityUpdatedFilter","LodgingFacilityUpdated","spaceCreatedFilter","SpaceAdded","spaceUpdatedFilter","SpaceUpdated","queryFilter","forEach","event","add","facilityId","Array","owner","getLodgingFacilityIdsByOwner","lodgingFacilityId","getActiveSpaceIdsByFacilityId","getSpaceIdsByFacilityId","spaceId","startDay","numberOfDays","getAvailability","map","a","toNumber","web3Storage","exists","dataURI","getLodgingFacilityById","data","contractData","spaces","updated","luxon_1","now","toISO","rawResource","race","_","reject","setTimeout","JSON","parse","error","callback","maxTries","tries","capacity","pricePerNightWei","getSpaceById","toString","state","getTokensBySpaceId","t","profileData","fren","transactionHashCb","confirmations","profileDataFile","ipfs_apis_1","obj2File","simpleUid","events","find","e","quantity","value","mul","balance","balanceOf","tokens","i","tokenOfOwnerByIndex","push","ownerOf","tokenUri","tokenURI","attributes","trait_type","status","depositState","dayZero","checkedInTokenId","checkedOutTokenId","cancelledTokenId","array","Math","floor","random","count","fill","country","faker_1","countryCode","subdivision","datatype","number","max","locality","cityName","postalCode","zipCode","streetAddress","premise","secondaryAddress","gps","latitude","longitude","description","lorem","sentence","uri","image","city","company","companyName","lines","enum_1","tier","operator","media","logo","abstract","images","min","guestsNumber","beds","price","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ThemeMode","logFunction","subject","console","log","Logger","debug","info","logger","recordsReducer","action","records","payload","record","id","knownRecord","filter","r","restRecords","message","ownFacilitiesReducer","ownFacilities","ownFacilitiesLoading","ownFacilitiesBootstrapped","ownFacilitiesRefresh","network","blockExplorer","n","Number","process","rpc","config","mode","REACT_APP_MODE","apiKeys","getDappMode","getNetwork","UNKNOWN_LOCAL_STORAGE_ERROR","storagePropertyName","storageConnectorConfig","properties","safeObjectStringify","obj","indent","cache","stringify","getOwnPropertyNames","reduce","v","has","storageReducer","transform","stateToStore","selectedState","storage","sessionStorage","localStorage","serializedState","setItem","setState","mainReducer","isConnecting","account","isRightNetwork","themeMode","networkId","provider","injectedProvider","rpcProvider","signIn","signOut","isBootstrapLoading","searchTimestamp","searchParams","bootstrapped","isIpfsNodeConnecting","ipfsNode","startIpfsNode","stopIpfsNode","errors","initialState","light","lodgingFacilities","searchSpaces","useAppReducer","storedState","getItem","emptyStorage","getState","useReducer","reducers","updatedState","reducer","useWeb3StorageApi","useMemo","getApiKey","useContract","setContract","useState","loading","setLoading","setError","useEffect","Contract","loadLodgingFacilities","async","facilityIds","getNewAndUpdatedFacilityIds","getLodgingFacilityIds","all","facility","getLodgingFacility","spaceIds","getSpaceIds","space","getSpace","loadSpace","useSmartContractData","dispatch","contractError","loadAndDispatchFacilities","useCallback","blockNumber","getBlockNumber","catch","finally","getFacilitiesUpdates","fn","enabled","interval","pollerName","TypeError","disabled","failures","poll","usePoller","useOwnFacilities","isLoading","loadFacilities","tokenIds","getToken","loadTokens","err","refresh","StateContext","createContext","DispatchContext","useAppState","ctx","useContext","useAppDispatch","web3ModalConfig","cacheProvider","providerOptions","walletconnect","package","WalletConnectProvider","options","AppStateProvider","children","rpcProviderError","providers","JsonRpcProvider","on","useRpcProvider","web3ModalError","setProvider","setInjectedProvider","setIsConnecting","web3Modal","Web3modal","clearCachedProvider","providerController","cachedProvider","updateProvider","web3ModalProvider","code","reason","ethers","Web3Provider","useWeb3Modal","isNetworkIdLoading","networkError","allowedNetwork","setNetworkId","setIsLoading","setIsRightNetwork","getNetworkId","useNetworkId","isAccountLoading","accountError","setAccount","accounts","listAccounts","getAccount","useAccount","ipfsNodeLoading","ipfsNodeError","node","setNode","start","utils","startIpfsGateway","doStop","ipfsNodePromise","stop","repoAutoMigrate","useIpfsNode","bootstrapError","ownFacilitiesError","Provider","baseTheme","deepMerge","grommet","generate","GlobalStyle","Grommet","full","style","height","minHeight","theme","background","position","Image","fit","src","width","zIndex","Protected","component","path","location","useLocation","Breadcrumbs","breadcrumbs","size","navigate","useNavigate","items","label","Anchor","onClick","icon","FormPrevious","gap","Nav","direction","align","margin","bottom","allowedMessageBoxTypes","MessageBox","show","onClose","ResponsiveContext","Box","pad","StatusInfo","color","Alert","Button","primary","allowedNetworkName","PageWrapper","Label","styled","div","BlurredSearch","dateFormat","Intl","DateTimeFormat","month","day","today","DateTime","set","hour","tomorrow","plus","days","SearchForm","getDate","initGuestsAmount","departureDate","setDepartureDate","returnDate","setReturnDate","departureDay","returnDay","guestsAmount","setGuestsAmount","query","firstDate","secondDate","oneDay","round","diff","toMillis","parseDateToDays","fromISO","URLSearchParams","String","DateInput","buttonProps","format","Date","border","fontFamily","fontStyle","fontWeight","fontSize","lineHeight","borderRadius","calendarProps","alignSelf","onChange","handleDateChange","TextInput","focusIndicator","padding","placeholder","target","replace","justify","Text","useDayZero","isReady","setIsReady","setDayZero","getDayZero","dz","cleanZero","fromMillis","WhiteText","GradientText","Home","isGetDateReady","Spinner","Message","messageType","setMessageType","messageText","setMessageText","messagePath","setMessagePath","messagePathLabel","setMessagePathLabel","text","pathLabel","includes","InnerSpinner","WhiteButton","SignInButton","Login","SignOutButton","Logout","CustomButton","SearchResultCard","side","overflow","Grid","responsive","rows","columns","areas","end","gridArea","right","useSpaceSearch","cb","useSpaceAvailability","previousValue","currentValue","newSpaces","availability","available","getSpacesAvailability","Search","search","params","filteredSpaces","ShareIcon","Share","ExternalLink","href","rel","reverse","centerEllipsis","prefix","substring","useWindowsDimension","windowDimenion","detectHW","winWidth","window","innerWidth","winHeight","innerHeight","detectSize","addEventListener","removeEventListener","useGoToMessage","allowedLodgingFacilityTypes","allowedLodgingFacilityTiers","enumerators","ResponsiveColumn","defaultCountries","defaultFormValue","flattenObject","keys","acc","key","pre","unFlattenObject","result","split","j","isNaN","FacilityProfileCard","useParams","showMessage","loadingContract","profileValue","setProfileValue","countries","setCountries","addressOpen","setAddressOpen","operatorOpen","setOperatorOpen","showImagesLoader","setShowImagesLoader","uploadIpfsError","setUploadIpfsError","facilityError","setFacilityError","facilityLoading","setFacilityLoading","logoUploading","setLogoUploading","imagesUploading","setImagesUploading","setImages","imagesDescriptions","setImagesDescriptions","validationError","setValidationError","hash","setHash","profileCreating","setProfileCreating","selectedFacilityProfile","setSelectedFacilityProfile","f","profile","isUpdateMode","hashLink","closeImageLoader","unFlattenProfile","deployToIpfs","loadingSetter","isImage","handleSubmit","validateLodgingFacilityData","updateLodgingFacility","registerLodgingFacility","Form","validate","onReset","onSubmit","nextValue","Card","elevation","CardHeader","Heading","level","CardBody","FormField","required","Select","textTransform","clear","htmlFor","TextArea","cursor","CaretDownFill","CaretRightFill","Collapsible","open","marginLeft","marginTop","onSearch","escapedText","exp","RegExp","o","test","Carousel","initialChild","index","Stack","anchor","title","Close","top","transition","horizontal","vertical","FileInput","accept","maxSize","messages","browse","dropPrompt","files","remove","removeAll","maxFile","Layer","onEsc","onClickOutside","paddingBottom","multiple","dropPromptMultiple","listStyleType","alt","URL","createObjectURL","cols","preventDefault","initialImagesCount","CardFooter","FacilityProfile","BookWithDai","Space","pathname","errorContract","setTokenId","borderColor","searchQuery","flex","left","Tag","formatUnits","getBalance","total","res","book","Modal","Title","Price","HotelTitle","CustomText","StayVoucherQr","onError","signCallback","isSignerReady","getSigner","getAddress","createVoucher","useSignVoucher","qrData","setQrData","handleGetQr","qrId","xml","document","getElementById","outerHTML","encodeURIComponent","downloadElem","createElement","setAttribute","click","downloadQr","Header","NewTokenCard","parseTrait","trait","attr","toLowerCase","borderBottom","toISODate","weight","toFixed","TokenView","facilityOwner","cancelLoading","setCancelLoading","cancellationTxHash","setCancellationTxHash","cancellationTxHashLink","cancelTx","cancel","hoverIndicator","MyTokens","setSearchParams","useSearchParams","getDateError","tokensLoading","tokensError","setTokens","tokensIds","getTokensOfOwner","tokensOfOwner","useMyTokens","tokenLoading","tokenError","setToken","setFacilityOwner","facilityIdAttribute","attribute","useGetToken","findFacility","QrReader","onScan","setShow","constraints","facingMode","onResult","getText","CheckIn","handleCheckIn","parsedData","checkIn","CheckOutView","checkOut","checkOutDate","CheckOutCard","FacilityList","facilities","onSelect","SpacesList","Facilities","checkOutLoading","checkOutError","toLocaleString","useCheckOut","selectedFacility","setSelectedFacility","selectedToken","setSelectedToken","CustomMenu","Menu","pagesRoutesConfig","element","protected","AppRoutes","useRoutes","route","GlobalMenu","buildMenuConfig","dropBackground","opacity","dropAlign","AccountIcon","Blockies","AccountHash","AccountWrap","Account","notification","setNotification","shortAccount","navigator","clipboard","isSecureContext","writeText","textArea","body","appendChild","focus","select","execCommand","copyToClipboard","seed","scale","Notification","toast","AppHeader","getPageTitle","routes","matchRoutes","usePageTitle","returnLocation","App","Main","render","method","sender","JsonRpcSigner","contractWithSigner","gasAmount","estimateGas","gasPrice","isBigNumber","gt","tx","wait","web3Storage_1","getIpfsChunks","tokenUriType","ipfs","exec","uriHttp","response","dataUri","decodedData","TextDecoder","decode","base64","Stays_json_1","voucher_1","__exportStar","spaceData","validationResult","validateWithSchemaOrRef","schemas_1","lodgingFacility","fileName","blob","blob_1","file_1","asyncIterator","asyncIterator_1","chunk","curr","concatenatedData","Uint8Array","offset","data_1","_i","arr","allOf","definitions","org_json_schema_1","SpaceReference","example","enum","$ref","SpacesReference","OperatorReference","LodgingFacilityReference","what3words","contractAddress","providerOrUri","ethereumAddress","isMetaMask","send","stays_smart_contracts_1","abi","addSpace"],"mappings":"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C,EAAnC,OAC5BzC,EACIA,EAAKpgB,OAAmB,EAAR2Y,EAAakK,EAC1B,GAAEzC,EAAK0C,UAAU,EAAGnK,EAAQkK,QAAazC,EAAK0C,UAAU1C,EAAKpgB,OAAS2Y,EAAQkK,KAC/EzC,EACF,ICJO2C,GAAsB,KACjC,MAAOC,EAAgBC,GAAYvS,mBAAS,CAC1CwS,SAAUC,OAAOC,WACjBC,UAAWF,OAAOG,cAGdC,EAAa,KACjBN,EAAS,CACPC,SAAUC,OAAOC,WACjBC,UAAWF,OAAOG,eAYtB,OARAxS,qBAAU,KACRqS,OAAOK,iBAAiB,SAAUD,GAE3B,KACLJ,OAAOM,oBAAoB,SAAUF,MAEtC,CAACP,IAEGA,GCLIU,GAAiB,KAC5B,MAAMrK,EAAWC,eACjB,OAAOrH,uBACL,SAACmO,GAAD,IAAexhB,EAAf,uDAAsB,OAAQma,EAA9B,uCAA6CsH,EAA7C,8CACEhH,EACE,WACA,CACEsF,SAAS,EACTzZ,MAAO,CACLkb,OACAxhB,OACAma,OACAsH,iBAIR,CAAChH,MC/BG,4BACJsK,GADI,4BAEJC,IAEEC,eAIOC,GAAoBZ,GAC3BA,GAAY,MAELA,GAAY,IADd,CAAC,MAAO,OAGNA,GAAY,IACd,CAAC,MAAO,OACNA,GAAY,IACd,CAAC,SACCA,GAAY,KAEZA,GAAY,IADd,CAAC,aACH,ECmBHlY,GAASH,EAAO,uBAETkZ,GAA6B,CACxC,cACA,gBACA,UACA,UACA,iBACA,UACA,SACA,WACA,aACA,sBACA,YACA,UACA,QACA,YACA,UACA,aACA,UACA,UACA,aACA,WACA,UACA,UACA,SACA,QACA,UACA,SACA,UACA,mCACA,yBACA,WACA,gBACA,SACA,iCACA,oBACA,WACA,eACA,UACA,WACA,WACA,SACA,aACA,iBACA,2BACA,OACA,QACA,QACA,mBACA,0BACA,WACA,UACA,QACA,0CACA,eACA,aACA,gBACA,UACA,OACA,UACA,SACA,iBACA,UACA,WACA,WACA,qBACA,UACA,QACA,cACA,oBACA,UACA,UACA,WACA,8BACA,gBACA,OACA,UACA,SACA,gBACA,mBACA,8BACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,aACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,oCACA,gCACA,WACA,YACA,UACA,UACA,QACA,YACA,4BACA,OACA,UACA,cACA,SACA,QACA,UACA,QACA,SACA,SACA,aACA,QACA,WACA,yCACA,qBACA,SACA,SACA,aACA,mCACA,SACA,UACA,UACA,UACA,yBACA,gBACA,YACA,aACA,QACA,6CACA,aACA,SACA,WACA,WACA,OACA,QACA,mBACA,aACA,aACA,YACA,UACA,SACA,kCACA,uBACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,UACA,QACA,QACA,cACA,uBACA,gBACA,cACA,YACA,QACA,UACA,OACA,iBACA,2BACA,SACA,OACA,WACA,QACA,kCACA,SACA,mBACA,WACA,OACA,cACA,WACA,SACA,WACA,cACA,QACA,UACA,UACA,qBACA,SACA,mBACA,eACA,wBACA,cACA,eACA,4BACA,mCACA,QACA,aACA,wBACA,eACA,UACA,SACA,wBACA,aACA,eACA,YACA,eACA,WACA,WACA,kBACA,UACA,eACA,+CACA,cACA,QACA,YACA,QACA,WACA,yBACA,YACA,SACA,cACA,uBACA,4BACA,aACA,+BACA,WACA,cACA,OACA,UACA,QACA,sBACA,UACA,SACA,eACA,2BACA,SACA,SACA,UACA,uBACA,iBACA,gBACA,uCACA,UACA,aACA,UACA,YACA,WACA,0BACA,uBACA,oBACA,iBACA,QACA,SACA,YAGWC,GAAuC,CAClD5mB,KAAM,GACNuL,YAAa,GACb/J,KAAM,GACNyK,KAAM,GACN7J,QAAS,CACPkI,QAAS,GACTG,YAAa,GACbI,SAAU,GACVE,WAAY,GACZE,cAAe,GACfC,QAAS,GACTE,IAAK,IAEPc,SAAU,CACRlM,KAAM,GACNoC,QAAS,CACPkI,QAAS,GACTG,YAAa,GACbI,SAAU,GACVE,WAAY,GACZE,cAAe,GACfC,QAAS,GACTE,IAAK,KAGTe,MAAO,CACLC,KAAM,GACNE,OAAQ,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ACL6B,EACA9D,EACA+D,EACAjF,EACAkF,EACAC,GAIJiiB,sBACE3kB,EACAuC,EACAhF,EACAkF,EACAC,GAEA,OAAO,2BACL,KAAKlE,SACL,KAAKkC,YACLV,EACAuC,EACAhF,EACAkF,EACAC,GAIJ+zB,SACEl0B,EACAvC,EACAgC,EACAC,EACAxD,EACAlB,EACAkF,EACAC,GAEA,OAAO,cACL,KAAKlE,SACL,KAAKkC,YACL6B,EACAvC,EACAgC,EACAC,EACAxD,EACAlB,EACAkF,EACAC,GAIJonB,KACE3pB,EACAC,EACAC,EACA6C,EACA3F,EACAkF,EACAC,GAEA,OAAO,UACL,KAAKlE,SACL2B,EACAC,EACAC,EACA6C,EACA3F,EACAkF,EACAC,GAIJisB,QACEvzB,EACAI,EACA+B,EACAkF,EACAC,GAEA,OAAO,aACL,KAAKlE,SACLpD,EACAI,EACA+B,EACAkF,EACAC,GAIJmsB,SACEzzB,EACAmC,EACAkF,EACAC,GAEA,OAAO,cACL,KAAKlE,SACLpD,EACAmC,EACAkF,EACAC,GAIJkqB,OACExxB,EACAmC,EACAkF,EACAC,GAEA,OAAO,YACL,KAAKlE,SACLpD,EACAmC,EACAkF,EACAC,O","file":"static/js/main.94837492.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useCallback } from 'react';\nimport { CheckBox } from 'grommet';\nimport { useAppState, useAppDispatch } from '../store';\n\nexport enum ThemeMode {\n  light = 'light',\n  dark = 'dark'\n}\n\nexport const SwitchThemeMode: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { themeMode } = useAppState();\n\n  const switchMode = useCallback(\n    () => {\n      dispatch(\n        {\n          type: 'SET_THEME_MODE',\n          payload: themeMode === ThemeMode.dark\n            ? ThemeMode.light\n            : ThemeMode.dark\n        }\n      );\n    },\n    [dispatch, themeMode]\n  );\n\n  return (\n    <CheckBox\n      toggle\n      checked={themeMode === ThemeMode.dark}\n      pad='small'\n      onChange={switchMode}\n    />\n  )\n};\n","export interface LoggerApi {\n  error: (...message: unknown[]) => void,\n  debug: (...message: unknown[]) => void,\n  info: (...message: unknown[]) => void\n};\n\n// Possible log level types\nconst logLevels: { [k: string]: number } = {\n  'none': 0,\n  'error': 1,\n  'debug': 2,\n  'info': 3\n};\n\n// Getting log level from the ENV\nconst logLevel = logLevels[process.env.REACT_APP_LOG_LEVEL || 'none'] || 0;\n\n// Default logging function\nconst logFunction = (subject: string, args: unknown[]) =>\n  console.log(...[`${subject}:`, ...args]);\n\n// Creates logger\nconst Logger = (subject: string): LoggerApi =>\n  ({\n    error: (...args) => {\n      if (logLevel >= 1) {\n        logFunction(subject, args);\n      }\n    },\n    debug: (...args) => {\n      if (logLevel >= 2) {\n        logFunction(subject, args);\n      }\n    },\n    info: (...args) => {\n      if (logLevel >= 3) {\n        logFunction(subject, args);\n      }\n    }\n  });\n\nexport default Logger;\n","import type { Action, State, GenericStateRecord } from './actions';\n\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('recordsReducer');\n\nexport const recordsReducer = (state: State, action: Action): State => {\n  let records: GenericStateRecord[];\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (typeof action.payload.record !== 'object') {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (!action.payload.record.id) {\n          throw new Error(`State record name must have Id property defined`);\n        }\n        // Add or update a record\n        records = state[action.payload.name] as GenericStateRecord[];\n        const knownRecord = records.filter(\n          (r: GenericStateRecord) => r.id === action.payload.record.id\n        )[0] || {};\n        const restRecords = records.filter(\n          (r: GenericStateRecord) => r.id !== action.payload.record.id\n        );\n        return {\n          ...state,\n          [action.payload.name]: [\n            ...restRecords,\n            ...[\n              {\n                ...knownRecord,\n                ...action.payload.record\n              }\n            ]\n          ]\n        };\n      case 'REMOVE_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (!action.payload.id) {\n          throw new Error(`State record Id must be provided with a payload`);\n        }\n        // Remove record\n        records = state[action.payload.name] as GenericStateRecord[];\n        return {\n          ...state,\n          [action.payload.name]: records.filter(\n            (r: GenericStateRecord) => r.id !== action.payload.id\n          )\n        };\n      case 'RESET_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        return {\n          ...state,\n          [action.payload.name]: []\n        };\n      default:\n        return state;\n    }\n  } catch(error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};","import type { Action, State } from './actions';\n\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('ownFacilitiesReducer');\n\nexport const ownFacilitiesReducer = (state: State, action: Action): State => {\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_OWN_FACILITIES':\n        return {\n          ...state,\n          ownFacilities: action.payload,\n          ownFacilitiesLoading: false,\n          ownFacilitiesBootstrapped: true\n        };\n      case 'SET_OWN_FACILITIES_LOADING':\n        return {\n          ...state,\n          ownFacilitiesLoading: action.payload\n        };\n      case 'SET_OWN_FACILITIES_REFRESH':\n        return {\n          ...state,\n          ownFacilitiesRefresh: action.payload\n        };\n      case 'RESET_OWN_FACILITIES':\n        return {\n          ...state,\n          ownFacilities: [],\n          ownFacilitiesLoading: false,\n          ownFacilitiesBootstrapped: false,\n          ownFacilitiesRefresh: () => {}\n        };\n      default:\n        return state;\n    }\n  } catch(error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};\n","export interface NetworkInfo {\n  name: string;\n  chainId: number;\n  address: string;\n  blockExplorer: string;\n}\n\nexport interface NetworkWithRpc extends NetworkInfo {\n  rpc: string;\n};\n\nexport interface ApiKeys {\n  [name: string]: string;\n}\n\nexport interface DappConfig {\n  mode: string;\n  network: NetworkWithRpc;\n  apiKeys: ApiKeys;\n}\n\nexport interface NetworkProviders {\n  [chainId: number]: string;\n}\n\nif (\n  !process.env.REACT_APP_NETWORK_PROVIDER ||\n  process.env.REACT_APP_NETWORK_PROVIDER === ''\n) {\n  throw new Error('REACT_APP_NETWORK_PROVIDER must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_NETWORK_ID ||\n  process.env.REACT_APP_NETWORK_ID === ''\n) {\n  throw new Error('REACT_APP_NETWORK_ID must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_CONTRACT_ADDRESS ||\n  process.env.REACT_APP_CONTRACT_ADDRESS === ''\n) {\n  throw new Error('REACT_APP_CONTRACT_ADDRESS must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_FILE_WEB3STORAGE_KEY ||\n  process.env.REACT_APP_FILE_WEB3STORAGE_KEY === ''\n) {\n  throw new Error('REACT_APP_FILE_WEB3STORAGE_KEY must be provided in the ENV');\n}\n\nconst allowedNetworks: NetworkInfo[] = [\n  {\n    name: 'Hardhat Testnet',\n    chainId: 31337,\n    address: '0x5FbDB2315678afecb367f032d93F642f64180aa3',\n    blockExplorer: \"\",\n  },\n  {\n    name: 'Ropsten Testnet',\n    chainId: 3,\n    address: '',\n    blockExplorer: 'https://ropsten.etherscan.io',\n  },\n  {\n    name: 'Rinkeby Testnet',\n    chainId: 4,\n    address: \"\",\n    blockExplorer: 'https://rinkeby.etherscan.io',\n  },\n  {\n    name: 'Arbitrum Rinkeby',\n    chainId: 421611,\n    address: '',\n    blockExplorer: 'https://rinkeby-explorer.arbitrum.io',\n  },\n  {\n    name: 'Sokol Testnet (xDAI)',\n    chainId: 77,\n    address: '',\n    blockExplorer: 'https://blockscout.com/poa/sokol',\n  },\n];\n\nconst network = allowedNetworks.find(\n  n => n.chainId === Number(process.env.REACT_APP_NETWORK_ID)\n) as NetworkWithRpc;\n\nif (network === undefined) {\n  throw new Error(\n    `Network with Id: ${process.env.REACT_APP_NETWORK_ID} is not allowed`\n  );\n}\n\nnetwork.address = process.env.REACT_APP_CONTRACT_ADDRESS;\nnetwork.rpc = process.env.REACT_APP_NETWORK_PROVIDER;\n\nconst config: DappConfig = {\n  mode: process.env.REACT_APP_MODE || 'development',\n  network,\n  apiKeys: {\n    web3Storage: process.env.REACT_APP_FILE_WEB3STORAGE_KEY\n  }\n};\n\nexport const getDappMode = (): string => config.mode;\n\nexport const getNetwork = (): NetworkWithRpc => config.network;\n\nexport const getApiKey = (name: string): string => {\n  if (!config.apiKeys[name]) {\n    throw new Error(`${name} API key not found`);\n  }\n  return config.apiKeys[name];\n};\n\nexport default config;\n","import type { Action, State } from './actions';\nimport { getDappMode } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('localStorage connector');\n\n// Constants\nexport const UNKNOWN_LOCAL_STORAGE_ERROR = 'Unknown localStorage error';\nexport const storagePropertyName = 'dappStore';\n\nexport interface LocalStorageConnectorConfig {\n  properties: string[];\n}\n\nexport const storageConnectorConfig: LocalStorageConnectorConfig = {\n  properties: [\n    'themeMode',\n    'bootstrapped',\n    'lodgingFacilities',\n    'searchSpaces',\n    'searchTimestamp',\n    'searchParams',\n  ]\n};\n\nexport type StoredStateProps = typeof storageConnectorConfig.properties[number];\n\nexport type StoredState = Pick<State, StoredStateProps>;\n\nexport type TransformCallback = <T extends unknown>(serializedState: string) => T;\n\n// Stringifies objects with circular dependencies\n// @todo Move this helper to the SDK\nexport const safeObjectStringify = (obj: {}, indent?: number): string => {\n  let cache = new Set();\n\n  return JSON.stringify(\n    obj,\n    (_, value: unknown) => {\n\n      if (value instanceof Error) {\n        return Object\n          .getOwnPropertyNames(value)\n          .reduce<Record<string, unknown>>(\n            (a, v) => ({\n              ...a,\n              [v]: (value as any)[v]\n            }),\n            {}\n          );\n      }\n\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n\n      return value;\n    },\n    indent ? indent : undefined\n  );\n};\n\n// Transformation function template\nexport const defaultTransform = (serializedState: string) => serializedState;\n\n// Extracts selected properties into a new object\nexport const selectedState = (state: State): StoredState =>\n  storageConnectorConfig\n    .properties\n    .reduce<StoredState>(\n      (a, v) => ({\n        ...a,\n        [v]: state[v]\n      }),\n      {}\n    );\n\n// Return stored sate\nexport const getState = (transform?: TransformCallback): StoredState => {\n  const storage = getDappMode() === 'development'\n    ? sessionStorage\n    : localStorage;\n  try {\n    let serializedState = storage.getItem(storagePropertyName);\n\n    if (serializedState === null) {\n      // storage not initialized yet\n      const emptyStorage = safeObjectStringify({});\n      storage.setItem(storagePropertyName, emptyStorage);\n      serializedState = emptyStorage;\n    }\n\n    serializedState = transform\n      ? transform<string>(serializedState)\n      : serializedState;\n\n    return JSON.parse(serializedState);\n  } catch (error) {\n    logger.error(error);\n    throw new Error(\n      `Unable to get stored state due to error: ${(error as Error).message || UNKNOWN_LOCAL_STORAGE_ERROR}`\n    );\n  }\n};\n\n// Saves state to localStorage\nexport const setState = (\n  state: StoredState,\n  transform?: TransformCallback\n): void => {\n  const storage = getDappMode() === 'development'\n    ? sessionStorage\n    : localStorage;\n  try {\n    const serializedState = safeObjectStringify(state);\n    storage.setItem(\n      storagePropertyName,\n      transform ? transform<string>(serializedState) : serializedState\n    );\n  } catch (error) {\n    logger.error(error);\n    throw new Error(\n      `Unable to store state due to error: ${(error as Error).message || UNKNOWN_LOCAL_STORAGE_ERROR}`\n    );\n  }\n};\n\n// Returns combined reducer\nexport const storageReducer = (transform?: TransformCallback) =>\n  (state: State, _: Action): State => {\n    const stateToStore = selectedState(state);\n    setState(stateToStore, transform);\n    return state;\n  };\n","import type { Reducer } from 'react';\nimport type { Action, State } from './actions';\nimport { useReducer } from 'react';\nimport { ThemeMode } from '../components/SwitchThemeMode';\nimport { recordsReducer } from './recordsReducer';\nimport { ownFacilitiesReducer } from './ownFacilitiesReducer';\nimport { getState, storageReducer } from './localStorage';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('Reducer');\n\nexport const mainReducer = (state: State, action: Action): State => {\n  logger.debug('Dispatch', action);\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_CONNECTING':\n        return {\n          ...state,\n          isConnecting: action.payload\n        };\n      case 'SET_ACCOUNT':\n        return {\n          ...state,\n          account: action.payload\n        };\n      case 'SET_IS_RIGHT_NETWORK':\n        return {\n          ...state,\n          isRightNetwork: action.payload\n        };\n      case 'SET_THEME_MODE':\n        return {\n          ...state,\n          themeMode: action.payload\n        };\n      case 'SET_NETWORK_ID':\n        return {\n          ...state,\n          networkId: action.payload\n        };\n      case 'SET_PROVIDER':\n        return {\n          ...state,\n          provider: action.payload\n        };\n      case 'SET_INJECTED_PROVIDER':\n        return {\n          ...state,\n          injectedProvider: action.payload\n        };\n      case 'SET_RPC_PROVIDER':\n        return {\n          ...state,\n          rpcProvider: action.payload\n        };\n      case 'SET_WEB3MODAL_FUNCTIONS':\n        return {\n          ...state,\n          signIn: action.payload.signIn,\n          signOut: action.payload.signOut\n        };\n      case 'SET_BOOTSTRAP_LOADING':\n        return {\n          ...state,\n          isBootstrapLoading: action.payload\n        };\n      case 'SET_AVAILABILITY_TIMESTAMP':\n        return {\n          ...state,\n          searchTimestamp: action.payload\n        };\n      case 'SET_SEARCH_PARAMS':\n        return {\n          ...state,\n          searchParams: action.payload\n        };\n      case 'SET_BOOTSTRAPPED':\n        return {\n          ...state,\n          bootstrapped: action.payload\n        };\n      case 'SET_IPFS_NODE_CONNECTING':\n        return {\n          ...state,\n          isIpfsNodeConnecting: action.payload\n        };\n      case 'SET_IPFS_NODE':\n        return {\n          ...state,\n          ipfsNode: action.payload.ipfsNode,\n          startIpfsNode: action.payload.startIpfsNode,\n          stopIpfsNode: action.payload.stopIpfsNode\n        };\n      case 'ERROR_ADD':\n        return {\n          ...state,\n          errors: [\n            ...state.errors,\n            action.payload\n          ]\n        };\n      case 'ERROR_REMOVE':\n        return {\n          ...state,\n          errors: state.errors.filter((e, i) => i !== action.payload)\n        };\n      case 'ERROR_REMOVE_ALL':\n        return {\n          ...state,\n          errors: []\n        };\n      default:\n        return state;\n    }\n  } catch (error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};\n\nconst initialState: State = {\n  isConnecting: false,\n  isRightNetwork: true,\n  isIpfsNodeConnecting: false,\n  signIn: () => { },\n  signOut: () => { },\n  errors: [],\n  themeMode: ThemeMode.light,\n  startIpfsNode: () => { },\n  stopIpfsNode: () => { },\n  isBootstrapLoading: false,\n  lodgingFacilities: [],\n  searchSpaces: [],\n};\n\nexport const combineReducers = (\n  reducers: Reducer<State, Action>[]\n): Reducer<State, Action> =>\n  (state: State, action: Action): State => {\n    let updatedState = state;\n\n    for (const reducer of reducers) {\n      updatedState = reducer(updatedState, action);\n    }\n\n    return updatedState;\n  };\n\nexport const useAppReducer = () => {\n  const storedState = getState(); // Restoration of the Dapp state\n\n  return useReducer(\n    combineReducers(\n      [\n        mainReducer,\n        recordsReducer,\n        ownFacilitiesReducer,\n        storageReducer() // Always must be the last\n      ]\n    ),\n    {\n      ...initialState,\n      ...storedState\n    }\n  );\n};\n","import type { IProviderInfo, IProviderControllerOptions } from 'web3modal';\nimport { useMemo, useCallback, useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport Web3modal from 'web3modal';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useWeb3Modal');\n\nexport type Web3ModalConfig = Partial<IProviderControllerOptions>;\n\nexport type Web3ModalProvider = ethers.providers.Web3Provider;\n\nexport type  Web3ModalHook = [\n  provider: Web3ModalProvider | undefined,\n  injectedProvider: IProviderInfo | undefined,\n  isConnecting: boolean,\n  signIn: Function,\n  signOut: Function,\n  error: string | null\n];\n\n// Web3Modal React Hook\nexport const useWeb3Modal = (web3ModalConfig: Web3ModalConfig): Web3ModalHook => {\n  const [provider, setProvider] = useState<Web3ModalProvider | undefined>();\n  const [injectedProvider, setInjectedProvider] = useState<IProviderInfo | undefined>();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Web3Modal initialization\n  const web3Modal = useMemo(\n    () => new Web3modal(web3ModalConfig),\n    [web3ModalConfig]\n  );\n\n  const signOut = useCallback(() => {\n    web3Modal.clearCachedProvider();\n    setProvider(undefined);\n    // SignOut issue when using walletconnect: https://github.com/Web3Modal/web3modal/issues/354\n    logger.info(`Logged Out`);\n    // window.location.reload();\n  }, [web3Modal]);\n\n  const signIn = useCallback(async () => {\n    try {\n      setError(null);\n      setIsConnecting(true);\n\n      setInjectedProvider(\n        (web3Modal as any).providerController.cachedProvider === 'injected'\n          ? (web3Modal as any).providerController.injectedProvider\n          : undefined\n      );\n\n      const updateProvider = async () => {\n        const web3ModalProvider = await web3Modal.connect();\n\n        // Subscribe to provider events compatible with EIP-1193 standard\n        // Subscribe to accounts change\n        web3ModalProvider.on('chainChanged', (chainId: number) => {\n          logger.info(`Chain changed: ${chainId}`);\n          updateProvider();\n        });\n\n        // Subscribe to chainId change\n        web3ModalProvider.on('accountsChanged', () => {\n          logger.info(`Accounts changed`);\n          updateProvider();\n        });\n\n        // Subscribe to provider disconnection\n        web3ModalProvider.on('disconnect', (code: number, reason: string) => {\n          logger.info(`Disconnected with code: ${code} and reason: ${reason}`);\n          signOut();\n        });\n\n        setProvider(\n          new ethers.providers.Web3Provider(web3ModalProvider)\n        );\n      };\n\n      updateProvider();\n\n      logger.info(`Logged In`);\n    } catch (error) {\n      setIsConnecting(false);\n\n      if (error) {\n        logger.error(error);\n        setError((error as Error).message);\n      } else {\n        logger.error('Unknown error');\n      }\n    }\n  }, [web3Modal, signOut]);\n\n  useEffect(() => {\n    if (!provider && web3Modal.cachedProvider) {\n      signIn();\n    } else if (provider) {\n      setTimeout(() => setIsConnecting(false), 250);\n    }\n  }, [provider, web3Modal.cachedProvider, signIn]);\n\n  return [\n    provider,\n    injectedProvider,\n    isConnecting,\n    signIn,\n    signOut,\n    error\n  ];\n};\n","import { useState, useMemo } from 'react';\nimport { providers } from 'ethers';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useRpcProvider');\n\nconst { rpc } = getNetwork();\n\nexport type UseRpcProviderHook = [\n  rpcProvider: providers.JsonRpcProvider,\n  error: string | undefined\n];\n\nexport const useRpcProvider = (): UseRpcProviderHook => {\n  const [error, setError] = useState<string | undefined>();\n\n  const rpcProvider = useMemo(() => new providers.JsonRpcProvider(rpc), []);\n  rpcProvider.on('error', error => {\n    logger.error(error);\n    const message = (error as Error).message || 'Unknown JsonRpcProvider error';\n    setError(message);\n  })\n\n  return [rpcProvider, error];\n};","import type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useNetworkId');\n\nexport type NetworkIdHook = [\n  networkId: number | undefined,\n  isNetworkIdLoading: boolean,\n  isRightNetwork: boolean,\n  error: string | undefined\n];\n\n// useNetworkId react hook\nexport const useNetworkId = (\n  provider: Web3ModalProvider | undefined,\n  allowedNetwork: number\n): NetworkIdHook => {\n  const [networkId, setNetworkId] = useState<number | undefined>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRightNetwork, setIsRightNetwork] = useState(true);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    setError(undefined);\n\n    if (!provider) {\n      return setNetworkId(undefined);\n    }\n\n    const getNetworkId = async () => {\n      try {\n        setIsLoading(true);\n        const network = await provider.getNetwork();\n        setIsLoading(false);\n        logger.debug('getNetwork:', network);\n\n        if (network) {\n\n          if (allowedNetwork === network.chainId) {\n            setNetworkId(network.chainId);\n            setIsRightNetwork(true);\n          } else {\n            throw new Error(\n              `Invalid network ${network.chainId} though expected ${allowedNetwork}`\n            );\n          }\n        } else {\n          setNetworkId(undefined);\n          setIsRightNetwork(false);\n        }\n      } catch (error) {\n        setIsLoading(false);\n        setNetworkId(undefined);\n        setIsRightNetwork(false);\n\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getNetworkId();\n  }, [provider, allowedNetwork]);\n\n  return [\n    networkId,\n    isLoading,\n    isRightNetwork,\n    error\n  ];\n};\n","import type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useAccount');\n\nexport type UseAccountHook = [\n  account: string | undefined,\n  isLoading: boolean,\n  error: string | undefined\n];\n\n// useAccount react hook\nexport const useAccount = (\n  provider: Web3ModalProvider | undefined\n): UseAccountHook => {\n  const [account, setAccount] = useState<string | undefined>();\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    if (!provider) {\n      return setAccount(undefined);\n    }\n\n    const getAccount = async () => {\n      try {\n        setLoading(true);\n        setError(undefined);\n        const accounts = await provider.listAccounts();\n        logger.info(`listAccounts:`, accounts);\n        setAccount(accounts[0]);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getAccount();\n  }, [provider]);\n\n  return [account, isLoading, error];\n};\n","import type { IPFS } from '@windingtree/ipfs-apis';\nimport { useMemo } from 'react';\nimport { Web3StorageApi } from '@windingtree/ipfs-apis';\nimport { getApiKey } from '../config';\n\nexport const useWeb3StorageApi = (\n  ipfsNode: IPFS | undefined\n): Web3StorageApi | undefined => useMemo(\n  () => !!ipfsNode\n    ? new Web3StorageApi(getApiKey('web3Storage'), ipfsNode)\n    : undefined,\n  [ipfsNode]\n);\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport { KnownProvider } from 'stays-core';\nimport { Contract } from 'stays-core';\nimport { getNetwork } from '../config';\nimport { useWeb3StorageApi } from './useWeb3StorageApi';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useContract');\n\nexport type UseContractHook = [\n  contract: Contract | undefined,\n  loading: boolean,\n  error: string | undefined\n];\n\nconst { address } = getNetwork();\n\nexport const useContract = (\n  provider: providers.JsonRpcProvider | Web3ModalProvider | undefined,\n  ipfsNode: IPFS | undefined,\n): UseContractHook => {\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [contract, setContract] = useState<Contract | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    setLoading(true);\n    if (!provider || !web3Storage) {\n      return;\n    }\n\n    try {\n      setContract(\n        new Contract(\n          address,\n          provider as KnownProvider,\n          web3Storage\n        )\n      );\n      setLoading(false);\n    } catch (error) {\n      logger.error(error);\n      const message = (error as Error).message || 'Unknown contract library error';\n      setError(message);\n      setLoading(false);\n    }\n  }, [provider, web3Storage]);\n\n  return [contract, loading, error];\n};\n","import { useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('usePoller');\n\nexport type PollerContextFunction = () => void | Promise<void>;\n\n// usePoller react hook\nexport const usePoller = (\n  fn: PollerContextFunction,\n  enabled = true,\n  interval = 5000,\n  pollerName?: string\n) => {\n  if (typeof fn !== 'function') {\n    throw new TypeError('Can\\'t poll without a callback function');\n  }\n\n  return useEffect(\n    () => {\n      let disabled = false;\n      let failures = 0;\n\n      const poll = async () => {\n        if (disabled) {\n          return;\n        }\n\n        try {\n          await fn();\n        } catch (error) {\n          failures++;\n          logger.error(error);\n        }\n\n        if (failures < 100) {\n          setTimeout(poll, interval);\n        } else {\n          logger.debug(`Too much errors in poller ${pollerName}. Disabled`);\n        }\n      }\n\n      poll();\n      logger.debug(`Poller ${pollerName} started`);\n\n      return () => {\n        disabled = true;\n        failures = 0;\n        logger.debug(`Poller ${pollerName} stopped`);\n      };\n    },\n    [fn, enabled, interval, pollerName]\n  );\n};\n","import type { providers } from 'ethers';\nimport type { LodgingFacility, Space } from 'stays-data-models';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Contract } from 'stays-core';\nimport { useState, useEffect, useCallback } from 'react';\nimport { Dispatch } from '../store';\nimport { useContract } from './useContract';\nimport { usePoller } from './usePoller';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSmartContractData');\n\nexport type UseSmartContractDataHook = [\n  error: string | undefined\n];\n\nconst loadSpace = async (contract: Contract, spaceId: string): Promise<Space> => {\n  const space = await contract.getSpace(spaceId);\n  logger.debug('Loaded space:', spaceId, space);\n  if (space === null) {\n    throw new Error(`Space with Id: ${spaceId} not found`);\n  }\n  return space;\n}\n\nconst loadLodgingFacilities = async (\n  contract: Contract,\n  fromBlock?: number\n): Promise<LodgingFacility[]> => {\n  const facilityIds = !!fromBlock\n    ? await contract.getNewAndUpdatedFacilityIds(fromBlock)\n    : await contract.getLodgingFacilityIds(true);\n  logger.debug('Facilities Ids:', facilityIds);\n\n  return Promise.all(\n    facilityIds.map(\n      async facilityId => {\n        const facility = await contract.getLodgingFacility(facilityId);\n        logger.debug('Loaded facility:', facilityId, facility);\n        if (facility === null) {\n          throw new Error(`Lodging facility with Id: ${facilityId} not found`);\n        }\n\n        const spaceIds = await contract.getSpaceIds(facilityId, true);\n        logger.debug('Spaces Ids:', facilityId, spaceIds);\n        const spaces = await Promise.all(\n          spaceIds.map(\n            spaceId => loadSpace(contract, spaceId)\n          )\n        );\n\n        return {\n          ...facility,\n          spaces\n        };\n      }\n    )\n  );\n};\n\n// useSmartContractData react hook\nexport const useSmartContractData = (\n  dispatch: Dispatch,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  bootstrapped: number | undefined\n): UseSmartContractDataHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (contractError) {\n      setError(contractError);\n    }\n  }, [contractError]);\n\n  const loadAndDispatchFacilities = useCallback(\n    async (contract: Contract, fromBlock?: number) => {\n      const lodgingFacilities = await loadLodgingFacilities(contract, fromBlock);\n      logger.debug(`Facilities from block ${fromBlock ? fromBlock : 0}`, lodgingFacilities);\n\n      if (fromBlock !== undefined && lodgingFacilities.length === 0) {\n        return;\n      }\n\n      const blockNumber = await contract.provider.getBlockNumber();\n\n      // Add all obtained records to state\n      for (const record of lodgingFacilities) {\n        dispatch({\n          type: 'SET_RECORD',\n          payload: {\n            name: 'lodgingFacilities',\n            record: {\n              ...record,\n              id: record.contractData.lodgingFacilityId\n            }\n          }\n        });\n      }\n\n      // Set bootstrap procedure succeeded\n      dispatch({\n        type: 'SET_BOOTSTRAPPED',\n        payload: blockNumber\n      });\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (!!bootstrapped || !contract) {\n      return;\n    }\n\n    setError(undefined);\n\n    // Remove all lodgingFacilities\n    dispatch({\n      type: 'RESET_RECORD',\n      payload: {\n        name: 'lodgingFacilities'\n      }\n    });\n\n    dispatch({\n      type: 'SET_BOOTSTRAP_LOADING',\n      payload: true\n    });\n\n    loadAndDispatchFacilities(contract)\n      .catch(error => {\n        logger.error(error);\n        const message = (error as Error).message ||\n          'Unknown lodging facility loader error'\n        setError(message);\n\n        // Set bootstrap procedure failed\n        dispatch({\n          type: 'SET_BOOTSTRAPPED',\n          payload: 0\n        });\n      })\n      .finally(() => {\n        dispatch({\n          type: 'SET_BOOTSTRAP_LOADING',\n          payload: false\n        });\n      });\n  }, [dispatch, loadAndDispatchFacilities, bootstrapped, contract]);\n\n  const getFacilitiesUpdates = useCallback(\n    async () => {\n      if (!bootstrapped || !contract) {\n        return;\n      }\n\n      setError(undefined);\n\n      try {\n        await loadAndDispatchFacilities(contract, bootstrapped);\n      } catch(error) {\n        logger.error(error);\n        const message = (error as Error).message ||\n          'Unknown lodging facility updates loader error'\n        setError(message);\n      }\n    },\n    [loadAndDispatchFacilities, bootstrapped, contract]\n  );\n\n  // Check every <interval_time> for facilities and spaces updates\n  usePoller(\n    getFacilitiesUpdates,\n    !!contract,\n    300000, // 5min @todo Move interval configuration to the Dapp config\n    'getFacilitiesUpdates'\n  );\n\n  return [error];\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Contract, StayTokenState } from 'stays-core';\nimport type { OwnerSpace } from '../store/actions';\nimport type { Dispatch } from '../store';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useOwnFacilities');\n\nexport type UseOwnFacilitiesHook = [\n  error: string | undefined,\n  refresh: () => Promise<void>\n];\n\n// Helper for tokens data loading\nconst loadTokens = async (\n  contract: Contract,\n  spaceId: string,\n  state: StayTokenState\n): Promise<OwnerSpace> => {\n  const tokenIds = await contract.getTokensBySpaceId(spaceId, state);\n  const space = await contract.getSpace(spaceId);\n  const tokens = await Promise.all(\n    tokenIds.map((t) => contract.getToken(t))\n  )\n\n  logger.debug('Loaded space:', spaceId, tokenIds);\n  if (space === null) {\n    throw new Error(`Space with Id: ${spaceId} not found`);\n  }\n\n  return {\n    ...space,\n    tokens\n  };\n}\n\nexport const useOwnFacilities = (\n  dispatch: Dispatch,\n  account: string | undefined,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  ownFacilitiesBootstrapped: boolean | undefined\n): UseOwnFacilitiesHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  // Loading state helper\n  const setLoading = useCallback(\n    (isLoading: boolean) => {\n      dispatch({\n        type: 'SET_OWN_FACILITIES_LOADING',\n        payload: isLoading\n      });\n    },\n    [dispatch]\n  );\n\n  // Load facilities with spaces and tokens\n  const loadFacilities = useCallback(\n    async (account: string | undefined) => {\n      if (!contract || !account) {\n        return;\n      }\n\n      try {\n        setLoading(true);\n        const facilityIds = await contract.getLodgingFacilityIdsByOwner(account);\n        logger.debug('Facilities Ids:', facilityIds);\n\n        const ownFacilities = await Promise.all(\n          facilityIds.map(\n            async facilityId => {\n              const facility = await contract.getLodgingFacility(facilityId);\n              logger.debug('Loaded facility:', facilityId, facility);\n\n              if (facility === null) {\n                throw new Error(\n                  `Lodging facility with Id: ${facilityId} not found`\n                );\n              }\n\n              const spaceIds = await contract.getSpaceIds(facilityId, true);\n              logger.debug('Spaces Ids:', facilityId, spaceIds);\n\n              const spaces = await Promise.all(\n                spaceIds.map(\n                  spaceId => loadTokens(contract, spaceId, 1)\n                )\n              );\n\n              return {\n                ...facility,\n                spaces\n              };\n            }\n          )\n        );\n\n        // Set own facilities state\n        dispatch({\n          type: 'SET_OWN_FACILITIES',\n          payload: ownFacilities\n        });\n        setLoading(false);\n      } catch (err) {\n        logger.debug('loadFacilities', err);\n        setError(\n          (err as Error).message || 'Unknown own facilities loader error'\n        );\n        setLoading(false);\n      }\n    },\n    [dispatch, setLoading, contract]\n  );\n\n  const refresh = useCallback(\n    () => loadFacilities(account),\n    [loadFacilities, account]\n  );\n\n  useEffect(\n    () => {\n      if (contractError !== undefined) {\n        logger.debug('contractError', contractError);\n        dispatch({\n          type: 'ERROR_ADD',\n          payload: contractError\n        });\n      }\n    },\n    [dispatch, contractError]\n  );\n\n  useEffect(\n    () => {\n      if (!account) {\n        // reset own facilities state\n        dispatch({\n          type: 'RESET_OWN_FACILITIES'\n        });\n        return;\n      }\n\n      if (ownFacilitiesBootstrapped) {\n        // Already bootstrapped, just ignore the action\n        return;\n      }\n\n      // Fetching of own facilities\n      loadFacilities(account);\n    },\n    [dispatch, loadFacilities, account, ownFacilitiesBootstrapped]\n  );\n\n  return [error, refresh];\n};\n","import type { ReactNode } from 'react';\nimport type { Web3ModalConfig } from '../hooks/useWeb3Modal';\nimport { createContext, useContext, useEffect } from 'react';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\n// import Logger from '../utils/logger';\nimport { useAppReducer } from './reducer';\n\n// Custom hooks\nimport { useWeb3Modal } from '../hooks/useWeb3Modal';\nimport { useRpcProvider } from '../hooks/useRpcProvider';\nimport { useNetworkId } from '../hooks/useNetworkId';\nimport { useAccount } from '../hooks/useAccount';\nimport { useIpfsNode } from '../hooks/useIpfsNode';\nimport { useSmartContractData } from '../hooks/useSmartContractData';\nimport { useOwnFacilities } from '../hooks/useOwnFacilities';\n\n// Config\nimport { getNetwork } from '../config';\n\n// Initialize logger\n// const logger = Logger('Store');\n\nexport type AppReducerType = ReturnType<typeof useAppReducer>;\nexport type State = AppReducerType[0];\nexport type Dispatch = AppReducerType[1];\n\nexport const StateContext = createContext<State | null>(null);\nexport const DispatchContext = createContext<Dispatch | null>(null);\n\nexport interface PropsType {\n  children: ReactNode;\n}\n\nexport const useAppState = () => {\n  const ctx = useContext(StateContext);\n\n  if (!ctx) {\n    throw new Error('Missing state context');\n  }\n\n  return ctx;\n};\n\nexport const useAppDispatch = () => {\n  const ctx = useContext(DispatchContext);\n\n  if (!ctx) {\n    throw new Error('Missing dispatch context');\n  }\n\n  return ctx;\n}\n\nconst { chainId, rpc } = getNetwork();\n\n// Web3Modal initialization\nconst web3ModalConfig: Web3ModalConfig = {\n  cacheProvider: true,\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        [chainId]: rpc\n      }\n    }\n  }\n};\n\nexport const AppStateProvider = ({ children }: PropsType) => {\n  const [state, dispatch] = useAppReducer();\n  const [rpcProvider, rpcProviderError] = useRpcProvider();\n  const [\n    provider,\n    injectedProvider,\n    isConnecting,\n    signIn,\n    signOut,\n    web3ModalError\n  ] = useWeb3Modal(web3ModalConfig);\n  const [\n    networkId,\n    isNetworkIdLoading,\n    isRightNetwork,\n    networkError\n  ] = useNetworkId(provider, chainId);\n  const [account, isAccountLoading, accountError] = useAccount(provider);\n  const [ipfsNode, startIpfsNode, stopIpfsNode, ipfsNodeLoading, ipfsNodeError] = useIpfsNode();\n  const { bootstrapped, ownFacilitiesBootstrapped } = state;\n\n  // Global data bootstrap\n  const [bootstrapError] = useSmartContractData(\n    dispatch,\n    rpcProvider,\n    ipfsNode,\n    bootstrapped\n  );\n\n  // Own facilities bootstrap\n  const [ownFacilitiesError, ownFacilitiesRefresh] = useOwnFacilities(\n    dispatch,\n    account,\n    provider,\n    ipfsNode,\n    ownFacilitiesBootstrapped\n  );\n\n  useEffect(\n    () => {\n      dispatch({\n        type: 'SET_OWN_FACILITIES_REFRESH',\n        payload: ownFacilitiesRefresh\n      });\n    },\n    [dispatch, ownFacilitiesRefresh]\n  );\n\n  useEffect(() => {\n    if (web3ModalError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: web3ModalError\n      })\n    }\n    if (networkError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: networkError\n      })\n    }\n    if (accountError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: accountError\n      })\n    }\n    if (ipfsNodeError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: ipfsNodeError\n      })\n    }\n    if (bootstrapError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: bootstrapError\n      })\n    }\n    if (rpcProviderError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: rpcProviderError\n      })\n    }\n    if (ownFacilitiesError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: ownFacilitiesError\n      })\n    }\n  }, [\n    dispatch, web3ModalError, networkError,\n    accountError, ipfsNodeError, bootstrapError,\n    rpcProviderError, ownFacilitiesError\n  ]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_CONNECTING',\n      payload: isConnecting || isNetworkIdLoading || isAccountLoading\n    })\n  }, [dispatch, isConnecting, isNetworkIdLoading, isAccountLoading]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IPFS_NODE_CONNECTING',\n      payload: ipfsNodeLoading\n    })\n  }, [dispatch, ipfsNodeLoading]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_ACCOUNT',\n      payload: account\n    })\n  }, [dispatch, account]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IS_RIGHT_NETWORK',\n      payload: isRightNetwork\n    })\n  }, [dispatch, isRightNetwork]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_NETWORK_ID',\n      payload: networkId\n    })\n  }, [dispatch, networkId]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_PROVIDER',\n      payload: provider\n    })\n  }, [dispatch, provider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_INJECTED_PROVIDER',\n      payload: injectedProvider\n    })\n  }, [dispatch, injectedProvider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_RPC_PROVIDER',\n      payload: rpcProvider\n    })\n  }, [dispatch, rpcProvider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_WEB3MODAL_FUNCTIONS',\n      payload: {\n        signIn,\n        signOut\n      }\n    })\n  }, [dispatch, signIn, signOut]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IPFS_NODE',\n      payload: {\n        ipfsNode,\n        startIpfsNode,\n        stopIpfsNode\n      }\n    })\n  }, [dispatch, ipfsNode, startIpfsNode, stopIpfsNode]);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n","import type { IPFS, Options as IpfsOptions } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { utils } from '@windingtree/ipfs-apis';\n\nexport type UseIpfsNode = [\n  node: IPFS | undefined,\n  start: Function,\n  stop: Function,\n  loading: boolean,\n  error: string | undefined,\n];\n\n// useIpfsNode react hook\nexport const useIpfsNode = (): UseIpfsNode => {\n  const [node, setNode] = useState<IPFS | undefined>(undefined);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  const start = useCallback(async (options?: IpfsOptions): Promise<IPFS | undefined> => {\n    try {\n      setLoading(true);\n      const ipfsNode = await utils.startIpfsGateway(options);\n      setNode(ipfsNode);\n      setLoading(false);\n      return ipfsNode;\n    } catch (e) {\n      setError((e as Error).message || 'Unknown useIpfsNode error');\n      setLoading(false);\n    }\n  }, []);\n\n  const doStop = async (ipfsNodePromise: Promise<IPFS | undefined>): Promise<void> => {\n    const ipfsNode = await (ipfsNodePromise || Promise.resolve());\n\n    if (ipfsNode !== undefined) {\n      await ipfsNode.stop();\n    }\n  };\n\n  const stop = useCallback(async (): Promise<void> => {\n    if (node !== undefined) {\n      try {\n        setLoading(true);\n        await doStop(Promise.resolve(node));\n        setNode(undefined);\n        setLoading(false);\n      } catch (e) {\n        setError((e as Error).message || 'Unknown useIpfsNode error');\n        setLoading(false);\n      }\n    }\n  }, [node]);\n\n  useEffect(() => {\n    const ipfsNodePromise = start({\n      repoAutoMigrate: true\n    });\n    return () => {\n      doStop(ipfsNodePromise);\n    };\n  }, [start]);\n\n  return [node, start, stop, loading, error];\n};\n","import { Grommet, Image } from 'grommet';\nimport { grommet } from 'grommet/themes';\nimport { generate } from 'grommet/themes/base';\nimport { deepMerge } from 'grommet/utils';\nimport { useAppState } from './store';\n\nconst baseTheme = deepMerge(grommet, generate(16));\n\nexport const GlobalStyle: React.FC = ({ children }) => {\n  const { themeMode } = useAppState();\n\n  return (\n    <Grommet\n      full\n      style={{ height: 'auto', minHeight: '100vh' }}\n      theme={baseTheme}\n      themeMode={themeMode}\n      background={{position: 'relative'}}\n    >\n      <Image\n        fit=\"cover\"\n        src='https://localhost:3000/background.png'\n        style={{\n          width: '100vw',\n          height: '100vh',\n          position: 'absolute',\n          zIndex: '-100'\n        }}\n      />\n      {children}\n    </Grommet>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAppState } from '../store';\n\nexport interface ProtectedProps {\n  component: ReactNode;\n  path?: string;\n}\n\nexport const Protected = ({\n    component,\n    path = '/'\n  }: ProtectedProps) => {\n  const location = useLocation();\n  const { account } = useAppState();\n\n  return (\n    <>\n      {\n        account !== undefined\n          ? component\n          : <Navigate to={path} state={{ location }} />\n      }\n    </>\n  );\n}\n","import type { TextProps } from 'grommet';\nimport { Nav, Anchor } from 'grommet';\nimport { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FormPrevious } from 'grommet-icons';\n\nexport interface Breadcrumb {\n  path?: string;\n  label: string;\n}\n\nexport interface BreadcrumbsProps {\n  breadcrumbs?: Breadcrumb[];\n  size?: TextProps['size'];\n}\n\nexport const Breadcrumbs = ({ breadcrumbs, size }: BreadcrumbsProps) => {\n  const navigate = useNavigate();\n\n  const items = useMemo(\n    () => (breadcrumbs || []).map(\n      ({ path, label }, i) => (\n        <Anchor\n          key={i}\n          label={label}\n          onClick={() => path === undefined ? navigate(-1) : navigate(path)}\n          icon={<FormPrevious />}\n          gap='xsmall'\n        />\n      )\n    ),\n    [navigate, breadcrumbs]\n  );\n\n  if (breadcrumbs === undefined || breadcrumbs.length === 0) {\n    return null;\n  }\n\n  return (\n    <Nav\n      direction='row'\n      align='center'\n      margin={{\n        bottom: size\n      }}\n    >\n      {items}\n    </Nav>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { useContext } from 'react';\nimport { Box, Button, ResponsiveContext } from 'grommet';\nimport { StatusInfo, Alert } from 'grommet-icons';\n\nexport const allowedMessageBoxTypes = [\n  'info',\n  'warn',\n  'error'\n];\n\nexport type MessageBoxTypes = typeof allowedMessageBoxTypes[number];\n\nexport interface MessageBoxProps {\n  type: MessageBoxTypes;\n  show: boolean;\n  children?: ReactNode;\n  onClose?: () => void\n}\n\nexport const MessageBox = ({\n  type = 'info',\n  show = false,\n  children,\n  onClose\n}: MessageBoxProps) => {\n  const size = useContext(ResponsiveContext);\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Box\n      direction='row'\n      background='light-2'\n      align='center'\n      gap={size}\n      pad={size}\n      margin={{ bottom: 'small' }}\n    >\n      <Box>\n        {type === 'info' &&\n          <StatusInfo color='status-ok' size={size} />\n        }\n        {type === 'warn' &&\n          <Alert color='status-warning' size={size} />\n        }\n        {type === 'error' &&\n          <Alert color='status-error' size={size} />\n        }\n      </Box>\n      <Box direction='column' gap={size}>\n        <Box>\n          {children}\n        </Box>\n        {typeof onClose === 'function' &&\n          <Box>\n            <Button primary onClick={onClose} label='close' />\n          </Box>\n        }\n      </Box>\n    </Box>\n  );\n};\n","import type { ReactNode } from 'react';\nimport type { Breadcrumb } from '../components/Breadcrumbs';\nimport { useContext } from 'react';\nimport { Box, ResponsiveContext } from 'grommet';\nimport { useAppState } from '../store';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport { MessageBox } from '../components/MessageBox';\nimport { getNetwork } from '../config';\n\nconst { name: allowedNetworkName } = getNetwork();\n\nexport interface PageWrapperProps {\n  children: ReactNode;\n  breadcrumbs?: Breadcrumb[];\n}\n\nexport const PageWrapper = ({ children, breadcrumbs }: PageWrapperProps) => {\n  const size = useContext(ResponsiveContext);\n  const { isRightNetwork } = useAppState();\n\n  return (\n    <Box fill>\n      <Breadcrumbs\n        breadcrumbs={breadcrumbs}\n        size={size}\n      />\n      <Box align='center'>\n        <Box width='100%'>\n          <MessageBox type='warn' show={!isRightNetwork}>\n            You are connected to a wrong network. Please switch to: {allowedNetworkName}\n          </MessageBox>\n          {children}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n","import { DateTime } from 'luxon';\nimport { Box, TextInput, Button, Text, DateInput } from 'grommet';\nimport { useNavigate } from 'react-router-dom';\nimport { useState, useMemo, useEffect } from 'react'\nimport styled from 'styled-components';\n\nexport const Label = styled.div`\n  @include g-font($g-fontsize-xs,$glider-color-text-labels,$g-fontweight-normal);\n  margin-left: 4px;\n`;\n\nexport const BlurredSearch = styled(Box)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  width: 100%;\n  background: rgba(13, 14, 15, 0.2);\n  backdrop-filter: blur(36px);\n`;\n\nexport const parseDateToDays = (dayZero: DateTime, firstDate: DateTime, secondDate: DateTime) => {\n  const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n  const startDay = Math.round(firstDate.diff(dayZero).toMillis() / oneDay)\n  const numberOfDays = Math.round(secondDate.diff(firstDate).toMillis() / oneDay)\n  return {\n    startDay,\n    numberOfDays\n  }\n};\n\nconst dateFormat = new Intl.DateTimeFormat(undefined, {\n  month: 'short',\n  day: 'numeric',\n});\n\nconst today = DateTime.now().set({ hour: 12 });\nconst tomorrow = today.plus({ days: 1 });\n\n\nexport const SearchForm: React.FC<{\n  getDate: (days: number) => DateTime,\n  startDay?: number | undefined,\n  numberOfDays?: number | undefined,\n  initGuestsAmount?: number | undefined,\n}> = ({ getDate, startDay, numberOfDays, initGuestsAmount }) => {\n\n  const [departureDate, setDepartureDate] = useState<string>(today.toISO());\n  const [returnDate, setReturnDate] = useState<string>(tomorrow.toISO());\n\n  useEffect(() => {\n    if (!!startDay && !!numberOfDays) {\n      const departureDay = getDate(startDay)\n      const returnDay = getDate(startDay + numberOfDays)\n\n      setDepartureDate(departureDay.toISO())\n      setReturnDate(returnDay.toISO())\n    }\n\n  }, [getDate, startDay, numberOfDays])\n\n  const [guestsAmount, setGuestsAmount] = useState(initGuestsAmount ?? 1);\n\n  const query = useMemo(() => {\n    const { startDay, numberOfDays } = parseDateToDays(getDate(0), DateTime.fromISO(departureDate), DateTime.fromISO(returnDate))\n    return new URLSearchParams([\n      ['startDay', String(startDay)],\n      ['numberOfDays', String(numberOfDays)],\n      ['guestsAmount', String(guestsAmount)],\n    ])\n  }, [departureDate, returnDate, guestsAmount, getDate])\n\n  const navigate = useNavigate()\n\n\n  const handleDateChange = ({ value }: { value: string[] }) => {\n    const now = DateTime.now().set({ hour: 12 })\n    const tomorrow = now.plus({ days: 1 })\n\n    if (now.toMillis() > DateTime.fromISO(value[0]).toMillis()) {\n      setDepartureDate(now.toISO())\n    } else {\n      setDepartureDate(value[0])\n    }\n\n    if (tomorrow.toMillis() > DateTime.fromISO(value[1]).toMillis()) {\n      setReturnDate(tomorrow.toISO())\n    } else {\n      setReturnDate(value[1])\n    }\n  }\n\n  return (\n    <BlurredSearch>\n      <Box pad='small'\n        height='100%'\n        direction='column'\n      >\n        <Label>When</Label>\n        <DateInput\n          buttonProps={{\n            label: `${dateFormat.format(new Date(departureDate))} - ${dateFormat.format(new Date(returnDate))}`,\n            size: 'large',\n            icon: undefined,\n            style: {\n              border: '1px solid rgba(227, 231, 236, 0.3)',\n              color: 'white',\n              fontFamily: 'Inter',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontSize: '1.25rem',\n              lineHeight: '1.5rem',\n              borderRadius: '.5rem'\n            }\n          }}\n          calendarProps={{\n            fill: false,\n            alignSelf: 'center',\n            margin: 'small',\n            size: 'medium'\n          }}\n          value={[departureDate, returnDate]}\n          onChange={({ value }) => handleDateChange({ value } as { value: string[] })}\n        />\n      </Box>\n      <Box\n        pad='small'\n        height='100%'\n        direction='column'\n      >\n        <Label>Guests</Label>\n        <Box>\n          <TextInput\n            size='xlarge'\n            focusIndicator={false}\n            style={{\n              border: '1px solid rgba(227, 231, 236, 0.3)',\n              fontFamily: 'Inter',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontSize: '1.25rem',\n              lineHeight: '1.5rem',\n              borderRadius: '.5rem',\n              width: '4rem',\n              padding: '6px'\n            }}\n            // suggestions={['1', '2', '3','4', '5', '6','7', '2', '3']}\n            placeholder='Guests'\n            value={guestsAmount}\n            type='number'\n            // onSelect={({ suggestion }) => setGuestsAmount(Number(suggestion))}\n            onChange={(event) => {\n              const value = Number(event.target.value)\n              setGuestsAmount(value !== 0 ? value : 1)\n            }}\n          />\n        </Box>\n      </Box>\n      <Button\n        style={{\n          border: '1px solid rgba(227, 231, 236, 0.3)',\n          fontFamily: 'Inter',\n          fontStyle: 'normal',\n          fontWeight: 400,\n          color: '#fff',\n          fontSize: '1.25rem',\n          lineHeight: '1.5rem',\n          borderRadius: '.5rem',\n          alignSelf: 'end',\n        }}\n        margin='small'\n        onClick={() => navigate(`/search?${query}`, { replace: true })}\n      >\n        {() => (\n          <Box direction='row' justify='center' align='center' pad='small'>\n            <Text style={{\n              // border: '1px solid rgba(227, 231, 236, 0.3)',\n              fontFamily: 'Inter',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontSize: '1rem',\n            }}\n            >\n              Search\n            </Text>\n          </Box>\n        )}\n      </Button>\n    </BlurredSearch>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { DateTime } from 'luxon';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useDayZero');\n\nexport type UseDayZeroHook = [\n  getDate: (days: number) => DateTime,\n  isReady: boolean,\n  error: string | undefined\n];\n\nexport const useDayZero = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined\n): UseDayZeroHook => {\n  const [contract, ,] = useContract(provider, ipfsNode);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [dayZero, setDayZero] = useState<number | undefined>();\n  const [error, setError] = useState<string | undefined>();\n\n  const getDayZero = useCallback(\n    async () => {\n      if (!contract) {\n        setIsReady(false);\n        return;\n      }\n      try {\n        setError(undefined);\n        setIsReady(false);\n        logger.debug('getDayZero start');\n        const dz = await contract.getDayZero();\n        logger.debug('getDayZero', dz);\n        setDayZero(dz);\n        setIsReady(true);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useDayZero error';\n        setError(message);\n        setIsReady(false);\n      }\n    },\n    [contract]\n  );\n\n  const getDate = useCallback(\n    (days: number) => {\n      if (!dayZero) {\n        throw new Error('getDate utility is not ready');\n      }\n      const cleanZero = DateTime.fromMillis(dayZero * 1000).set({ hour: 1 })\n      logger.debug('getDate params', cleanZero, days);\n      return DateTime.fromMillis(\n        cleanZero.toMillis() + days * 86400 * 1000\n      )\n    },\n    [dayZero]\n  );\n\n  useEffect(\n    () => {\n      getDayZero();\n      return () => {\n        setIsReady(false);\n        setDayZero(undefined);\n      }\n    },\n    [getDayZero]\n  );\n\n  return [\n    getDate,\n    isReady,\n    error\n  ];\n};\n","import { Box, Spinner, Text } from 'grommet';\nimport { useAppState } from '../store';\nimport { PageWrapper } from '../pages/PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { SearchForm } from '../components/search/SearchForm';\nimport { useDayZero } from '../hooks/useDayZero';\nimport styled from 'styled-components';\n\nexport const WhiteText = styled(Text)`\n  text-align: center;\n  color: #fff;\n  font-family: Inter;\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: 0px;\n  text-align: center;\n`;\n\nexport const GradientText = styled(Text)`\n  font-family: Inter;\n  font-size: 136px;\n  font-weight: 900;\n  line-height: 144px;\n  letter-spacing: 0px;\n  text-align: center;\n\n  background: linear-gradient(90.72deg, #E2C9C6 -3.09%, #81BDF0 23.35%, #E4F2FF 29.25%, #86C9F0 45.31%, #EDF5FF 81.44%, #A0AACF 101.22%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n`;\n\nexport const Home = () => {\n  const {\n    isIpfsNodeConnecting,\n    isBootstrapLoading,\n    bootstrapped,\n    rpcProvider,\n    ipfsNode\n  } = useAppState();\n\n  const [getDate, isGetDateReady] = useDayZero(rpcProvider, ipfsNode);\n\n  return (\n    <PageWrapper>\n      <WhiteText>April 18-25 2022</WhiteText>\n      <WhiteText>Devconnect APRIL 18-25, 2022 Amsterdam, The Netherlands</WhiteText>\n      <GradientText>Amsterdam</GradientText>\n      <WhiteText>A collaborative Ethereum week, built by and for everyone</WhiteText>\n\n      <MessageBox type='info' show={isIpfsNodeConnecting || isBootstrapLoading || !isGetDateReady}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      {(!!bootstrapped && isGetDateReady) &&\n        <SearchForm getDate={getDate} />\n      }\n    </PageWrapper>\n  );\n};\n","import type { MessageBoxTypes } from '../components/MessageBox';\nimport type { MessageState } from '../hooks/useGoToMessage';\nimport { useEffect, useState } from 'react';\nimport { Box, Text } from 'grommet';\nimport { PageWrapper } from './PageWrapper';\nimport { useLocation, NavLink } from 'react-router-dom';\nimport { MessageBox, allowedMessageBoxTypes } from '../components/MessageBox';\n\nexport const Message = () => {\n  const { state } = useLocation();\n  const [messageType, setMessageType] = useState<MessageBoxTypes>('warn');\n  const [messageText, setMessageText] = useState<string | undefined>();\n  const [messagePath, setMessagePath] = useState<string | undefined>();\n  const [messagePathLabel, setMessagePathLabel] = useState<string | undefined>();\n\n  useEffect(\n    () => {\n      const { type, text, path, pathLabel } = state as MessageState;\n      setMessageType(allowedMessageBoxTypes.includes(type) ? type : 'warn');\n      setMessageText(text || 'Hello, the message on this path is expired');\n      setMessagePath(path);\n      setMessagePathLabel(pathLabel);\n    },\n    [state]\n  );\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <MessageBox type={messageType} show={!!messageText}>\n        <Box direction='column'>\n          <Box margin={{ bottom: 'small' }}>\n            <Text>{messageText}</Text>\n          </Box>\n          {messagePath &&\n            <Box>\n              <NavLink to={messagePath}>\n                {messagePathLabel || 'Continue'}\n              </NavLink>\n            </Box>\n          }\n        </Box>\n      </MessageBox>\n\n    </PageWrapper>\n  );\n};\n","import { useContext } from 'react';\nimport { Button, Box, Spinner, Text, ResponsiveContext } from 'grommet';\nimport { Login, Logout } from 'grommet-icons';\nimport styled from 'styled-components';\nimport { useAppState } from '../../store';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\nconst WhiteButton = styled(Button)`\n  height: 2.5rem;\n  background: white;\n  border:none;\n  border-radius: 2rem;\n`;\n\nexport const SignInButton = () => {\n  const size = useContext(ResponsiveContext);\n  const { isConnecting, signIn } = useAppState();\n\n  return (\n    <WhiteButton\n      onClick={() => signIn()}\n      disabled={isConnecting}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          {size !== 'small' &&\n            <Text>\n              {isConnecting ? 'Connecting' : 'Connect'}\n            </Text>\n          }\n          {size === 'small' &&\n            <Login />\n          }\n          {isConnecting && <InnerSpinner />}\n        </Box>\n      )}\n    </WhiteButton>\n  )\n};\n\nexport const SignOutButton = () => {\n  const size = useContext(ResponsiveContext);\n  const { isConnecting, signOut } = useAppState();\n\n  return (\n    <WhiteButton\n      onClick={() => signOut()}\n      disabled={isConnecting}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          {size !== 'small' &&\n            <Text>\n              {isConnecting ? 'Connecting' : 'Disconnect'}\n            </Text>\n          }\n          {size === 'small' &&\n            <Logout />\n          }\n          {isConnecting && <InnerSpinner />}\n        </Box>\n      )}\n    </WhiteButton>\n  )\n};\n","import { Box, Text, Image, Grid, Button } from 'grommet';\nimport type { Space } from 'stays-data-models'\nimport { useNavigate } from 'react-router-dom';\nimport { useAppState } from '../store';\n// import { ThemeMode } from './SwitchThemeMode';\nimport { SignInButton } from './buttons/web3Modal';\nimport styled from 'styled-components';\n\nexport const CustomButton = styled(Button)`\n  color:white;\n  border: none;\n  height: 2.5rem;\n  width: 10rem;\n  border-radius: 2.5rem;\n  background: linear-gradient(90.72deg, #FFF500, #3B37FF, #0D0E0F);\n\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nexport const SearchResultCard: React.FC<{ space: Space }> = ({ space }) => {\n  const { account } = useAppState();\n  const navigate = useNavigate();\n\n  return (\n    <Box\n      border={{\n        color: '#000000',\n        side: 'top',\n      }}\n      pad='large'\n      direction='row'\n      align='center'\n      alignSelf='center'\n\n      style={{ width: '64rem' }}\n      overflow='hidden'\n    >\n      <Grid\n        responsive\n        width='100%'\n        rows={['xsmall', 'small', 'xsmall']}\n        columns={['medium', 'flex']}\n        gap=\"medium\"\n        areas={[\n          { name: 'img', start: [0, 0], end: [1, 2] },\n          { name: 'header', start: [1, 0], end: [1, 1] },\n          { name: 'main', start: [1, 1], end: [1, 1] },\n          { name: 'action', start: [1, 2], end: [1, 2] },\n        ]}\n        align='center'\n      >\n        <Box gridArea=\"img\" height=\"100%\" >\n          <Image\n            fit=\"cover\"\n            src={space.media.logo}\n          />\n        </Box>\n        <Box gridArea=\"header\">\n          <Text size='xxlarge'  >\n            {space.name}\n          </Text>\n          {/* <Text size='large'>\n            {space.address === undefined ? '' : <Box direction='row'>\n              <Text>{space.address.country},</Text>\n              <Text>{space.address.locality},</Text>\n              <Text>{space.address.streetAddress}</Text>\n            </Box>}\n          </Text> */}\n        </Box>\n        <Box direction='column' justify='start' gridArea=\"main\">\n          lordem\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' justify='between' align='center' gridArea=\"action\">\n          <Text size='large'>From: $$$</Text>\n          {account ? <CustomButton\n            size='large'\n            label='Check Space'\n            onClick={() => navigate(`/space/${space.contractData.spaceId}`)}\n          /> : <SignInButton />}\n        </Box>\n      </Grid>\n    </Box>\n  );\n};\n","import { useContract } from './useContract';\nimport { useAppState } from '../store';\nimport { useCallback, useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSpaceAvailability');\n\nexport type UseSpaceAvailabilityHook = [\n  cb: (\n    spaceId: string,\n    startDay: number,\n    numberOfDays: number\n  ) => Promise<number[] | null>,\n  isReady: boolean\n];\n\n// This hook provides a callback function for getting a space availability\nexport const useSpaceAvailability = (): UseSpaceAvailabilityHook => {\n  const { rpcProvider, ipfsNode } = useAppState();\n  const [contract] = useContract(rpcProvider, ipfsNode);\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    setIsReady(!!contract);\n  }, [contract]);\n\n  const cb = useCallback(async (\n    spaceId: string,\n    startDay: number,\n    numberOfDays: number\n  ): Promise<number[] | null> => {\n    try {\n      if (!contract) {\n        throw new Error('Contract is not connected');\n      }\n      return contract.getAvailability(spaceId, startDay, numberOfDays);\n\n    } catch (error) {\n      logger.error(error);\n      return null;\n    }\n  }, [contract]);\n\n  return [cb, isReady];\n};\n","import { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\nimport { useAppDispatch, useAppState } from '../store';\nimport { LodgingFacility, Space } from 'stays-data-models';\nimport { useSpaceAvailability } from './useSpaceAvailability';\n\n// Initialize logger\nconst logger = Logger('useSpaceSearch');\n\nexport type UseSpaceSearchHook = [\n  isLoading: boolean,\n  error: string | undefined\n];\n\n// useSpaceSearch react hook\nexport const useSpaceSearch = (\n  startDay: number,\n  numberOfDays: number,\n  guestsAmount: number\n): UseSpaceSearchHook => {\n  const dispatch = useAppDispatch();\n  const { lodgingFacilities, searchTimestamp, searchParams } = useAppState();\n  const [cb, isReady] = useSpaceAvailability();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    setLoading(true);\n    setError(undefined);\n\n    if (!isReady) {\n      return\n    }\n\n    if (!!searchParams && searchParams.guestsAmount !== guestsAmount) {\n      dispatch({\n        type: 'SET_SEARCH_PARAMS',\n        payload: {\n          ...searchParams,\n          guestsAmount\n        }\n      });\n    }\n\n    if (\n      searchParams !== undefined &&\n      searchTimestamp !== undefined &&\n      searchTimestamp + 5 * 60 > Date.now() / 1000 &&\n      searchParams.numberOfDays === numberOfDays &&\n      searchParams.startDay === startDay\n    ) {\n      setLoading(false);\n      return\n    }\n\n    if (startDay < 0) {\n      setLoading(false);\n      setError('Not valid date')\n      return\n    }\n\n    dispatch({\n      type: 'RESET_RECORD',\n      payload: {\n        name: 'searchSpaces'\n      }\n    });\n\n    const getSpacesAvailability = async () => {\n      try {\n        const facilities: LodgingFacility[] = JSON.parse(JSON.stringify(lodgingFacilities))\n        const spaces = facilities.reduce(\n          (previousValue, currentValue) => [...previousValue, ...currentValue.spaces as Space[]],\n          [] as Space[]\n        );\n        const newSpaces = await Promise.all(\n          spaces.map(\n            async space => {\n              const availability = await cb(space.contractData.spaceId, startDay, numberOfDays)\n              return {\n                ...space,\n                available: availability === null ? availability : Math.min(...availability)\n              }\n            }\n          )\n        );\n\n        // Add all obtained records to state\n        for (const record of newSpaces) {\n          dispatch({\n            type: 'SET_RECORD',\n            payload: {\n              name: 'searchSpaces',\n              record: {\n                ...record,\n                id: record.contractData.spaceId\n              }\n            }\n          });\n        }\n        //Set timestamp to storage\n        dispatch({\n          type: 'SET_AVAILABILITY_TIMESTAMP',\n          payload: Date.now() / 1000\n        });\n        dispatch({\n          type: 'SET_SEARCH_PARAMS',\n          payload: {\n            startDay,\n            numberOfDays,\n            guestsAmount\n          }\n        });\n\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getSpacesAvailability();\n  }, [lodgingFacilities, isReady, cb, dispatch, numberOfDays, startDay, searchParams, searchTimestamp, guestsAmount]);\n\n  return [\n    loading,\n    error\n  ];\n};\n","import { PageWrapper } from './PageWrapper';\nimport { SearchForm } from '../components/search/SearchForm';\nimport { Box, Spinner } from 'grommet';\nimport { SearchResultCard } from '../components/SearchResultCard';\nimport { useAppState } from '../store';\nimport { useSpaceSearch } from '../hooks/useSpaceSearch';\nimport { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { MessageBox } from '../components/MessageBox';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { GradientText, WhiteText } from './Home';\n\nexport const Search = () => {\n  const { searchSpaces, provider, ipfsNode } = useAppState();\n  const { search } = useLocation();\n\n  const { startDay, numberOfDays, guestsAmount } = useMemo(() => {\n    const params = new URLSearchParams(search)\n    const startDay = Number(params.get('startDay'))\n    const numberOfDays = Number(params.get('numberOfDays'))\n    return {\n      startDay,\n      numberOfDays,\n      guestsAmount: Number(params.get('guestsAmount')),\n    }\n  }, [search])\n\n  const [loading, error] = useSpaceSearch(startDay, numberOfDays, guestsAmount)\n  const [getDate, isGetDateReady] = useDayZero(provider, ipfsNode);\n\n  const filteredSpaces = useMemo(() => {\n    return searchSpaces.filter((space: any) => space.capacity >= guestsAmount)\n  }, [searchSpaces, guestsAmount])\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <WhiteText>April 18-25 2022</WhiteText>\n      <WhiteText>Devconnect APRIL 18-25, 2022 Amsterdam, The Netherlands</WhiteText>\n      <GradientText>Amsterdam</GradientText>\n      <WhiteText>A collaborative Ethereum week, built by and for everyone</WhiteText>\n\n      {isGetDateReady && <SearchForm\n        getDate={getDate}\n        startDay={startDay}\n        numberOfDays={numberOfDays}\n        initGuestsAmount={guestsAmount}\n      />}\n\n      <MessageBox type='error' show={!!error}>\n        <Box direction='row'>\n          <Box>\n            {error}\n          </Box>\n        </Box>\n      </MessageBox>\n\n      {loading ? <Spinner color='accent-1' alignSelf='center' size='medium' /> : null}\n      {filteredSpaces !== undefined && isGetDateReady ? filteredSpaces.map((space) =>\n        <SearchResultCard key={space.contractData.spaceId} space={space} />\n      ) : null}\n    </PageWrapper>\n  );\n};\n","import { Anchor } from 'grommet';\nimport { Share } from 'grommet-icons';\nimport styled from 'styled-components';\n\nexport interface ExternalLinkProps {\n  href: string;\n  label: string;\n}\n\nexport const ShareIcon = styled(Share)`\n  cursor: pointer;\n`;\n\nexport const ExternalLink = ({\n  href,\n  label\n}: ExternalLinkProps) => {\n\n  return (\n    <Anchor\n      href={href}\n      target='_blank'\n      rel='noopener noreferrer'\n      gap='xsmall'\n      reverse\n      label={label}\n      icon={<ShareIcon size='small' />}\n    />\n  )\n};\n","// Makes shorter text with ellipsis in the center\nexport const centerEllipsis = (text: string, width = 4, prefix = 2): string =>\n  text\n    ? text.length > ((width * 2) + prefix)\n      ? `${text.substring(0, width + prefix)}...${text.substring(text.length - width - prefix)}`\n      : text\n    : '';\n\n// Copies text to clipboard\nexport const copyToClipboard = (text: string): Promise<void> => {\n  if (navigator.clipboard && window.isSecureContext) {\n    return navigator\n      .clipboard\n      .writeText(text)\n      .then(resolve => resolve);\n  } else {\n    let textArea = document.createElement(\"textarea\");\n    textArea.value = text;\n    textArea.style.opacity = \"0\";\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    return new Promise((resolve, reject) => {\n      document.execCommand('copy') ? resolve() : reject();\n      textArea.remove();\n    });\n  }\n}\n","import { useEffect, useState } from 'react';\n\nexport const useWindowsDimension = () => {\n  const [windowDimenion, detectHW] = useState({\n    winWidth: window.innerWidth,\n    winHeight: window.innerHeight,\n  });\n\n  const detectSize = () => {\n    detectHW({\n      winWidth: window.innerWidth,\n      winHeight: window.innerHeight,\n    });\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', detectSize);\n\n    return () => {\n      window.removeEventListener('resize', detectSize);\n    };\n  }, [windowDimenion]);\n\n  return windowDimenion;\n};\n","import type { MessageBoxTypes } from '../components/MessageBox';\nimport { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport type UseGoToMessageHook = (\n  text: string,\n  type?: MessageBoxTypes,\n  path?: string,\n  pathLabel?: string\n) => void;\n\nexport interface MessageState {\n  text: string;\n  type: MessageBoxTypes;\n  path?: string;\n  pathLabel?: string;\n}\n\nexport const useGoToMessage = (): UseGoToMessageHook => {\n  const navigate = useNavigate();\n  return useCallback(\n    (text: string, type = 'info', path?: string, pathLabel?: string) =>\n      navigate(\n        '/message',\n        {\n          replace: true,\n          state: {\n            text,\n            type,\n            path,\n            pathLabel,\n          }\n        }\n      ),\n    [navigate]\n  );\n};\n","//Source https://betterprogramming.pub/the-best-practice-with-google-place-autocomplete-api-on-react-939211e8b4ce\nimport { enumerators } from 'stays-data-models';\n\n  const {\n    allowedLodgingFacilityTypes, // Lodging facility types\n    allowedLodgingFacilityTiers, // Lodging facility tiers\n   // allowedSpaceTypes, // Space types\n  } = enumerators;\n\nexport const defaultRoomTier = allowedLodgingFacilityTiers;\n\nexport const ResponsiveColumn = (winWidth: number) => {\n  if (winWidth >= 1300) {\n    return ['65%', '35%'];\n  } else if (winWidth >= 1000) {\n    return ['65%', '35%'];\n  } else if (winWidth >= 768) {\n    return ['60%', '40%'];\n  } else if (winWidth >= 600) {\n    return ['large'];\n  } else if (winWidth <= 500) {\n    return ['100%'];\n  } else if (winWidth <= 400) {\n    return ['100%'];\n  }\n};\n\n\nexport interface imageSchema {\n   description: string;\n   uri: string;\n   thumbnail: string;\n\n}\n\nexport interface addressSchema {\n  country: string;\n  subdivision: string;\n  locality: string;\n  postalCode: string;\n  streetAddress: string;\n  premise: string;\n  gps: string;\n}\n\nexport interface operatorSchema {\n  name: string;\n  address: Array<addressSchema>\n}\n\nexport interface mediaSchema {\n  logo?: string;\n  images: Array<imageSchema>;\n}\n\nexport interface LodgingFacilityRaw {\n  name?: string;\n  description?: string;\n  type?: string;\n  tier: string;\n  address?: Array<addressSchema>;\n  operator?: Array<operatorSchema>;\n  media: Array<mediaSchema>;\n}\n\nexport const LodgingFacilityRaw2:any = {\n  name: '',\n  description: '',\n  type: '',\n  tier: '',\n  address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: '',\n    },\n  operator: {\n    name: '',\n    address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: '',\n    },\n  },\n  media: {\n    logo: '',\n    images: [],\n   // images: Array <imageSchema>\n  },\n};\n\nexport const defaultFormValue = {\n  roomName: 'Madagaska room',\n  roomType: 'Deluxe King',\n  roomTier: 'Basic',\n  description: '',\n  addressCountry: '',\n  addressSubdivision: '',\n  addressLocality: '',\n  addressPostalCode: '',\n  addressGeometry: '',\n  addressPremise: '',\n\n  operatorGeometry: '',\n  operatorPostalCode: '',\n  operatorLocality: '',\n  operatorCountry: '',\n  operatorPremise: '', //addressPremise\n};\nexport const defaultRoomTypes = allowedLodgingFacilityTypes;\nexport const defaultCountries: string[] = [\n  'Afghanistan',\n  'Aland Islands',\n  'Albania',\n  'Algeria',\n  'American Samoa',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'Antarctica',\n  'Antigua and Barbuda',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'Bonaire, Sint Eustatius and Saba',\n  'Bosnia and Herzegovina',\n  'Botswana',\n  'Bouvet Island',\n  'Brazil',\n  'British Indian Ocean Territory',\n  'Brunei Darussalam',\n  'Bulgaria',\n  'Burkina Faso',\n  'Burundi',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'Cape Verde',\n  'Cayman Islands',\n  'Central African Republic',\n  'Chad',\n  'Chile',\n  'China',\n  'Christmas Island',\n  'Cocos (Keeling) Islands',\n  'Colombia',\n  'Comoros',\n  'Congo',\n  'Congo, Democratic Republic of the Congo',\n  'Cook Islands',\n  'Costa Rica',\n  'Cote D\\'Ivoire',\n  'Croatia',\n  'Cuba',\n  'Curacao',\n  'Cyprus',\n  'Czech Republic',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'Dominican Republic',\n  'Ecuador',\n  'Egypt',\n  'El Salvador',\n  'Equatorial Guinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'Falkland Islands (Malvinas)',\n  'Faroe Islands',\n  'Fiji',\n  'Finland',\n  'France',\n  'French Guiana',\n  'French Polynesia',\n  'French Southern Territories',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'Greece',\n  'Greenland',\n  'Grenada',\n  'Guadeloupe',\n  'Guam',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'Guinea-Bissau',\n  'Guyana',\n  'Haiti',\n  'Heard Island and Mcdonald Islands',\n  'Holy See (Vatican City State)',\n  'Honduras',\n  'Hong Kong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran, Islamic Republic of',\n  'Iraq',\n  'Ireland',\n  'Isle of Man',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'Kiribati',\n  'Korea, Democratic People\\'s Republic of',\n  'Korea, Republic of',\n  'Kosovo',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Lao People\\'s Democratic Republic',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libyan Arab Jamahiriya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia, the Former Yugoslav Republic of',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Marshall Islands',\n  'Martinique',\n  'Mauritania',\n  'Mauritius',\n  'Mayotte',\n  'Mexico',\n  'Micronesia, Federated States of',\n  'Moldova, Republic of',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nauru',\n  'Nepal',\n  'Netherlands',\n  'Netherlands Antilles',\n  'New Caledonia',\n  'New Zealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Niue',\n  'Norfolk Island',\n  'Northern Mariana Islands',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Palestinian Territory, Occupied',\n  'Panama',\n  'Papua New Guinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Pitcairn',\n  'Poland',\n  'Portugal',\n  'Puerto Rico',\n  'Qatar',\n  'Reunion',\n  'Romania',\n  'Russian Federation',\n  'Rwanda',\n  'Saint Barthelemy',\n  'Saint Helena',\n  'Saint Kitts and Nevis',\n  'Saint Lucia',\n  'Saint Martin',\n  'Saint Pierre and Miquelon',\n  'Saint Vincent and the Grenadines',\n  'Samoa',\n  'San Marino',\n  'Sao Tome and Principe',\n  'Saudi Arabia',\n  'Senegal',\n  'Serbia',\n  'Serbia and Montenegro',\n  'Seychelles',\n  'Sierra Leone',\n  'Singapore',\n  'Sint Maarten',\n  'Slovakia',\n  'Slovenia',\n  'Solomon Islands',\n  'Somalia',\n  'South Africa',\n  'South Georgia and the South Sandwich Islands',\n  'South Sudan',\n  'Spain',\n  'Sri Lanka',\n  'Sudan',\n  'Suriname',\n  'Svalbard and Jan Mayen',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syrian Arab Republic',\n  'Taiwan, Province of China',\n  'Tajikistan',\n  'Tanzania, United Republic of',\n  'Thailand',\n  'Timor-Leste',\n  'Togo',\n  'Tokelau',\n  'Tonga',\n  'Trinidad and Tobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'Turks and Caicos Islands',\n  'Tuvalu',\n  'Uganda',\n  'Ukraine',\n  'United Arab Emirates',\n  'United Kingdom',\n  'United States',\n  'United States Minor Outlying Islands',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Viet Nam',\n  'Virgin Islands, British',\n  'Virgin Islands, U.s.',\n  'Wallis and Futuna',\n  'Western Sahara',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n];\n","import type { LodgingFacilityRaw } from 'stays-data-models';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport {\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Button,\n  Box,\n  Collapsible,\n  Image,\n  Text,\n  TextArea,\n  Form,\n  Grid,\n  FormField,\n  FileInput,\n  Layer,\n  Heading,\n  Select,\n  Spinner,\n  Stack,\n  Carousel,\n} from 'grommet';\nimport { Close, CaretRightFill, CaretDownFill } from 'grommet-icons';\nimport { useParams } from 'react-router-dom';\nimport { MessageBox } from '../MessageBox';\nimport { ExternalLink } from '../ExternalLink';\nimport { validateLodgingFacilityData } from 'stays-data-models/dist/src/validators';\nimport { enumerators } from 'stays-data-models';\nimport { centerEllipsis } from '../../utils/strings';\nimport { useAppState } from '../../store';\nimport { useWeb3StorageApi } from '../../hooks/useWeb3StorageApi';\nimport { useContract } from './../../hooks/useContract';\nimport { useWindowsDimension } from '../../hooks/useWindowsDimension';\nimport { useGoToMessage } from '../../hooks/useGoToMessage';\nimport { ResponsiveColumn } from '../../utils/roomProfile';\nimport { getNetwork } from '../../config';\nimport Logger from '../../utils/logger';\n\n// Initialize logger\nconst logger = Logger('FacilityProfileCard');\n\nexport const defaultCountries: string[] = [\n  'Afghanistan',\n  'Aland Islands',\n  'Albania',\n  'Algeria',\n  'American Samoa',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'Antarctica',\n  'Antigua and Barbuda',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'Bonaire, Sint Eustatius and Saba',\n  'Bosnia and Herzegovina',\n  'Botswana',\n  'Bouvet Island',\n  'Brazil',\n  'British Indian Ocean Territory',\n  'Brunei Darussalam',\n  'Bulgaria',\n  'Burkina Faso',\n  'Burundi',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'Cape Verde',\n  'Cayman Islands',\n  'Central African Republic',\n  'Chad',\n  'Chile',\n  'China',\n  'Christmas Island',\n  'Cocos (Keeling) Islands',\n  'Colombia',\n  'Comoros',\n  'Congo',\n  'Congo, Democratic Republic of the Congo',\n  'Cook Islands',\n  'Costa Rica',\n  'Cote D\\'Ivoire',\n  'Croatia',\n  'Cuba',\n  'Curacao',\n  'Cyprus',\n  'Czech Republic',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'Dominican Republic',\n  'Ecuador',\n  'Egypt',\n  'El Salvador',\n  'Equatorial Guinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'Falkland Islands (Malvinas)',\n  'Faroe Islands',\n  'Fiji',\n  'Finland',\n  'France',\n  'French Guiana',\n  'French Polynesia',\n  'French Southern Territories',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'Greece',\n  'Greenland',\n  'Grenada',\n  'Guadeloupe',\n  'Guam',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'Guinea-Bissau',\n  'Guyana',\n  'Haiti',\n  'Heard Island and Mcdonald Islands',\n  'Holy See (Vatican City State)',\n  'Honduras',\n  'Hong Kong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran, Islamic Republic of',\n  'Iraq',\n  'Ireland',\n  'Isle of Man',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'Kiribati',\n  'Korea, Democratic People\\'s Republic of',\n  'Korea, Republic of',\n  'Kosovo',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Lao People\\'s Democratic Republic',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libyan Arab Jamahiriya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia, the Former Yugoslav Republic of',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Marshall Islands',\n  'Martinique',\n  'Mauritania',\n  'Mauritius',\n  'Mayotte',\n  'Mexico',\n  'Micronesia, Federated States of',\n  'Moldova, Republic of',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nauru',\n  'Nepal',\n  'Netherlands',\n  'Netherlands Antilles',\n  'New Caledonia',\n  'New Zealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Niue',\n  'Norfolk Island',\n  'Northern Mariana Islands',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Palestinian Territory, Occupied',\n  'Panama',\n  'Papua New Guinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Pitcairn',\n  'Poland',\n  'Portugal',\n  'Puerto Rico',\n  'Qatar',\n  'Reunion',\n  'Romania',\n  'Russian Federation',\n  'Rwanda',\n  'Saint Barthelemy',\n  'Saint Helena',\n  'Saint Kitts and Nevis',\n  'Saint Lucia',\n  'Saint Martin',\n  'Saint Pierre and Miquelon',\n  'Saint Vincent and the Grenadines',\n  'Samoa',\n  'San Marino',\n  'Sao Tome and Principe',\n  'Saudi Arabia',\n  'Senegal',\n  'Serbia',\n  'Serbia and Montenegro',\n  'Seychelles',\n  'Sierra Leone',\n  'Singapore',\n  'Sint Maarten',\n  'Slovakia',\n  'Slovenia',\n  'Solomon Islands',\n  'Somalia',\n  'South Africa',\n  'South Georgia and the South Sandwich Islands',\n  'South Sudan',\n  'Spain',\n  'Sri Lanka',\n  'Sudan',\n  'Suriname',\n  'Svalbard and Jan Mayen',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syrian Arab Republic',\n  'Taiwan, Province of China',\n  'Tajikistan',\n  'Tanzania, United Republic of',\n  'Thailand',\n  'Timor-Leste',\n  'Togo',\n  'Tokelau',\n  'Tonga',\n  'Trinidad and Tobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'Turks and Caicos Islands',\n  'Tuvalu',\n  'Uganda',\n  'Ukraine',\n  'United Arab Emirates',\n  'United Kingdom',\n  'United States',\n  'United States Minor Outlying Islands',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Viet Nam',\n  'Virgin Islands, British',\n  'Virgin Islands, U.s.',\n  'Wallis and Futuna',\n  'Western Sahara',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n];\n\nexport const defaultFormValue: LodgingFacilityRaw = {\n  name: '',\n  description: '',\n  type: '',\n  tier: '',\n  address: {\n    country: '',\n    subdivision: '',\n    locality: '',\n    postalCode: '',\n    streetAddress: '',\n    premise: '',\n    gps: ''\n  },\n  operator: {\n    name: '',\n    address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: ''\n    }\n  },\n  media: {\n    logo: '',\n    images: []\n  }\n};\n\nconst flattenObject = (obj: any, prefix = ''): Record<string, any> =>\n  Object\n    .keys(obj)\n    .reduce(\n      (acc, key) => {\n        const pre = prefix.length ? prefix + '.' : '';\n        acc = {\n          ...acc,\n          ...(\n            typeof obj[key] === 'object'\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              ? flattenObject(obj[key], pre + key)\n              : {\n                [pre + key]: obj[key]\n              }\n          )\n        };\n        return acc;\n      },\n      {}\n    );\n\nconst unFlattenObject = (obj: Record<string, any>) => {\n  const result: any = {};\n  for (let i in obj) {\n    const keys = i.split('.');\n    keys.reduce(\n      (acc, key, j) => {\n        return acc[key] ||\n          (acc[key] = isNaN(Number(keys[j + 1])) ? (keys.length - 1 === j ? obj[i] : {}) : [])\n      },\n      result\n    );\n  }\n  return result;\n};\n\nexport const FacilityProfileCard = () => {\n  const { id } = useParams<{ id: string }>();\n  const showMessage = useGoToMessage();\n  const { winWidth } = useWindowsDimension();\n  const {\n    provider,\n    ipfsNode,\n    ownFacilities,\n    ownFacilitiesLoading,\n    ownFacilitiesRefresh\n  } = useAppState();\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [profileValue, setProfileValue] = useState<Record<string, any>>(flattenObject(defaultFormValue));\n  const [countries, setCountries] = useState<string[]>(defaultCountries);\n  const [addressOpen, setAddressOpen] = useState<boolean>(false);\n  const [operatorOpen, setOperatorOpen] = useState<boolean>(false);\n  const [showImagesLoader, setShowImagesLoader] = useState<boolean>(false);\n  const [uploadIpfsError, setUploadIpfsError] = useState<string | undefined>();\n  const [facilityError, setFacilityError] = useState<string | undefined>();\n  const [facilityLoading, setFacilityLoading] = useState<boolean>(false);\n  const [logoUploading, setLogoUploading] = useState<boolean>(false);\n  const [imagesUploading, setImagesUploading] = useState<boolean>(false);\n  const [images, setImages] = useState<File[]>([]);\n  const [imagesDescriptions, setImagesDescriptions] = useState<Record<string, string>>({});\n  const [validationError, setValidationError] = useState<string | undefined>();\n  const [hash, setHash] = useState<string | undefined>();\n  const [profileCreating, setProfileCreating] = useState<boolean>(false);\n\n  // editing scope\n  const [selectedFacilityProfile, setSelectedFacilityProfile] = useState<LodgingFacilityRaw | undefined>();\n\n  const isLoading = useMemo<boolean>(\n    () => !!!web3Storage || loadingContract,\n    [web3Storage, loadingContract]\n  );\n\n  useEffect(\n    () => {\n      if (isLoading || !id || !!!ownFacilities) {\n        setSelectedFacilityProfile(undefined);\n        return;\n      }\n\n      try {\n        setFacilityError(undefined);\n        setFacilityLoading(true);\n\n        const facility = ownFacilities.find(\n          f => f.contractData.lodgingFacilityId === id\n        );\n\n        if (!facility) {\n          if (!ownFacilitiesLoading) {\n            throw new Error(\n              `Unable find the lodging facility with Id: ${id}`\n            );\n          }\n          setSelectedFacilityProfile(undefined);\n          return;\n        }\n\n        const profile = JSON.parse(JSON.stringify(facility));\n        delete profile.contractData;\n        delete profile.spaces;\n        delete profile.updated;\n\n        setSelectedFacilityProfile(profile);\n        setProfileValue(flattenObject(profile));\n        logger.debug('Selected facility profile', profile);\n        setFacilityLoading(false);\n      } catch (err) {\n        logger.error(err);\n        setFacilityError(\n          (err as Error).message || 'Unknown lodging facility loading error'\n        );\n        setFacilityLoading(false);\n      }\n    },\n    [id, ownFacilities, ownFacilitiesLoading, isLoading]\n  );\n\n  // true - update; false - create\n  const isUpdateMode = useMemo(\n    () => !!selectedFacilityProfile,\n    [selectedFacilityProfile]\n  );\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork();\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null;\n  }, [hash]);\n\n  const closeImageLoader = () => {\n    setImages([]);\n    setImagesDescriptions({});\n    setShowImagesLoader(false);\n  };\n\n  const unFlattenProfile = useMemo<LodgingFacilityRaw>(\n    () => unFlattenObject(profileValue),\n    [profileValue]\n  );\n\n  const deployToIpfs = useCallback(\n    async (\n      file: File,\n      loadingSetter = () => {},\n      isImage = false\n    ) => {\n      try {\n        if (!web3Storage) {\n          throw new Error(\"IPFS API not ready yet\");\n        }\n        loadingSetter(true);\n        const { cid } = await web3Storage.add(file);\n        const uri = isImage\n          ? `https://${cid}.ipfs.dweb.link`\n          : `ipfs://${cid}`;\n        loadingSetter(false);\n        return uri;\n      } catch (err) {\n        logger.error(err);\n        setUploadIpfsError(\n          (err as Error).message || 'Unknown IPFS uploader error'\n        );\n        loadingSetter(false);\n        return null;\n      }\n    },\n    [web3Storage]\n  );\n\n  const handleSubmit = useCallback(\n    async () => {\n      setValidationError(undefined);\n\n      try {\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n\n        setProfileCreating(true);\n\n        const profileData = unFlattenObject(profileValue);\n\n        logger.debug('profileData', profileData);\n        validateLodgingFacilityData(profileData);\n\n        if (isUpdateMode) {\n          if (!id) {\n            throw new Error(\n              'Id of the lodging facility is required but not found in the configuration'\n            );\n          }\n\n          await contract.updateLodgingFacility(\n            id,\n            profileData,\n            undefined,\n            setHash,\n            undefined\n          );\n        } else {\n          await contract.registerLodgingFacility(\n            profileData,\n            true,\n            undefined,\n            undefined,\n            setHash,\n            undefined\n          );\n        }\n\n        if (ownFacilitiesRefresh) {\n          ownFacilitiesRefresh();\n        }\n\n        await new Promise(resolve => setTimeout(resolve, 10000));\n\n        setProfileCreating(false);\n\n        showMessage(\n          `The Lodging Facility \"${profileData.name}\" has been successfully ${isUpdateMode ? 'updated' : 'created'}`,\n          'info',\n          '/facilities',\n          'Back to my Lodging Facilities'\n        );\n      } catch (err) {\n        logger.error(err);\n        setValidationError(\n          (err as Error).message ||\n          'Unknown profile validation error'\n        );\n        setProfileCreating(false);\n      }\n    },\n    [showMessage, isUpdateMode, profileValue, id, contract, ownFacilitiesRefresh]\n  );\n\n  return (\n    <>\n      <MessageBox type='info' show={isLoading}>\n        <Box direction='row'>\n          <Box>\n            Profile form dependencies are loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={facilityLoading}>\n        <Box direction='row'>\n          <Box>\n            Lodging Facility is profile loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!uploadIpfsError}>\n        <Box>\n          {uploadIpfsError}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!facilityError}>\n        <Box>\n          {facilityError}\n        </Box>\n      </MessageBox>\n\n      {!isLoading &&\n        <Form\n          value={profileValue}\n          validate='change'\n          onReset={() => {\n            setProfileValue(flattenObject(defaultFormValue));\n            setAddressOpen(false);\n            setOperatorOpen(false);\n            closeImageLoader();\n          }}\n          onSubmit={handleSubmit}\n          onChange={nextValue => setProfileValue(nextValue)}\n        >\n          <Card width='xxlarge' elevation='xsmall' background='light-3'>\n            <CardHeader pad='medium'>\n              <Heading margin='none' level='3'>\n                Lodging Facility Profile\n              </Heading>\n            </CardHeader>\n            <CardBody\n              pad='medium'\n              alignSelf='start'\n              background='#fff'\n              width='xxlarge'\n            >\n              <Grid\n                columns={ResponsiveColumn(winWidth)}\n                responsive={true}\n              >\n                <Box>\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Name'\n                    name='name'\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Type'\n                    name='type'\n                    required\n                  >\n                    <Select\n                      name='type'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Room Type'\n                      required\n                      clear\n                      options={enumerators.allowedLodgingFacilityTypes}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Tier'\n                    name='tier'\n                    required\n                  >\n                    <Select\n                      name='tier'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Room Tier'\n                      required\n                      clear\n                      options={enumerators.allowedLodgingFacilityTiers}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Description'\n                    name='description'\n                    htmlFor='text-area'\n                    component={TextArea}\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                    <Box>\n                      <Heading\n                        margin={{ 'left': 'small' }}\n                        level='3'\n                        style={{ cursor: 'pointer' }}\n                        onClick={() => setAddressOpen(!addressOpen)}\n                      >\n                        <Box direction='row'>\n                          <Box pad={{ 'right': 'small' }}>\n                            Address\n                          </Box>\n                          <Box>\n                            {addressOpen ? <CaretDownFill /> : <CaretRightFill />}\n                          </Box>\n                        </Box>\n                      </Heading>\n\n                      <Collapsible open={addressOpen}>\n                        <FormField\n                          label='Street Address'\n                          style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                          name='address.streetAddress'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Locality'\n                          name='address.locality'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Postal Code'\n                          name='address.postalCode'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                          label='Country'\n                          name='address.country'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        >\n                          <Select\n                            name='address.country'\n                            placeholder='Country'\n                            clear\n                            required\n                            options={countries}\n                            onSearch={(text) => {\n                              const escapedText = text.replace(\n                                /[-\\\\^$*+?.()|[\\]{}]/g,\n                                '\\\\$&'\n                              );\n\n                              const exp = new RegExp(escapedText, 'i');\n                              setCountries(\n                                defaultCountries.filter((o) => exp.test(o))\n                              );\n                            }}\n                            onClose={() => setCountries(defaultCountries)}\n                          />\n                        </FormField>\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Subdivision'\n                          name='address.subdivision'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Premise'\n                          name='address.premise'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='GPS'\n                          name='address.gps'\n                        />\n                      </Collapsible>\n                    </Box>\n\n                    <Box>\n                      <Heading\n                        margin={{ 'left': 'small' }}\n                        level='3'\n                        style={{ cursor: 'pointer' }}\n                        onClick={() => setOperatorOpen(!operatorOpen)}\n                      >\n                        <Box direction='row'>\n                          <Box pad={{ 'right': 'small' }}>\n                            Operator\n                          </Box>\n                          <Box>\n                            {operatorOpen ? <CaretDownFill /> : <CaretRightFill />}\n                          </Box>\n                        </Box>\n                      </Heading>\n\n                      <Collapsible open={operatorOpen}>\n                        <FormField\n                          // style={{ padding: 10 }}\n                          style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                          label='Operator Name'\n                          name='operator.name'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          label='Street Address'\n                          style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                          name='operator.address.streetAddress'\n                          required\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Locality'\n                          name='operator.address.locality'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Postal Code'\n                          name='operator.address.postalCode'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                          label='Country'\n                          name='operator.address.country'\n                          required\n                          validate={\n                            [\n                              name => {\n                                if (!name || name === '') {\n                                  return 'cannot be empty';\n                                }\n                              },\n                            ]\n                          }\n                        >\n                          <Select\n                            name='operator.address.country'\n                            placeholder='Country'\n                            clear\n                            required\n                            options={countries}\n                            onSearch={(text) => {\n                              const escapedText = text.replace(\n                                /[-\\\\^$*+?.()|[\\]{}]/g,\n                                '\\\\$&'\n                              );\n\n                              const exp = new RegExp(escapedText, 'i');\n                              setCountries(\n                                defaultCountries.filter((o) => exp.test(o))\n                              );\n                            }}\n                            onClose={() => setCountries(defaultCountries)}\n                          />\n                        </FormField>\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Subdivision'\n                          name='operator.address.subdivision'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Premise'\n                          name='operator.address.premise'\n                        />\n\n                        <FormField\n                          style={{ padding: 10, marginLeft: 10 }}\n                          label='Geometry'\n                          name='operator.address.gps'\n                        />\n                      </Collapsible>\n                    </Box>\n\n                    {unFlattenProfile?.media?.images && unFlattenProfile.media.images.length > 0 &&\n                      <Box>\n                        <Heading\n                          margin={{ 'left': 'small' }}\n                          level='3'\n                        >\n                          Facility Images\n                        </Heading>\n\n                        <Box height='medium' overflow='hidden'>\n                          <Carousel fill initialChild={0}>\n                            {unFlattenProfile.media.images.map(\n                              (image, index: number) => (\n                                <Stack key={index} fill anchor='center'>\n                                  <Image\n                                    fill\n                                    height='medium'\n                                    fit='cover'\n                                    src={image.uri}\n                                    title={image.description}\n                                  />\n                                  <Button\n                                    icon={<Close color='white' />}\n                                    onClick={() => {\n                                      setProfileValue(\n                                        flattenObject({\n                                          ...unFlattenProfile,\n                                          media: {\n                                            ...unFlattenProfile.media,\n                                            images: unFlattenProfile?.media?.images?.filter(\n                                              (_, i) => i !== index\n                                            )\n                                          }\n                                        })\n                                      );\n                                    }}\n                                  />\n                                </Stack>\n                              )\n                            )}\n                          </Carousel>\n                        </Box>\n                      </Box>\n                    }\n                </Box>\n\n                <Box alignSelf='start' align='center'>\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Text>Facility Logo</Text>\n\n                    <Stack anchor='top-right'>\n                      <Image\n                        src={\n                          profileValue['media.logo'] === ''\n                            ? '/interior-design.png'\n                            : profileValue['media.logo']\n                        }\n                        fit='cover'\n                        width='110rem'\n                        height='110rem'\n                        style={{\n                          background: 'rgba(255,255,255, 0.5)',\n                          transition: 'all .3s linear',\n                          padding: 40,\n                          border: '1px solid #ccc',\n                        }}\n                      />\n                      {profileValue['media.logo'] === '' ? null : (\n                        <Box\n                          background='brand'\n                          margin='small'\n                          pad={{ horizontal: 'small', vertical: 'small' }}\n                          style={{ cursor: 'pointer' }}\n                          round\n                          onClick={() => setProfileValue({\n                            ...profileValue,\n                            'media.logo': ''\n                          })}\n                        >\n                          <Close color='white' size='small' />\n                        </Box>\n                      )}\n                      {logoUploading &&\n                        <Spinner size='medium' margin={{ top: '80px', right: '80px' }} />\n                      }\n                    </Stack>\n\n                    {profileValue['media.logo'] === '' &&\n                      <FormField htmlFor='fileInput' required>\n                        <FileInput\n                          accept='image/*'\n                          max={1}\n                          maxSize={50000}\n                          messages={{\n                            browse: 'browse',\n                            dropPrompt: 'Drop file here or',\n                            files: 'files',\n                            remove: 'remove',\n                            removeAll: 'remove all',\n                            maxFile: 'Attach a maximum of {max} files only.',\n                          }}\n                          onChange={async (event) => {\n                            setUploadIpfsError(undefined);\n\n                            if (event.target.files) {\n                              const uri = await deployToIpfs(\n                                event.target.files[0],\n                                setLogoUploading,\n                                true\n                              );\n\n                              if (uri) {\n                                setProfileValue({\n                                  ...profileValue,\n                                  'media.logo': uri\n                                });\n                              }\n                            }\n                          }}\n                        />\n                      </FormField>\n                    }\n                  </Box>\n\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    style={{ marginTop: 0 }}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Stack anchor='top-right' style={{ marginTop: 80 }}>\n                      <Button\n                        id='ShowRImage'\n                        onClick={() => setShowImagesLoader(true)}\n                        label='Add Room Images'\n                        style={{\n                          height: 40,\n                          fontSize: 12,\n                          marginTop: 6,\n                        }}\n                      />\n\n                      {showImagesLoader &&\n                        <Layer\n                          style={{ overflow: \"auto\" }}\n                          onEsc={closeImageLoader}\n                          onClickOutside={closeImageLoader}\n                        >\n                          <Box\n                            background=\"brand\"\n                            margin={{ top: \"small\", right: \"small\" }}\n                            style={{\n                              cursor: \"pointer\",\n                              width: 30,\n                              height: 30,\n                              position: \"absolute\",\n                              right: \"0\",\n                            }}\n                            round\n                            align='center'\n                            justify='center'\n                            onClick={closeImageLoader}\n                          >\n                            <Close color=\"white\" size=\"small\" />\n                          </Box>\n\n                          <Card width=\"large\" background=\"light-1\">\n                            <CardHeader>\n                              <Text\n                                style={{\n                                  fontSize: 15,\n                                  fontWeight: \"600\",\n                                  padding: 20,\n                                  paddingBottom: 10,\n                                }}\n                              >\n                                SELECT ROOM IMAGES\n                              </Text>\n                            </CardHeader>\n                            <CardBody style={{ padding: 20 }}>\n                              <form>\n                                <FormField htmlFor=\"fileInput\">\n                                  <FileInput\n                                    accept=\"image/*\"\n                                    multiple={{ max: 5 }}\n                                    messages={{\n                                      browse: \"browse\",\n                                      dropPrompt: \"Drop file here or\",\n                                      dropPromptMultiple: \"Drop files here or\",\n                                      files: \"files\",\n                                      remove: \"remove\",\n                                      removeAll: \"remove all\",\n                                      maxFile:\n                                        \"Attach a maximum of {max} files only.\",\n                                    }}\n                                    onChange={((e: any, { files }: { files: File[] }) => {\n                                      logger.debug(e);\n                                      if (files.length > 0) {\n                                        setImages(files);\n                                      }\n                                    }) as any}\n                                  />\n                                </FormField>\n\n                                {images.length > 0 &&\n                                  <>\n                                    <Heading\n                                      margin={{ 'left': 'small' }}\n                                      level='3'\n                                    >\n                                      IMAGES\n                                    </Heading>\n\n                                    <ul\n                                      style={{ listStyleType: 'none' }}\n                                    >\n                                      <br />\n                                      {images.map((file, index) => (\n                                        <li\n                                          key={index}\n                                          style={{ paddingBottom: 25 }}\n                                        >\n                                          <Box direction=\"row\">\n                                            <img\n                                              style={{ height: 40, width: 40 }}\n                                              alt={file.name}\n                                              src={URL.createObjectURL(file)}\n                                            ></img>\n                                            <textarea\n                                              value={imagesDescriptions[file.name] || ''}\n                                              onChange={(e) => {\n                                                setImagesDescriptions({\n                                                  ...imagesDescriptions,\n                                                  [file.name]: e.target.value\n                                                });\n                                              }}\n                                              required\n                                              placeholder={`add a description for ${file.name}`}\n                                              rows={2}\n                                              cols={40}\n                                              style={{\n                                                padding: 15,\n                                                border: \"1px solid #ccc\",\n                                                marginLeft: 10,\n                                              }}\n                                            ></textarea>\n                                          </Box>\n                                        </li>\n                                      ))}\n                                    </ul>\n\n                                    <Button\n                                      fill={true}\n                                      label={\n                                        <Box direction='row'>\n                                          <Box margin={{ right: 'small' }}>\n                                            <Text>\n                                              Upload\n                                            </Text>\n                                          </Box>\n                                          {imagesUploading &&\n                                            <Spinner color='white' />\n                                          }\n                                        </Box>\n                                      }\n                                      disabled={isLoading || imagesUploading}\n                                      primary\n                                      style={{\n                                        margin: 15,\n                                        height: 50,\n                                        width: \"94%\",\n                                      }}\n                                      onClick={async (e: any) => {\n                                        e.preventDefault();\n                                        setImagesUploading(true);\n\n                                        let unFlattenProfile = unFlattenObject(profileValue);\n\n                                        const initialImagesCount = unFlattenProfile.media.images.length;\n                                        logger.debug('initialImagesCount', initialImagesCount);\n\n                                        for (let i=0; i < images.length; i++) {\n                                          const uri = await deployToIpfs(\n                                            images[i],\n                                            () => {},\n                                            true\n                                          );\n\n                                          if (uri) {\n                                            unFlattenProfile = {\n                                              ...unFlattenProfile,\n                                              media: {\n                                                ...unFlattenProfile.media,\n                                                images: [\n                                                  ...unFlattenProfile.media.images,\n                                                  {\n                                                    uri,\n                                                    description: imagesDescriptions[images[i].name] || ''\n                                                  }\n                                                ]\n                                              }\n                                            };\n                                          }\n                                        }\n\n                                        setProfileValue(flattenObject(unFlattenProfile));\n\n                                        setImagesUploading(false);\n                                        closeImageLoader();\n                                      }}\n                                    />\n                                  </>\n                                }\n                              </form>\n                            </CardBody>\n                          </Card>\n                        </Layer>\n                      }\n\n                    </Stack>\n\n                  </Box>\n                </Box>\n              </Grid>\n            </CardBody>\n            <CardFooter pad={{ horizontal: 'small' }} background='light-2'>\n              <Box\n                direction='row'\n                justify='between'\n                width='xxlarge'\n                margin={'medium'}\n              >\n                <Button size='large' type='reset' label='Reset' />\n                <Box direction='column' align='center'>\n                  <Box>\n                    <Button\n                      type='submit'\n                      size='large'\n                      label={\n                        <Box direction='row'>\n                          <Box margin={{ right: 'small' }}>\n                            {isUpdateMode ? 'Update' : 'Save'}\n                          </Box>\n                          {profileCreating &&\n                            <Spinner color='white' />\n                          }\n                        </Box>\n                      }\n                      disabled={isLoading || profileCreating}\n                      primary\n                      onClick={() => {\n                        setAddressOpen(true);\n                        setOperatorOpen(true);\n                      }}\n                    />\n                  </Box>\n                  {hashLink !== null && hash &&\n                    <Box margin={{ top: 'small' }}>\n                      <ExternalLink\n                        href={hashLink}\n                        label={centerEllipsis(hash)}\n                      />\n                    </Box>\n                  }\n                </Box>\n\n              </Box>\n            </CardFooter>\n          </Card>\n\n          <MessageBox type='error' show={!!validationError}>\n            <Box>\n              {validationError}\n            </Box>\n          </MessageBox>\n        </Form>\n      }\n    </>\n  );\n};\n","import { Box } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { FacilityProfileCard } from \"../components/rooms/FacilityProfileCard\";\n\nexport const FacilityProfile = (): JSX.Element => {\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: \"/\",\n          label: \"Home\",\n        },\n        {\n          path: \"/facilities\",\n          label: \"Facilities\",\n        },\n      ]}\n    >\n      <Box\n        alignSelf=\"center\"\n        style={{\n          paddingBottom: 50,\n          border: \"0px solid red\",\n          width: \"100%\",\n        }}\n      >\n        <FacilityProfileCard />\n      </Box>\n    </PageWrapper>\n  );\n};\n","import { Button, Text, Spinner, Box } from 'grommet';\nimport styled from 'styled-components';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\nexport const BookWithDai: React.FC<{\n  loading: boolean; disabled: boolean; onClick: () => void\n}> = ({ loading, disabled, onClick }) => {\n\n  return (\n    <Button\n      onClick={() => onClick()}\n      disabled={disabled}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          <Text>\n            Book with DAI\n          </Text>\n          {loading && <InnerSpinner />}\n        </Box>\n      )}\n    </Button>\n  )\n};\n","import { PageWrapper } from './PageWrapper';\nimport { Tag, Box, Text, Image, Carousel, Spinner } from 'grommet';\nimport { useAppState } from '../store';\nimport { useMemo, useEffect, useState } from 'react';\nimport { ThemeMode } from '../components/SwitchThemeMode';\nimport { BookWithDai } from '../components/buttons/BookWithDai';\nimport { MessageBox } from '../components/MessageBox';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { getNetwork } from '../config';\nimport { centerEllipsis } from '../utils/strings';\nimport { useContract } from '../hooks/useContract';\nimport { NavLink } from 'react-router-dom';\nimport { utils } from 'ethers'\n\nexport const Space: React.FC = () => {\n  const {\n    account,\n    searchSpaces,\n    themeMode,\n    searchParams,\n    provider,\n    ipfsNode,\n    bootstrapped\n  } = useAppState();\n\n  const query = window.location.pathname.substring(7)\n  const space = useMemo(() => searchSpaces.find((space) => space.id === query), [searchSpaces, query])\n\n  const [contract, , errorContract] = useContract(provider, ipfsNode);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n  const [tokenId, setTokenId] = useState<string | undefined>();\n  const [hash, setHash] = useState('');\n\n  useEffect(() => {\n    setError(errorContract);\n  }, [errorContract]);\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash])\n\n  const handler = async () => {\n    try {\n      setLoading(true)\n      if (!contract) {\n        throw new Error('Contract is not connected');\n      }\n      if (searchParams === undefined) {\n        throw new Error('searchParams is undefined')\n      }\n      if (space === undefined) {\n        throw new Error('space is undefined')\n      }\n      if (!account) {\n        throw new Error('account is undefined')\n      }\n      if (!provider) {\n        throw new Error('provider is undefined')\n      }\n      const balance = await provider.getBalance(account)\n      const total = Number(utils.formatUnits(space.contractData.pricePerNightWei, 'ether')) * Number(searchParams.numberOfDays)\n      if (Number(utils.formatUnits(balance, 'ether')) < total) {\n        throw new Error('not enough DAI')\n      }\n      setError(undefined);\n\n      const res = await contract.book(\n        space.id,\n        searchParams.startDay,\n        searchParams.numberOfDays,\n        searchParams.guestsAmount,\n        undefined,\n        setHash\n      )\n      setTokenId(res)\n      setLoading(false)\n    } catch (error) {\n      setLoading(false)\n      setError((error as Error).message);\n    }\n  }\n\n  const isLoading = useMemo(() => !!bootstrapped && !!contract, [bootstrapped, contract])\n  const borderColor = themeMode === ThemeMode.light ? 'brand' : 'accent-1'\n\n  const searchQuery = useMemo(() => {\n    return new URLSearchParams([\n      ['startDay', String(searchParams?.startDay)],\n      ['numberOfDays', String(searchParams?.numberOfDays)],\n      ['guestsAmount', String(searchParams?.guestsAmount)],\n    ])\n  }, [searchParams])\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          label: 'Search',\n          path: `/search?${searchQuery}`\n        }\n      ]}\n    >\n      <MessageBox type='info' show={!isLoading}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={!!tokenId}>\n        <Box direction='row'>\n          <Box>\n            Booked succesfully!\n            <NavLink to={`/tokens?tokenId=${tokenId}`}> Check details </NavLink>\n          </Box>\n        </Box>\n      </MessageBox>\n\n\n      {isLoading && !space && <Box> No space with given id </Box>}\n      {isLoading && !!space && !tokenId && <Box\n        border={{ color: borderColor }}\n        flex={true}\n        align='start'\n        background='white'\n        overflow='auto'\n        pad='medium'\n        round='small'\n      >\n        <Box pad={{ bottom: 'small' }}>\n          <Text size='xxlarge'>\n            {space.name}\n          </Text>\n          {/* <Text size='large'>\n            {space.address === undefined ? '' : <Box>\n              <Text>{space.address.country}</Text>\n              <Text>{space.address.locality}</Text>\n              <Text>{space.address.streetAddress}</Text>\n            </Box>}\n          </Text> */}\n        </Box>\n        <Box width='100%' align='center' gridArea=\"img\" height=\"xlarge\" pad={{ bottom: 'medium' }}>\n          <Carousel height='xxlarge' width='xlarge'>\n            {space.media.images?.map((space, i) =>\n              <Image\n                key={i}\n                width='xlarge'\n                fit=\"cover\"\n                alignSelf='center'\n                src={space.uri}\n              />\n            )}\n          </Carousel>\n        </Box>\n        <Box pad={{ bottom: 'small' }}>\n          <Text size='xxlarge'>\n            Info\n          </Text>\n        </Box>\n        <Box pad={{ bottom: 'medium', left: 'small' }}>\n          <Text>{space.description}</Text>\n        </Box>\n        <Box>\n          <Box pad={{ bottom: 'small' }} direction='row'>\n            <Text size='xxlarge'>Room type</Text>\n          </Box>\n          <Box pad={{ bottom: 'small' }} direction='row'>\n            <Tag value={space.type} />\n          </Box>\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' justify='between' align='center' gridArea=\"action\">\n\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' width='100%' justify='between' align='center' gridArea=\"action\">\n          <Text>Price per Night: <Text color={borderColor} size='large'>\n            {utils.formatUnits(space.contractData.pricePerNightWei, 'ether')}\n            DAI\n          </Text></Text>\n          <Box align='center'>\n            <BookWithDai\n              onClick={handler}\n              loading={loading}\n              disabled={!!tokenId}\n            />\n\n            {hashLink !== null ?\n              <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n              : null}\n          </Box>\n        </Box>\n\n        <Box width='xxlarge' pad={{ top: 'medium' }}>\n          <MessageBox type='error' show={!!error}>\n            <Box direction='row'>\n              <Box>\n                {error}\n              </Box>\n            </Box>\n          </MessageBox>\n        </Box>\n      </Box>}\n    </PageWrapper>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { Box, Layer } from 'grommet';\n\nexport interface ModalProps {\n  show: boolean;\n  onClose: () => void;\n  children: ReactNode;\n}\n\nexport const Modal = ({\n  show = false,\n  onClose,\n  children\n}: ModalProps) => {\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Box>\n      <Layer\n        style={{\n          borderRadius: '2rem',\n        }}\n        onEsc={() => onClose()}\n        onClickOutside={() => onClose()}\n      >\n        <Box responsive>\n          {children}\n        </Box>\n      </Layer>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { TypedDataField } from '@ethersproject/abstract-signer';\nimport type { StaysVoucher } from 'stays-smart-contracts';\nimport { createVoucher } from 'stays-smart-contracts';\nimport { useMemo, useCallback } from 'react';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSignVoucher');\n\nconst network = getNetwork();\n\nexport { TypedDataField }\n\nexport type UseSignTypedDataHook = [\n  signCallback: (from: string, to: string, tokenId: string) => Promise<StaysVoucher>,\n  isReady: boolean\n];\n\nexport const useSignVoucher = (\n  provider: providers.JsonRpcProvider | undefined\n): UseSignTypedDataHook => {\n  const isReady = useMemo(() => !!provider, [provider]);\n\n  const signCallback = useCallback(\n    async (from: string, to: string, tokenId: string): Promise<StaysVoucher> => {\n      if (!!!provider) {\n        throw new Error('Signature provider is not ready yet');\n      }\n\n      const signer = provider.getSigner();\n      const signerAddress = await signer.getAddress();\n\n      if (from !== signerAddress) {\n        throw new Error('The signer address and \"from\" address must be equal');\n      }\n\n      if (!to) {\n        throw new Error('Stay voucher recipient not defined');\n      }\n\n      const voucher = createVoucher(\n        signer,\n        from,\n        to,\n        tokenId,\n        network.address,\n        network.chainId\n      );\n      logger.debug('Voucher', voucher);\n\n      return voucher;\n    },\n    [provider]\n  );\n\n  return [signCallback, isReady];\n};\n","import type { providers } from 'ethers';\nimport { useState, useCallback } from 'react';\nimport { Box, Button, Grid, Text } from 'grommet';\nimport { Modal } from '../components/Modal';\nimport QRCode from 'react-qr-code';\nimport { useSignVoucher } from '../hooks/useSignVoucher';\nimport Logger from '../utils/logger';\nimport styled from 'styled-components';\nimport { CustomButton } from './SearchResultCard';\n\n// Initialize logger\nconst logger = Logger('StayVoucherQr');\n\nexport const Title = styled(Text)`\n  color: #0D0E0F;\n  font-weight: 900;\n  font-size: 28px;\n  line-height: 32px;\n  margin-bottom: .5rem;\n`;\n\nconst Price = styled(Text)`\n  color: #0D0E0F;\n  font-weight: 900;\n  font-size: 28px;\n  line-height: 32px;\n  margin-top: .5rem;\n`;\n\nconst HotelTitle = styled(Text)`\n  color: #0D0E0F;\n  font-weight: 900;\n  font-size: 22px;\n  line-height: 28px;\n  margin-bottom: .5rem;\n  margin-top: 1.5rem;\n`;\n\nexport const CustomText = styled(Text)`\n  color: #0D0E0F;\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 24px;\n  // margin-bottom: 1.5rem;\n`;\n\nexport interface StayVoucherQrProps {\n  provider: providers.JsonRpcProvider | undefined,\n  from: string | undefined,\n  to: string | undefined,\n  tokenId: string,\n  onError: (error: string) => void\n}\n\nexport const StayVoucherQr = ({\n  provider,\n  from,\n  to,\n  tokenId,\n  onError\n}: StayVoucherQrProps) => {\n  const [signCallback, isSignerReady] = useSignVoucher(provider);\n  const [qrData, setQrData] = useState<string | undefined>();\n\n  const downloadQr = (qrId: string): void => {\n    const xml = (document as any).getElementById(qrId).outerHTML;\n    const data = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(xml)}`;\n    const downloadElem = document.createElement('a');\n    downloadElem.setAttribute('href', data);\n    downloadElem.setAttribute('download', 'StaysVoucherQr.svg');\n    downloadElem.click();\n  }\n\n  const handleGetQr = useCallback(\n    async () => {\n      try {\n        if (!from) {\n          throw new Error('Signer account is not connected yet');\n        }\n\n        if (!to) {\n          throw new Error('Stay voucher recipient not defined');\n        }\n\n        const voucher = await signCallback(\n          from,\n          to,\n          tokenId\n        );\n\n        setQrData(JSON.stringify(voucher));\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message ||\n          'Unknown QrTest error'\n        onError(message);\n      }\n    },\n    [signCallback, onError, from, to, tokenId]\n  );\n\n  if (!isSignerReady) {\n    return null;\n  }\n\n  return (\n    <Box>\n      <Button\n        label='Get check-in QR'\n        onClick={handleGetQr}\n      />\n\n      <Modal\n        show={!!qrData && typeof qrData === 'string'}\n        onClose={() => setQrData(undefined)}\n      >\n        {typeof qrData === 'string' &&\n          <Grid\n            height='33rem'\n            pad='large'\n            gap='1rem'\n            columns={['17rem', '16rem']}\n            rows={['16rem', '16em']}\n            areas={[\n              { name: 'label', start: [0, 0], end: [0, 1] },\n              { name: 'qr', start: [1, 0], end: [1, 0] },\n              { name: 'hotel-data', start: [0, 1], end: [1, 1] },\n            ]}\n          >\n            <Box\n              gridArea='label'\n              direction='column'\n              align='start'\n            >\n              <Title>You stay is booked and is now an NFT.</Title>\n              <CustomText>Please take a picture or download the QR code as it will be used for you to check-in at the property.</CustomText>\n              <CustomButton\n                label='Download QR'\n                margin={{ top: '1.5rem' }}\n                onClick={() => downloadQr(qrData.substring(0, 10))}\n              />\n            </Box>\n            <Box\n              gridArea='qr'\n            >\n              <QRCode\n                size={256}\n                id={qrData.substring(0, 10)}\n                value={qrData}\n              />\n            </Box>\n            <Box\n              gridArea='hotel-data'\n              border='top'\n            >\n              <HotelTitle>Hotel Jakarta Amsterdam</HotelTitle>\n              <CustomText>Nieuwezijds Voorburgwal 50, 1012 SC Amsterdam, The Netherlands.</CustomText>\n              <CustomText>25.03.22 - 27.03.22</CustomText>\n              <CustomText>Economy Double Room, 2 persons.</CustomText>\n              <Price>xxx</Price>\n            </Box>\n          </Grid>\n        }\n      </Modal>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { StayToken } from 'stays-core';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useMyTokens');\n\nexport type UseMyTokensHook = [\n  tokens: StayToken[],\n  loading: boolean,\n  error: string | undefined\n];\n\nexport type UseGetTokenHook = [\n  token: StayToken | undefined,\n  facilityOwner: string | undefined,\n  loading: boolean,\n  error: string | undefined\n];\n\nexport const useMyTokens = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  account: string | undefined\n): UseMyTokensHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [tokens, setTokens] = useState<StayToken[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const loadTokens = useCallback(\n    async (owner) => {\n      if (!contract || !owner) {\n        return;\n      }\n      try {\n        setError(undefined);\n        setLoading(true);\n        logger.debug('Start loading tokens');\n\n        const tokensIds = await contract.getTokensOfOwner(owner);\n        logger.debug('tokensIds', tokensIds);\n\n        const tokensOfOwner = await Promise.all(\n          tokensIds.map(\n            tokenId => contract.getToken(tokenId)\n          )\n        );\n        setTokens(tokensOfOwner);\n        logger.debug('tokensOfOwner', tokensOfOwner);\n\n        setLoading(false);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useMyTokens error';\n        setError(message);\n        setLoading(false);\n      }\n    },\n    [contract]\n  );\n\n  useEffect(\n    () => {\n      setError(contractError);\n    },\n    [contractError]\n  );\n\n  useEffect(\n    () => {\n      loadTokens(account);\n      return () => setTokens([]);\n    },\n    [loadTokens, account]\n  );\n\n  return [tokens, loading, error];\n};\n\nexport const useGetToken = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  tokenId: string | undefined\n): UseGetTokenHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [token, setToken] = useState<StayToken | undefined>();\n  const [facilityOwner, setFacilityOwner] = useState<string | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const getToken = useCallback(\n    async (id: string | undefined) => {\n      if (!contract || !id) {\n        setToken(undefined);\n        // setToken({\n        //   tokenId: '1',\n        //   owner: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n        //   tokenUri: '',\n        //   data: {\n        //     name: 'Stays #1',\n        //     description: 'Stay at lodging facility',\n        //     image: 'https://bafybeigg7mwwpnnm6mmk3twxc4arizoyc6ijnaye3pdciwcohheo7xi7hm.ipfs.dweb.link/token-image.png',\n        //     external_url: 'https://localhost:3000/space/0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F',\n        //     attributes: [\n        //       {\n        //         trait_type: 'facilityId',\n        //         value: '0x75663CE0EB08ACE9FD7FFB90BCC405E494180FA0E2734A50E78E81FA67CF316B'\n        //       },\n        //       {\n        //         trait_type: 'spaceId',\n        //         value: '0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F'\n        //       },\n        //       {\n        //         trait_type: 'startDay',\n        //         value: '1'\n        //       },\n        //       {\n        //         trait_type: 'numberOfDays',\n        //         value: '1'\n        //       },\n        //       {\n        //         trait_type: 'quantity',\n        //         value: '1'\n        //       }\n        //     ]\n        //   }\n        // });\n        return;\n      }\n      try {\n        setError(undefined);\n        setLoading(true);\n\n        const token = await contract.getToken(id);\n        setToken(token);\n\n        const facilityIdAttribute = token.data.attributes?.find(\n          attribute => attribute.trait_type === 'facilityId'\n        );\n\n        if (!facilityIdAttribute) {\n          throw new Error(\n            'Unable to find facilityId in the Stay token metadata'\n          );\n        }\n\n        const facility = await contract.getLodgingFacility(\n          facilityIdAttribute.value\n        );\n\n        if (!facility) {\n          throw new Error(\n            `Unable to the lodging facility by Id: ${facilityIdAttribute.value}`\n          );\n        }\n\n        setFacilityOwner(facility.contractData.owner);\n\n        setLoading(false);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useGetToken error';\n        setError(message);\n        setLoading(false);\n      }\n    },\n    [contract]\n  );\n\n  useEffect(\n    () => {\n      setError(contractError);\n    },\n    [contractError]\n  );\n\n  useEffect(\n    () => {\n      getToken(tokenId);\n      return () => setToken(undefined);\n    },\n    [getToken, tokenId]\n  );\n\n  return [token, facilityOwner, loading, error];\n};\n","import type { StayToken, TokenData } from 'stays-core';\nimport { ReactChild, useCallback, useMemo, useState } from 'react';\nimport { DateTime } from 'luxon';\nimport * as Icons from 'grommet-icons';\nimport { Grid, Spinner, Button, Box, Card, CardBody, CardHeader, CardFooter, Image, Text } from 'grommet';\nimport { PageWrapper } from './PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { CustomText, Title, StayVoucherQr } from '../components/StayVoucherQr';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { useAppState } from '../store';\n// import { useWindowsDimension } from \"../hooks/useWindowsDimension\";\nimport { useMyTokens, useGetToken } from '../hooks/useMyTokens';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { useContract } from '../hooks/useContract';\nimport { centerEllipsis } from '../utils/strings';\nimport { getNetwork } from '../config';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { useGoToMessage } from '../hooks/useGoToMessage';\nimport { LodgingFacilityRecord } from '../store/actions';\nimport styled from 'styled-components';\nimport { utils } from 'ethers';\n\nconst HotelTitle = styled(Text)`\n  color: #000;\n  font-weight: 900;\n  font-size: 22px;\n  font-family: 'Inter';\n  line-height: 28px;\n  margin-bottom: .5rem;\n`;\n\n\nconst Header = styled(Text)`\n  font-weight: 900;\n  font-size: 48px;\n  line-height: 56px;\n  text-align: center;\n  color: #0D0E0F;\n  margin-bottom: 2rem;\n  margin-top: 2rem;\n`;\n\n\n// const ResponsiveColumn = (winWidth: number): string[] => {\n//   if (winWidth >= 1300) {\n//     return [\"21rem\", \"21rem\", \"21rem\", \"21rem\"];\n//   } else if (winWidth >= 1000) {\n//     return [\"21rem\", \"21rem\", \"21rem\"];\n//   } else if (winWidth >= 768) {\n//     return [\"23rem\", \"23rem\"];\n//   } else if (winWidth >= 600) {\n//     return [\"31rem\"];\n//   } else if (winWidth <= 500) {\n//     return [\"24rem\"];\n//   } else if (winWidth <= 400) {\n//     return [\"16rem\"];\n//   }\n//   return [];\n// };\n\nexport interface TokenCardProps extends TokenData {\n  onClick?: () => void,\n  children?: ReactChild | null,\n  facility: LodgingFacilityRecord | undefined\n  isGetDateReady: boolean;\n  getDate: (days: number) => DateTime;\n}\n\nexport interface TokenViewProps extends StayToken {\n  getDate: (days: number) => DateTime;\n  isGetDateReady: boolean;\n  facilityOwner: string | undefined;\n}\n\nexport const TokenCard = ({\n  image,\n  name,\n  onClick = () => { }\n}: TokenCardProps) => {\n  return (\n    <Box margin='medium'>\n      <Card\n        background='light-1'\n        elevation='small'\n        onClick={() => onClick()}\n      >\n        <CardBody pad='small'>\n          <Image\n            fit='cover'\n            src={image}\n          />\n        </CardBody>\n        <CardFooter\n          pad={{ horizontal: 'small' }}\n          background='light-2'\n        >\n          {/* <Box pad='small'> */}\n          <Text size=\"xlarge\" weight=\"bold\">\n            {name}\n          </Text>\n          {/* </Box> */}\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n\nexport const NewTokenCard = ({\n  image,\n  name,\n  description,\n  attributes,\n  onClick = () => { },\n  facility,\n  getDate,\n  isGetDateReady,\n  children\n}: TokenCardProps) => {\n  console.log('facility', facility)\n  if (!facility || !isGetDateReady || !attributes) {\n    return null\n  }\n  const parseTrait = (trait: string): any => {\n    return attributes.find(attr => attr.trait_type === trait)?.value ?? ''\n  };\n  const space = facility.spaces.find(space => space.contractData.spaceId === parseTrait('spaceId').toLowerCase())\n  const quantity = Number(parseTrait('quantity'))\n  const numberOfDays = Number(parseTrait('numberOfDays'))\n  const price = Number(utils.formatUnits(space?.contractData.pricePerNightWei ?? 0, 'ether'))\n  const total = quantity * numberOfDays * price\n  // console.log('quantity',quantity)\n  // console.log('numberOfDays',numberOfDays)\n  // console.log('price',price)\n  // console.log('total',total)\n  return (\n    <Box>\n\n      <Card\n        direction='row'\n        pad='medium'\n        round={false}\n        width='65rem'\n        style={{ borderBottom: '1px solid black' }}\n        elevation='small'\n        onClick={() => onClick()}\n      >\n        <CardHeader>\n          <Image\n            height='150'\n            width='150'\n            fit='cover'\n            src={image}\n          />\n        </CardHeader>\n        <CardBody pad='small'>\n          <HotelTitle>{facility.name}</HotelTitle>\n          <CustomText>{facility.address.streetAddress}, {facility.address.postalCode} {facility.address.locality}, {facility.address.country}. </CustomText>\n          <CustomText>{space?.name},{quantity} {quantity > 1 ? 'persons' : 'person'} </CustomText>\n        </CardBody>\n        <CardBody align='center' justify='center' pad='small'>\n          <CustomText>{getDate(parseTrait('startDay')).toISODate()} - {getDate(Number(parseTrait('startDay')) + Number(parseTrait('numberOfDays'))).toISODate()}</CustomText>\n        </CardBody>\n        <CardFooter\n          pad={{ horizontal: 'small' }}\n        >\n          <Box pad='small'>\n            <Title size=\"xlarge\" weight=\"bold\">\n              {total.toFixed(2)}\n            </Title>\n          </Box>\n        </CardFooter>\n      </Card>\n      {children}\n    </Box>\n  );\n};\n\nexport const TokenView = ({\n  tokenId,\n  owner,\n  getDate,\n  isGetDateReady,\n  facilityOwner,\n  status,\n  data: {\n    name,\n    description,\n    image,\n    attributes\n  }\n}: TokenViewProps) => {\n  const { provider, ipfsNode } = useAppState();\n  const [contract, , contractError] = useContract(provider, ipfsNode);\n  const navigate = useNavigate();\n  const showMessage = useGoToMessage();\n  const [cancelLoading, setCancelLoading] = useState<boolean>(false);\n  const [cancellationTxHash, setCancellationTxHash] = useState<string | undefined>();\n  const [error, setError] = useState<string | undefined>();\n  const cancellationTxHashLink = useMemo(() => {\n    const network = getNetwork()\n    return cancellationTxHash ? `${network.blockExplorer}/tx/${cancellationTxHash}` : '#'\n  }, [cancellationTxHash]);\n\n  const parseTrait = (trait: string, value: any): any => {\n    switch (trait) {\n      case 'startDay':\n        return getDate(Number(value)).toISODate();\n      case 'facilityId':\n        return centerEllipsis(value);\n      case 'spaceId':\n        return centerEllipsis(value);\n      default:\n        return value;\n    }\n  };\n\n  const cancelTx = useCallback(\n    async () => {\n      setError(undefined);\n      setCancellationTxHash(undefined);\n      if (!contract) {\n        return;\n      }\n      try {\n        setCancelLoading(true);\n        await contract.cancel(tokenId, undefined, setCancellationTxHash);\n        setCancelLoading(false);\n        // Show success message;\n        showMessage(\n          `Stay token #${tokenId} is successfully cancelled. All funds are fully refunded`,\n          'info'\n        );\n      } catch (err) {\n        setError((err as Error).message || 'Unknown cancellation error');\n        setCancelLoading(false);\n      }\n    },\n    [showMessage, contract, tokenId]\n  );\n\n  if (!isGetDateReady) {\n    return null;\n  }\n\n  return (\n    <Box\n      alignSelf='center'\n      direction='column'\n      pad={{ bottom: 'medium' }}\n    >\n      <Card\n        direction='row'\n        pad='medium'\n        round={false}\n        width='65rem'\n        style={{ borderBottom: '1px solid black' }}\n      // width='large'\n      >\n        <CardBody>\n          <CardHeader\n            pad={{ horizontal: 'small' }}\n            background='light-2'\n            justify='end'\n          >\n            <Button\n              icon={<Icons.Close color=\"plain\" />}\n              hoverIndicator\n              onClick={() => navigate('/tokens', { replace: true })}\n            />\n          </CardHeader>\n          {/* <Image\n            fit='cover'\n            src={image}\n          /> */}\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Status</Text>\n            </Box>\n            <Box>\n              <Text>{status ?? 'unknown'}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Name</Text>\n            </Box>\n            <Box>\n              <Text>{name}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Description</Text>\n            </Box>\n            <Box>\n              <Text>{description}</Text>\n            </Box>\n          </Grid>\n\n          {attributes?.map(\n            ({ trait_type, value }, index) => (\n              <Grid\n                key={index}\n                fill='horizontal'\n                pad='small'\n                border='bottom'\n                columns={['small', 'auto']}\n                responsive\n              >\n                <Box>\n                  <Text weight='bold'>{trait_type}</Text>\n                </Box>\n                <Box>\n                  <Text>{parseTrait(trait_type, value)}</Text>\n                </Box>\n              </Grid>\n            )\n          )}\n        </CardBody>\n        <CardFooter pad='medium'>\n          <StayVoucherQr\n            provider={provider}\n            from={owner}\n            to={facilityOwner}\n            tokenId={tokenId}\n            onError={err => setError(err)}\n          />\n\n          {status === 'booked' &&\n            <Box>\n              <Button\n                label={\n                  <Box direction='row'>\n                    <Box>\n                      <Text>Cancel and get refund</Text>\n                    </Box>\n                    {cancelLoading &&\n                      <Box pad={{ left: 'small' }}>\n                        <Spinner />\n                      </Box>\n                    }\n                  </Box>\n                }\n                disabled={cancelLoading}\n                onClick={cancelTx}\n              />\n              {!!cancellationTxHash\n                ? <ExternalLink\n                  href={cancellationTxHashLink}\n                  label={centerEllipsis(cancellationTxHash)}\n                />\n                : null\n              }\n            </Box>\n          }\n        </CardFooter>\n      </Card>\n\n      <MessageBox type='error' show={!!error}>\n        <Box>\n          {error}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!contractError}>\n        <Box>\n          {contractError}\n        </Box>\n      </MessageBox>\n    </Box>\n  );\n};\n\nexport const MyTokens = () => {\n  const { provider, ipfsNode, account, lodgingFacilities } = useAppState();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [getDate, isGetDateReady, getDateError] = useDayZero(provider, ipfsNode);\n  const tokenId = useMemo(\n    () => searchParams.get('tokenId') || undefined,\n    [searchParams]\n  );\n  const [tokens, tokensLoading, tokensError] = useMyTokens(\n    provider,\n    ipfsNode,\n    account\n  );\n  const [token, facilityOwner, tokenLoading, tokenError] = useGetToken(\n    provider,\n    ipfsNode,\n    tokenId\n  );\n  // const { winWidth } = useWindowsDimension();\n  const isLoading = useMemo(\n    () => tokensLoading || tokenLoading || !isGetDateReady,\n    [tokensLoading, tokenLoading, isGetDateReady]\n  );\n\n  // const parseTrait = (trait: string, value: any): any => {\n  //   switch (trait) {\n  //     case 'startDay':\n  //       return getDate(Number(value)).toISODate();\n  //     case 'facilityId':\n  //       return centerEllipsis(value);\n  //     case 'spaceId':\n  //       return centerEllipsis(value);\n  //     default:\n  //       return value;\n  //   }\n  // };\n\n  const findFacility = (data: TokenData) => {\n    const facilityId = data.attributes?.find((attr) => attr.trait_type === 'facilityId')?.value\n    console.log('lodgingFacilities', lodgingFacilities, lodgingFacilities.find((facility) => facility.id === facilityId?.toLowerCase()), facilityId)\n    return lodgingFacilities.find((facility) => facility.id === facilityId?.toLowerCase())\n  };\n\n  // const tokensTest: StayToken[] = [\n  //   {\n  //     tokenId: '1',\n  //     owner: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n  //     tokenUri: '',\n  //     data: {\n  //       name: 'Stays #1',\n  //       description: 'Stay at lodging facility',\n  //       image: 'https://bafybeigg7mwwpnnm6mmk3twxc4arizoyc6ijnaye3pdciwcohheo7xi7hm.ipfs.dweb.link/token-image.png',\n  //       external_url: 'https://localhost:3000/space/0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F',\n  //       attributes: [\n  //         {\n  //           trait_type: 'facilityId',\n  //           value: '0x75663CE0EB08ACE9FD7FFB90BCC405E494180FA0E2734A50E78E81FA67CF316B'\n  //         },\n  //         {\n  //           trait_type: 'spaceId',\n  //           value: '0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F'\n  //         },\n  //         {\n  //           trait_type: 'startDay',\n  //           value: '10000'\n  //         },\n  //         {\n  //           trait_type: 'numberOfDays',\n  //           value: '1'\n  //         },\n  //         {\n  //           trait_type: 'quantity',\n  //           value: '1'\n  //         }\n  //       ]\n  //     }\n  //   }\n  // ];\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home',\n        },\n      ]}\n    >\n      <Box background='white'>\n      <Header>Stay tokens </Header>\n        {/* {token &&\n          <TokenView\n            getDate={getDate}\n            isGetDateReady={isGetDateReady}\n            facilityOwner={facilityOwner}\n            {...token}\n          />\n        } */}\n\n        <MessageBox type='info' show={isLoading}>\n          <Box direction='row'>\n            <Box>\n              Tokens data is loading. Please wait..&nbsp;\n            </Box>\n            <Spinner />\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='info' show={!isLoading && (!tokens || tokens.length === 0)}>\n          <Box>\n            Tokens list is empty. It is a time to book a stay!\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!tokensError}>\n          <Box>\n            {tokensError}\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!tokenError}>\n          <Box>\n            {tokenError}\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!getDateError}>\n          <Box>\n            {getDateError}\n          </Box>\n        </MessageBox>\n\n        <Box\n          direction='column'\n          alignSelf=\"center\"\n        // columns={ResponsiveColumn(winWidth)}\n        // responsive={true}\n        >\n          {tokens?.map(({ tokenId, data }, index) => (\n            <NewTokenCard\n              facility={findFacility(data)}\n              key={index}\n              onClick={() => setSearchParams({ tokenId })}\n              {...data}\n              getDate={getDate}\n              isGetDateReady={isGetDateReady}\n            >\n              {(token && token.tokenId === tokenId) ?\n                <TokenView\n                  getDate={getDate}\n                  isGetDateReady={isGetDateReady}\n                  facilityOwner={facilityOwner}\n                  {...token}\n                />\n                : null}\n            </NewTokenCard>\n          ))}\n        </Box>\n      </Box>\n    </PageWrapper>\n  );\n};\n","import { Button, Box } from 'grommet';\nimport React, { useState } from 'react';\nimport { QrReader as QrCodeReader } from 'react-qr-reader';\nimport { Modal } from './Modal';\n\nexport const QrReader: React.FC<{\n  onScan(data: string): void;\n  onError(data: string): void\n}> = ({ onScan,onError }) => {\n  const [show, setShow] = useState(false);\n\n  return (\n    <Box>\n      <Button label='Scan QR' onClick={() => setShow(true)} />\n      <Modal\n        show={show}\n        onClose={() => setShow(false)}\n      >\n        <Box\n          pad='medium'\n          direction='column'\n          width='medium'\n        >\n          <QrCodeReader\n            constraints={{ facingMode: 'user' }}\n            onResult={(result, error) => {\n              if (error) {\n                onError(error.message);\n              }\n              if (!!result) {\n                onScan(result.getText())\n                setShow(false)\n              }\n            }}\n          />\n        </Box>\n      </Modal>\n    </Box>\n  );\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Box, Spinner } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { QrReader } from '../components/QrReader';\nimport { useAppState } from '../store';\nimport { useContract } from '../hooks/useContract';\nimport { MessageBox } from '../components/MessageBox';\nimport { StaysVoucher } from 'stays-smart-contracts';\nimport { getNetwork } from '../config';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { centerEllipsis } from '../utils/strings';\n\nexport const CheckIn = (): JSX.Element => {\n  const {\n    isBootstrapLoading,\n    isIpfsNodeConnecting,\n    provider,\n    ipfsNode,\n    bootstrapped\n  } = useAppState();\n\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n\n  const [hash, setHash] = useState('');\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const handleCheckIn = useCallback(\n    async (data: string) => {\n      try {\n        setLoading(true)\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n        setError(undefined);\n\n        const parsedData: StaysVoucher = JSON.parse(data)\n        await contract.checkIn(\n          parsedData.tokenId,\n          parsedData,\n          undefined,\n          setHash,\n          undefined\n        )\n        setLoading(false)\n      } catch (error) {\n        setLoading(false)\n        setError((error as Error).message);\n\n      }\n    }, [contract, setError, setLoading, setHash])\n\n  return (\n    <>\n      <PageWrapper\n        breadcrumbs={[\n          {\n            path: \"/\",\n            label: \"Home\",\n          },\n        ]}\n      >\n        <MessageBox type='info' show={isIpfsNodeConnecting || isBootstrapLoading || loadingContract}>\n          <Box direction='row'>\n            <Box>\n              The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n            </Box>\n            <Spinner />\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!error}>\n          <Box direction='row'>\n            <Box>\n              {error}\n            </Box>\n          </Box>\n        </MessageBox>\n\n        {(!!bootstrapped && !!contract) &&\n          <Box\n            alignSelf=\"center\"\n            style={{\n              paddingBottom: 50,\n              width: \"100%\",\n            }}\n          >\n            <QrReader onError={setError} onScan={handleCheckIn} />\n            {hashLink !== null ?\n              <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n              : null}\n\n            {loading ? <Spinner color='accent-1' alignSelf='center' size='medium' /> : null}\n          </Box>\n        }\n      </PageWrapper>\n    </>\n  );\n};\n","import type { StayToken } from 'stays-core';\nimport { useMemo, useState } from 'react';\nimport { DateTime } from 'luxon';\nimport * as Icons from 'grommet-icons';\nimport { Grid, Button, Box, Card, CardBody, CardHeader, CardFooter, Image, Text, Spinner } from 'grommet';\nimport { centerEllipsis } from '../../utils/strings';\nimport { TxHashCallbackFn } from 'stays-core/dist/src/utils/sendHelper';\nimport { getNetwork } from '../../config';\nimport { ExternalLink } from '../ExternalLink';\nimport styled from 'styled-components';\nimport { MessageBox } from '../MessageBox';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\n\nexport interface CheckOutProps extends StayToken {\n  getDate: (days: number) => DateTime;\n  facilityOwner: string | undefined;\n  checkOut: (\n    tokenId: string,\n    checkOutDate: DateTime,\n    transactionHashCb?: TxHashCallbackFn\n  ) => void;\n  onClose: () => void;\n  loading: boolean;\n  error: string | undefined;\n}\n\nexport const CheckOutView = ({\n  tokenId,\n  getDate,\n  status,\n  data: {\n    name,\n    description,\n    image,\n    attributes\n  },\n  checkOut,\n  onClose,\n  loading,\n  error\n}: CheckOutProps) => {\n  const startDay = attributes?.find(attr => attr.trait_type === 'startDay')\n  const numberOfDays = attributes?.find(attr => attr.trait_type === 'numberOfDays')\n  const checkOutDate = getDate(Number(numberOfDays?.value) + Number(startDay?.value))\n\n  const [hash, setHash] = useState('');\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash])\n\n  const parseTrait = (trait: string, value: any): any => {\n    switch (trait) {\n      case 'startDay':\n        return getDate(Number(value)).toISODate();\n      case 'facilityId':\n        return centerEllipsis(value);\n      case 'spaceId':\n        return centerEllipsis(value);\n      default:\n        return value;\n    }\n  };\n\n  return (\n    <Box\n      alignSelf='center'\n      direction='column'\n      pad={{ bottom: 'medium' }}\n    >\n      <Card\n        width='large'\n      >\n        <CardBody>\n          <CardHeader\n            pad={{ horizontal: 'small' }}\n            background='light-2'\n            justify='end'\n          >\n            <Button\n              icon={<Icons.Close color=\"plain\" />}\n              hoverIndicator\n              onClick={() => onClose()}\n            />\n          </CardHeader>\n          <Image\n            fit='cover'\n            src={image}\n          />\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Status</Text>\n            </Box>\n            <Box>\n              <Text>{status ?? 'unknown'}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Name</Text>\n            </Box>\n            <Box>\n              <Text>{name}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Description</Text>\n            </Box>\n            <Box>\n              <Text>{description}</Text>\n            </Box>\n          </Grid>\n\n          {attributes?.map(\n            ({ trait_type, value }, index) => (\n              <Grid\n                key={index}\n                fill='horizontal'\n                pad='small'\n                border='bottom'\n                columns={['small', 'auto']}\n                responsive\n              >\n                <Box>\n                  <Text weight='bold'>{trait_type}</Text>\n                </Box>\n                <Box>\n                  <Text>{parseTrait(trait_type, value)}</Text>\n                </Box>\n              </Grid>\n            )\n          )}\n        </CardBody>\n        <CardFooter pad='medium'>\n          <Button onClick={() => checkOut(tokenId, checkOutDate, setHash)} >\n            {() => (\n              <Box direction='row' align='center' pad='small'>\n                <Text>\n                  Check out\n                </Text>\n                {loading && <InnerSpinner />}\n              </Box>\n            )}\n          </Button>\n          {hashLink !== null ?\n            <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n            : null}\n          <MessageBox type='error' show={!!error}>\n            <Box direction='row'>\n              <Box>\n                {error}\n              </Box>\n            </Box>\n          </MessageBox>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n","import type { TokenData } from 'stays-core';\nimport { Box, Card, CardBody, CardFooter, Image, Text } from 'grommet';\n\nexport interface CheckOutCardProps extends TokenData {\n  onClick?: () => void\n}\n\nexport const CheckOutCard = ({\n  image,\n  name,\n  onClick = () => { }\n}: CheckOutCardProps) => {\n  return (\n    <Box margin='medium'>\n      <Card\n        background='light-1'\n        elevation='small'\n        onClick={() => onClick()}\n      >\n        <CardBody pad='small'>\n          <Image\n            fit='cover'\n            src={image}\n          />\n        </CardBody>\n        <CardFooter\n          pad={{ horizontal: 'small' }}\n          background='light-2'\n        >\n          <Box pad='small'>\n            <Text size=\"xlarge\" weight=\"bold\">\n              {name}\n            </Text>\n          </Box>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\nimport { TxHashCallbackFn } from 'stays-core/dist/src/utils/sendHelper';\nimport { DateTime } from 'luxon';\n\n// Initialize logger\nconst logger = Logger('useCheckOut');\n\nexport type UseProceedCheckOut = [\n  checkOut: (\n    tokenId: string,\n    checkOutDate: DateTime,\n    transactionHashCb?: TxHashCallbackFn\n  ) => void,\n  isReady: boolean,\n  loading: boolean,\n  error: string | undefined,\n];\n\n// useCheckOut react hook\nexport const useCheckOut = (\n  account: string | undefined,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n): UseProceedCheckOut => {\n  const [contract, , contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (contractError) {\n      setError(contractError);\n    }\n  }, [contractError]);\n\n  useEffect(() => {\n    if (!!contract) {\n      setIsReady(true);\n    }\n  }, [contract]);\n\n  const checkOut = useCallback(\n    async (tokenId: string, checkOutDate: DateTime, transactionHashCb?: TxHashCallbackFn) => {\n      setLoading(true)\n      if (!contract || !account || !tokenId) {\n        return;\n      }\n      setError(undefined);\n\n      try {\n        const now = DateTime.now()\n        if (now.toMillis() < checkOutDate.toMillis()) {\n          throw new Error(`Check out not available yet (check out date: ${checkOutDate.toLocaleString()} )`)\n        }\n\n        await contract.checkOut(tokenId, undefined, transactionHashCb);\n        setLoading(false)\n      } catch (error) {\n        logger.error(error);\n        const message = (error as Error).message || 'Unknown useCheckOut out error'\n        setError(message);\n        setLoading(false)\n      }\n    },\n    [contract, account]\n  );\n\n  return [checkOut, isReady, loading, error];\n};\n","import type { OwnerLodgingFacility, OwnerSpace } from '../store/actions';\nimport { useState } from 'react';\nimport { Box, Button, Grid, Spinner } from 'grommet';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { PageWrapper } from './PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { useAppState } from '../store';\nimport { StayToken } from 'stays-core';\nimport { useWindowsDimension } from '../hooks/useWindowsDimension';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { CheckOutView } from '../components/checkOut/CheckOutView';\nimport { CheckOutCard } from '../components/checkOut/CheckOutCard';\nimport { useCheckOut } from '../hooks/useCheckOut';\n\nconst ResponsiveColumn = (winWidth: number): string[] => {\n  if (winWidth >= 1300) {\n    return [\"21rem\", \"21rem\"];\n  } else if (winWidth >= 1000) {\n    return [\"21rem\", \"21rem\"];\n  } else if (winWidth >= 768) {\n    return [\"21rem\"];\n  } else if (winWidth >= 600) {\n    return [\"31rem\"];\n  } else if (winWidth <= 500) {\n    return [\"24rem\"];\n  } else if (winWidth <= 400) {\n    return [\"16rem\"];\n  }\n  return [];\n};\n\nconst FacilityList: React.FC<{\n  facilities: OwnerLodgingFacility[],\n  onSelect(facility: OwnerLodgingFacility): void\n}> = ({ facilities, onSelect }) => {\n  if (!facilities) {\n    return null\n  }\n  return <Box>\n    {facilities.map((facility, i) => (<Box key={i}>\n      <Button\n        onClick={() => onSelect(facility)}\n        label={facility.name}\n        margin={{ bottom: 'small' }}\n      />\n    </Box>))}\n\n    <NavLink to='/facilities/add'>\n      Add new facility\n    </NavLink>\n  </Box>\n}\n\nconst SpacesList: React.FC<{\n  facility: OwnerLodgingFacility | undefined,\n  onSelect(tokens: StayToken[]): void\n}> = ({ facility, onSelect }) => {\n  if (!facility || !facility.spaces) {\n    return null\n  }\n  return <Box direction='row'>\n    {facility.spaces.map((space: OwnerSpace, i) => (<Box key={i}>\n      <Button\n        onClick={() => onSelect(space.tokens)}\n        label={space.name}\n      />\n    </Box>))}\n  </Box>\n}\n\nexport const Facilities = () => {\n  const navigate = useNavigate();\n\n  const {\n    account,\n    isIpfsNodeConnecting,\n    ownFacilities,\n    ownFacilitiesLoading,\n    provider,\n    ipfsNode,\n  } = useAppState();\n\n  const { winWidth } = useWindowsDimension();\n  const [getDate, isGetDateReady,] = useDayZero(provider, ipfsNode);\n\n  const [checkOut, isReady, checkOutLoading, checkOutError] = useCheckOut(\n    account,\n    provider,\n    ipfsNode,\n  )\n\n  const [selectedFacility, setSelectedFacility] = useState<OwnerLodgingFacility | undefined>()\n\n  const [tokens, setTokens] = useState<StayToken[]>([])\n  const [selectedToken, setSelectedToken] = useState<StayToken | undefined>()\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <MessageBox type='info' show={isIpfsNodeConnecting || !!ownFacilitiesLoading}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <Grid\n        fill='horizontal'\n        pad='small'\n        columns={['medium', 'auto']}\n        responsive\n        gap='medium'\n      >\n\n        <FacilityList facilities={ownFacilities ?? []} onSelect={setSelectedFacility} />\n\n        <Box direction='column'>\n          <SpacesList onSelect={setTokens} facility={selectedFacility} />\n\n          {selectedFacility &&\n            <Box direction='column' margin={{ top: 'small' }}>\n              <Box width='200px'>\n                <Button\n                  primary\n                  label='Edit the facility'\n                  onClick={() => navigate(\n                    `/facilities/edit/${selectedFacility.contractData.lodgingFacilityId}`\n                  )}\n                />\n              </Box>\n            </Box>\n          }\n\n          <Box margin={{ top: 'small' }}>\n            {selectedToken && isGetDateReady && isReady &&\n              <CheckOutView\n                getDate={getDate}\n                facilityOwner={account}\n                {...selectedToken}\n                onClose={() => setSelectedToken(undefined)}\n                checkOut={checkOut}\n                error={checkOutError}\n                loading={checkOutLoading}\n              />\n            }\n            <Grid\n              fill\n              alignSelf=\"center\"\n              columns={ResponsiveColumn(winWidth)}\n              responsive={true}\n            >\n              {tokens?.map((token, index) => (\n                <CheckOutCard\n                  key={index}\n                  onClick={() => setSelectedToken(token)}\n                  {...token.data}\n                />\n              ))}\n            </Grid>\n          </Box>\n        </Box>\n      </Grid>\n\n    </PageWrapper>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { useMemo } from 'react';\nimport { useRoutes, useNavigate } from 'react-router-dom';\nimport { Menu } from 'grommet';\nimport { Menu as MenuIcon } from 'grommet-icons';\nimport { useAppState } from '../store';\nimport { Protected } from './Protected';\nimport styled from 'styled-components';\n\n// Pages\nimport { Home } from '../pages/Home';\nimport { Message } from '../pages/Message';\nimport { Search } from '../pages/Search';\n// import { Rooms } from \"../pages/Rooms\";\n// import { RoomProfile } from \"../pages/RoomProfile\";\nimport { FacilityProfile } from \"../pages/FacilityProfile\";\nimport { Space } from '../pages/Space';\nimport { MyTokens } from '../pages/MyTokens';\nimport { CheckIn } from '../pages/CheckIn';\nimport { Facilities } from '../pages/Facilities';\n\n\nconst CustomMenu = styled(Menu)`\n  border-radius: 50%;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  // border:\n`;\n\nexport interface RouteConfig {\n  path: string;\n  element: ReactNode;\n  title: string;\n  label?: string;\n  protected?: boolean;\n}\n\nexport type Routes = RouteConfig[];\n\nexport const pagesRoutesConfig: Routes = [\n  {\n    path: \"/\",\n    element: <Home />,\n    title: \"Stays\",\n    label: \"Home\",\n  },\n  {\n    path: '/message',\n    element: <Message />,\n    title: 'Useful information'\n  },\n  {\n    path: \"/search\",\n    element: <Search />,\n    title: \"Search for lodging facility\",\n  },\n  // {\n  //   path: \"/rooms\",\n  //   element: <Rooms />,\n  //   title: \"Rooms\",\n  //   label: \"Rooms\",\n  //   protected: true,\n  // },\n  // {\n  //   path: \"/rooms/add\",\n  //   element: <RoomProfile />,\n  //   title: \"Add New Room\",\n  //   protected: true,\n  // },\n  {\n    path: \"/space/:id\",\n    element: <Space />,\n    title: \"Search for lodging facility\",\n    protected: true,\n  },\n  {\n    path: '/tokens',\n    element: <MyTokens />,\n    title: 'My Stay Tokens',\n    label: \"My Tokens\",\n    protected: true,\n  },\n  {\n    path: '/check-in',\n    element: <CheckIn />,\n    title: 'Check In',\n    label: 'Check In',\n    protected: true,\n  },\n  {\n    path: '/facilities',\n    element: <Facilities />,\n    title: 'My Lodging Facilities',\n    label: 'Lodging Facilities',\n    protected: true,\n  },\n  {\n    path: \"/facilities/add\",\n    element: <FacilityProfile />,\n    title: \"Add New Lodging Facility\",\n    protected: true,\n  },\n  {\n    path: \"/facilities/edit/:id\",\n    element: <FacilityProfile />,\n    title: \"Edit Lodging Facility\",\n    protected: true,\n  },\n];\n\nexport const processPagesConfig = (config: Routes): Routes =>\n  config.map(\n    (route: RouteConfig) => route.protected\n      ? {\n        ...route,\n        element: <Protected component={route.element} />\n      }\n      : route\n  );\n\nexport const AppRoutes = () => useRoutes(\n  useMemo(\n    () => processPagesConfig(pagesRoutesConfig), []\n  )\n);\n\nexport const GlobalMenu = () => {\n  const { isConnecting } = useAppState();\n  const navigate = useNavigate();\n  const buildMenuConfig = useMemo(\n    () => pagesRoutesConfig\n      .reduce<Routes>(\n        (a, v) => ([\n          ...a,\n          ...(\n            v.label // Items without labels are ignored\n              ? [\n                {\n                  ...v,\n                  onClick: () => navigate(v.path)\n                }\n              ]\n              : []\n          )\n        ]),\n        []\n      ),\n    [navigate]\n  );\n\n  return (\n    <CustomMenu\n      dropBackground={{ color: 'black', opacity: 0.9 }}\n      dropAlign={{\n        top: \"bottom\",\n        right: \"right\",\n      }}\n      disabled={isConnecting}\n      icon={(<MenuIcon color='white' />)}\n      items={buildMenuConfig}\n    />\n  );\n};\n","import { useContext } from 'react';\nimport { useState, useMemo } from 'react';\nimport Blockies from 'react-blockies';\nimport styled from 'styled-components';\nimport { Box, Text, Notification, ResponsiveContext } from 'grommet';\nimport { centerEllipsis, copyToClipboard } from '../utils/strings';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('Account');\n\nexport interface AccountProps {\n  account?: string;\n}\n\nconst AccountIcon = styled(Blockies)`\n  border-radius: 50%;\n`;\n\nconst AccountHash = styled(Text)`\n  margin: 0 8px;\n  cursor: pointer;\n`;\n\nconst AccountWrap = styled(Box)`\n  background: rgba(13, 14, 15, 0.2);\n  backdrop-filter: blur(36px);\n  height: 2.5rem;\n  min-width:2.5rem;\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 2rem;\n`;\n\n\nexport const Account = ({ account }: AccountProps) => {\n  const size = useContext(ResponsiveContext);\n  const [notification, setNotification] = useState<boolean>(false);\n  const shortAccount = useMemo(() => centerEllipsis(account || ''), [account]);\n\n  if (!account) {\n    return null;\n  }\n\n  return (\n    <AccountWrap\n      direction='row'\n      align='center'\n      justify='center'\n      pad='xsmall'\n      onClick={() => {\n        copyToClipboard(account);\n        logger.debug('Copied to clipboard', account);\n        setNotification(true);\n        setTimeout(() => setNotification(false), 1000);\n      }}\n    >\n      <AccountIcon\n        seed={account}\n        size={7}\n        scale={4}\n      />\n      {size !== 'small' &&\n        <AccountHash>\n          {shortAccount}\n        </AccountHash>\n      }\n      {notification &&\n        <Notification\n          toast\n          title='Copied to clipboard'\n          status='normal'\n        />\n      }\n    </AccountWrap>\n  );\n};\n","import { useContext, useMemo } from 'react';\nimport { useNavigate, useLocation, Navigate } from 'react-router-dom';\nimport { Image, Header, Heading, Box, ResponsiveContext } from 'grommet';\nimport { useAppState } from '../store';\nimport { usePageTitle } from '../hooks/usePageTitle';\nimport { Account } from '../components/Account';\nimport { SignInButton, SignOutButton } from '../components/buttons/web3Modal';\nimport { GlobalMenu } from './Routes';\n\nexport const AppHeader = () => {\n  const size = useContext(ResponsiveContext);\n  const { state } = useLocation();\n  const navigate = useNavigate();\n  const { account } = useAppState();\n  const title = usePageTitle();\n  const returnLocation = useMemo(\n    () => (state as any)?.location as Location,\n    [state]\n  );\n\n  return (\n    <Header\n      // background='light-1'\n      pad={size}\n      responsive={true}\n    >\n      {(returnLocation && account) &&\n        <Navigate to={returnLocation} state={null} />\n      }\n      <Box direction='row' align='center' gap={size}>\n        <Image\n          src='/wt-logo.png'\n          fit='cover'\n          width='40rem'\n          height='40rem'\n          onClick={() => navigate('/')}\n        />\n        <Heading size='small'>{title}</Heading>\n      </Box>\n      <Box direction='row' align='center' gap={size}>\n        <Account account={account} />\n        <Box>\n          {account\n            ? <SignOutButton />\n            : <SignInButton />\n          }\n        </Box>\n        <GlobalMenu />\n        {/* <SwitchThemeMode /> */}\n      </Box>\n    </Header>\n  );\n};\n","import type { RouteMatch } from 'react-router-dom';\nimport type { RouteConfig } from '../components/Routes';\nimport { useMemo } from 'react';\nimport { useLocation, matchRoutes } from 'react-router-dom';\nimport { pagesRoutesConfig } from '../components/Routes';\n\nexport const UNKNOWN_PAGE_TITLE = '404';\n\nexport const getPageTitle = (routes: RouteMatch[] | null): string =>\n  routes\n    ? (routes[0].route as RouteConfig).title || UNKNOWN_PAGE_TITLE\n    : UNKNOWN_PAGE_TITLE;\n\nexport const usePageTitle = (): string => {\n  const location = useLocation();\n\n  return useMemo(\n    () => getPageTitle(\n      matchRoutes(pagesRoutesConfig, location)\n    ),\n    [location])\n  ;\n};\n","import { Main } from 'grommet';\nimport { AppStateProvider } from './store';\nimport { GlobalStyle } from './GlobalStyle';\nimport { AppHeader } from './components/AppHeader';\nimport { AppRoutes } from './components/Routes';\n\nconst App = () => {\n\n  return (\n    <AppStateProvider>\n      <GlobalStyle>\n        <Main\n          fill\n          responsive\n        >\n          <AppHeader />\n          <AppRoutes />\n        </Main>\n      </GlobalStyle>\n    </AppStateProvider>\n  );\n}\n\nexport default App;\n","import { BrowserRouter } from 'react-router-dom';\nimport { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport './reset.css';\n\nconst renderApp = () => {\n  render(\n    <StrictMode>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </StrictMode>,\n    document.getElementById('root')\n  );\n};\n\nrenderApp();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",null,null,null,null,null,null,null,null],"sourceRoot":""}