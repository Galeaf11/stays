{"version":3,"sources":["../../../src/schemas.ts","../../../src/index.ts","../../../../src/apis/web3Storage.ts","../../../../src/apis/base.ts","../../../src/voucher.ts","../../../typechain/index.ts","../../../../typechain/factories/IERC1271__factory.ts","../../../../typechain/factories/ERC721__factory.ts","../../../../typechain/factories/ERC721Enumerable__factory.ts","../../../../typechain/factories/ERC721URIStorage__factory.ts","../../../../typechain/factories/IERC721Enumerable__factory.ts","../../../../typechain/factories/IERC721Metadata__factory.ts","../../../../typechain/factories/IERC721__factory.ts","../../../../typechain/factories/IERC721Receiver__factory.ts","../../../../typechain/factories/ERC165__factory.ts","../../../../typechain/factories/IERC165__factory.ts","../../../../typechain/factories/IStayEscrow__factory.ts","../../../../typechain/factories/IStays__factory.ts","../../../../typechain/factories/StayEscrow__factory.ts","../../../../typechain/factories/Stays__factory.ts","../../../../src/api/getLodgingFacilityIds.ts","../../../../src/api/getNewAndUpdatedFacilityIds.ts","../../../../src/api/getLodgingFacilityIdsByOwner.ts","../../../../src/api/getSpaceIds.ts","../../../../src/api/getAvailability.ts","../../../../src/api/getLodgingFacility.ts","../../../../src/utils/ipfs.ts","../../../../src/utils/repeater.ts","../../../../src/api/getSpace.ts","../../../../src/api/getTokensBySpaceId.ts","../../../../src/api/registerLodgingFacility.ts","../../../../src/api/updateLodgingFacility.ts","../../../../src/api/addSpace.ts","../../../../src/api/updateSpace.ts","../../../../src/api/book.ts","../../../../src/api/nft.ts","../../../../src/api/getDayZero.ts","../../../../src/api/checkIn.ts","../../../../src/api/checkOut.ts","../../../../src/api/cancel.ts","../../../../src/utils/sendHelper.ts","../../../src/faker.ts","reportWebVitals.ts","components/SwitchThemeMode.tsx","utils/logger.ts","store/recordsReducer.ts","store/ownFacilitiesReducer.ts","config.ts","store/localStorage.ts","store/reducer.ts","hooks/useWeb3Modal.ts","hooks/useRpcProvider.ts","hooks/useNetworkId.ts","hooks/useAccount.ts","hooks/useWeb3StorageApi.ts","hooks/useContract.ts","hooks/usePoller.ts","hooks/useSmartContractData.ts","hooks/useOwnFacilities.ts","store/index.tsx","hooks/useIpfsNode.ts","GlobalStyle.tsx","utils/strings.ts","components/Account.tsx","components/buttons/web3Modal.tsx","components/Protected.tsx","components/MessageBox.tsx","pages/PageWrapper.tsx","components/search/SearchForm.tsx","hooks/useDayZero.ts","pages/Home.tsx","pages/Message.tsx","components/SearchResultCard.tsx","hooks/useSpaceAvailability.ts","hooks/useSpaceSearch.ts","pages/Search.tsx","components/ExternalLink.tsx","components/Collapsible.tsx","hooks/useWindowsDimension.ts","hooks/useGoToMessage.ts","utils/roomProfile.ts","components/rooms/FacilityProfileCard.tsx","pages/FacilityProfile.tsx","components/rooms/SpaceProfileCard.tsx","pages/SpaceProfile.tsx","components/buttons/BookWithDai.tsx","components/Modal.tsx","hooks/useSignVoucher.ts","components/StayVoucherQr.tsx","hooks/useMyTokens.ts","pages/MyTokens.tsx","pages/Space.tsx","components/QrReader.tsx","pages/CheckIn.tsx","components/checkOut/CheckOutView.tsx","components/checkOut/CheckOutCard.tsx","hooks/useCheckOut.ts","pages/Facilities.tsx","components/Routes.tsx","components/AppHeader.tsx","App.tsx","index.tsx","../../../src/validators.ts","../../../../src/utils/dataUri.ts","../../../src/enum.ts","../../index.ts","../../../../src/utils/index.ts"],"names":["exports","description","type","title","allOf","definitions","org_json_schema_1","AmenityReference","SpaceReference","required","properties","name","example","enum","enum_1","amenities","items","capacity","guestsNumber","beds","price","media","$ref","spaces","SpacesReference","FacilityContactReference","phone","email","format","website","messengers","OperatorReference","address","LodgingFacilityReference","tier","contact","what3words","operator","__exportStar","constructor","contractAddress","providerOrUri","web3Storage","org_id_utils_1","ethereumAddress","exec","Error","provider","ethers_1","providers","JsonRpcProvider","isMetaMask","Web3Provider","send","contract","Contract","stays_smart_contracts_1","abi","connect","getSigner","getDayZero","getLodgingFacilityIds","active","getLodgingFacilityIdsByOwner","owner","getNewAndUpdatedFacilityIds","fromBlock","getSpaceIds","lodgingFacilityId","getAvailability","spaceId","startDay","numberOfDays","getLodgingFacility","getSpace","getTokensOfOwner","getToken","tokenId","getTokensBySpaceId","state","registerLodgingFacility","profileData","fren","overrides","transactionHashCb","confirmations","updateLodgingFacility","addSpace","pricePerNightWei","updateSpace","book","quantity","checkIn","voucher","checkOut","cancel","web3StorageApiPath","token","gateway","_super","_this","authToken","ipfsGateway","__extends","Web3StorageApi","file","_b","request","arrayBuffer","_d","__assign","authHeader","cid","cat","Promise","resolve","concat","undefined","_a","base_1","signer","from","to","verifyingContract","chainId","__awaiter","domain","version","signature","_signTypedData","Voucher","Object","enumerable","get","_abi","inputs","internalType","outputs","stateMutability","IERC1271__factory","Interface","signerOrProvider","anonymous","indexed","_bytecode","ERC721__factory","args","length","contractName","deploy","name_","symbol_","getDeployTransaction","attach","ERC721Enumerable__factory","ERC721URIStorage__factory","IERC721Enumerable__factory","IERC721Metadata__factory","IERC721__factory","IERC721Receiver__factory","ERC165__factory","IERC165__factory","IStayEscrow__factory","components","IStays__factory","StayEscrow__factory","Stays__factory","getActiveLodgingFacilityIds","getAllLodgingFacilityIds","facilitiesIds","Set","facilityCreatedFilter","filters","LodgingFacilityCreated","facilityUpdatedFilter","LodgingFacilityUpdated","spaceCreatedFilter","SpaceAdded","spaceUpdatedFilter","SpaceUpdated","facilityCreated","queryFilter","facilityUpdated","spaceCreated","spaceIds","map","e","facilitiesFromSpaces","all","getSpaceById","s","forEach","event","add","facilityId","Array","getActiveSpaceIdsByFacilityId","getSpaceIdsByFacilityId","a","toNumber","exists","dataURI","getLodgingFacilityById","data","contractData","updated","luxon_1","now","toISO","_","rawResource","race","reject","setTimeout","JSON","parse","error","callback","maxTries","tries","toString","t","profileDataFile","ipfs_apis_1","obj2File","simpleUid","events","find","updatedSpaceId","value","mul","balance","balanceOf","tokens","i","tokenOfOwnerByIndex","push","ownerOf","tokenUri","tokenURI","attributes","trait_type","status","depositState","dayZero","checkedInTokenId","checkedOutTokenId","cancelledTokenId","method","sender","JsonRpcSigner","contractWithSigner","gasAmount","estimateGas","gasPrice","getBalance","isBigNumber","gt","tx","hash","wait","web3Storage_1","utils","startIpfsGateway","getIpfsChunks","array","Math","floor","random","count","fill","country","faker_1","countryCode","subdivision","datatype","number","max","locality","cityName","postalCode","zipCode","streetAddress","premise","secondaryAddress","gps","latitude","longitude","lorem","sentence","uri","image","city","company","companyName","lines","bsNoun","commerce","department","phoneNumber","internet","domainName","logo","abstract","images","min","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ThemeMode","logFunction","subject","console","log","Logger","debug","info","logger","recordsReducer","action","records","payload","record","id","knownRecord","filter","r","restRecords","message","ownFacilitiesReducer","ownFacilities","ownFacilitiesLoading","ownFacilitiesBootstrapped","ownFacilitiesRefresh","network","blockExplorer","n","Number","process","rpc","config","mode","apiKeys","getDappMode","getNetwork","UNKNOWN_LOCAL_STORAGE_ERROR","storagePropertyName","storageConnectorConfig","safeObjectStringify","obj","indent","cache","stringify","getOwnPropertyNames","reduce","v","has","storageReducer","transform","stateToStore","selectedState","storage","sessionStorage","localStorage","serializedState","setItem","setState","mainReducer","isConnecting","account","isRightNetwork","themeMode","networkId","injectedProvider","rpcProvider","signIn","signOut","isBootstrapLoading","searchTimestamp","searchParams","bootstrapped","bootstrappedContract","isIpfsNodeConnecting","ipfsNode","startIpfsNode","stopIpfsNode","errors","initialState","light","lodgingFacilities","searchSpaces","useAppReducer","storedState","getItem","emptyStorage","getState","useReducer","reducers","updatedState","reducer","useWeb3StorageApi","useMemo","getApiKey","useContract","setContract","useState","loading","setLoading","setError","useEffect","loadLodgingFacilities","async","facilityIds","facility","space","loadSpace","f","useSmartContractData","dispatch","contractError","loadAndDispatchFacilities","useCallback","blockNumber","getBlockNumber","catch","finally","getFacilitiesUpdates","fn","enabled","interval","pollerName","TypeError","disabled","failures","poll","usePoller","useOwnFacilities","isLoading","loadFacilities","tokenIds","loadTokens","err","refresh","StateContext","createContext","DispatchContext","useAppState","ctx","useContext","useAppDispatch","web3ModalConfig","cacheProvider","providerOptions","walletconnect","package","WalletConnectProvider","options","AppStateProvider","children","rpcProviderError","on","useRpcProvider","web3ModalError","setProvider","setInjectedProvider","setIsConnecting","web3Modal","Web3modal","clearCachedProvider","providerController","cachedProvider","updateProvider","web3ModalProvider","code","reason","ethers","useWeb3Modal","isNetworkIdLoading","networkError","allowedNetwork","setNetworkId","setIsLoading","setIsRightNetwork","getNetworkId","useNetworkId","isAccountLoading","accountError","setAccount","accounts","listAccounts","getAccount","useAccount","ipfsNodeLoading","ipfsNodeError","node","setNode","start","doStop","ipfsNodePromise","stop","repoAutoMigrate","useIpfsNode","bootstrapError","ownFacilitiesError","Provider","baseTheme","deepMerge","grommet","generate","GlobalStyle","Grommet","full","style","height","minHeight","theme","background","position","centerEllipsis","text","width","prefix","substring","AccountIcon","styled","Blockies","AccountHash","Text","AccountWrap","Box","Account","size","ResponsiveContext","notification","setNotification","shortAccount","direction","align","justify","pad","onClick","navigator","clipboard","window","isSecureContext","writeText","textArea","document","createElement","opacity","body","appendChild","focus","select","execCommand","remove","copyToClipboard","seed","scale","Notification","toast","InnerSpinner","Spinner","WhiteButton","Button","SignInButton","Login","SignOutButton","Logout","Protected","component","path","location","useLocation","allowedMessageBoxTypes","MessageBox","show","onClose","gap","margin","bottom","StatusInfo","color","Alert","primary","label","allowedNetworkName","PageWrapper","breadcrumbs","Label","div","BlurredSearch","dateFormat","Intl","DateTimeFormat","month","day","today","DateTime","set","hour","tomorrow","plus","days","SearchForm","getDate","initGuestsAmount","departureDate","setDepartureDate","returnDate","setReturnDate","departureDay","returnDay","guestsAmount","setGuestsAmount","query","firstDate","secondDate","oneDay","round","diff","toMillis","parseDateToDays","fromISO","URLSearchParams","String","navigate","useNavigate","DateInput","buttonProps","Date","icon","border","fontFamily","fontStyle","fontWeight","fontSize","lineHeight","borderRadius","calendarProps","alignSelf","onChange","handleDateChange","TextInput","focusIndicator","padding","placeholder","target","replace","useDayZero","isReady","setIsReady","setDayZero","dz","cleanZero","fromMillis","WhiteText","GradientText","Home","isGetDateReady","Message","messageType","setMessageType","messageText","setMessageText","messagePath","setMessagePath","messagePathLabel","setMessagePathLabel","pathLabel","includes","CustomButton","SearchResultCard","side","overflow","Grid","responsive","rows","columns","areas","end","gridArea","Image","fit","src","right","useSpaceSearch","cb","useSpaceAvailability","previousValue","currentValue","newSpaces","availability","available","getSpacesAvailability","WhiteParagraph","WhiteParagraph18","Search","search","params","filteredSpaces","top","left","zIndex","marginTop","ShareIcon","Share","ExternalLink","href","Anchor","rel","reverse","Collapsible","open","animation","useWindowsDimension","windowDimenion","detectHW","winWidth","innerWidth","winHeight","innerHeight","detectSize","addEventListener","removeEventListener","useGoToMessage","allowedLodgingFacilityTypes","allowedLodgingFacilityTiers","enumerators","ResponsiveColumn","defaultCountries","defaultFormValue","flattenObject","keys","acc","key","pre","unFlattenObject","result","split","j","isNaN","FacilityProfileCard","useParams","showMessage","loadingContract","profileValue","setProfileValue","countries","setCountries","contactOpen","setContactOpen","addressOpen","setAddressOpen","operatorOpen","setOperatorOpen","showImagesLoader","setShowImagesLoader","uploadIpfsError","setUploadIpfsError","facilityError","setFacilityError","facilityLoading","setFacilityLoading","logoUploading","setLogoUploading","imagesUploading","setImagesUploading","setImages","imagesDescriptions","setImagesDescriptions","validationError","setValidationError","setHash","profileCreating","setProfileCreating","selectedFacilityProfile","setSelectedFacilityProfile","profile","isUpdateMode","hashLink","closeImageLoader","unFlattenProfile","deployToIpfs","loadingSetter","isImage","handleSubmit","validateLodgingFacilityData","Form","validate","onReset","onSubmit","nextValue","onValidate","some","x","Card","elevation","CardHeader","Heading","level","CardBody","FormField","htmlFor","TextArea","Select","textTransform","clear","tags","editable","readOnly","removeOnBackspace","newTags","profileClone","validator","cursor","CaretDownFill","CaretRightFill","marginLeft","regexp","onSearch","escapedText","exp","RegExp","o","test","Carousel","initialChild","index","Stack","anchor","Close","transition","horizontal","vertical","FileInput","accept","maxSize","messages","browse","dropPrompt","files","removeAll","maxFile","Layer","onEsc","onClickOutside","paddingBottom","multiple","dropPromptMultiple","listStyleType","alt","URL","createObjectURL","cols","preventDefault","initialImagesCount","CardFooter","FacilityProfile","SpaceProfileCard","validateSpaceData","allowedSpaceTypes","defaultValue","SpaceProfile","BookWithDai","Modal","Title","Price","HotelTitle","CustomText","StayVoucherQr","onError","signCallback","isSignerReady","getAddress","createVoucher","useSignVoucher","qrData","setQrData","handleGetQr","marginBottom","qrId","xml","getElementById","outerHTML","encodeURIComponent","downloadElem","setAttribute","click","downloadQr","Header","CustomBoldText","TokenCard","parseTrait","trait","attr","toLowerCase","total","formatUnits","borderBottom","maxWidth","toISODate","justifySelf","weight","toFixed","TokenView","facilityOwner","cancelLoading","setCancelLoading","cancellationTxHash","setCancellationTxHash","cancellationTxHashLink","cancelTx","hoverIndicator","MyTokens","setSearchParams","useSearchParams","getDateError","tokensLoading","tokensError","setTokens","tokensIds","tokensOfOwner","useMyTokens","tokenLoading","tokenError","setToken","setFacilityOwner","facilityIdAttribute","attribute","useGetToken","findFacility","Description","Space","pathname","errorContract","setTokenId","borderColor","searchQuery","flex","marginRight","res","QrReader","onScan","setShow","constraints","facingMode","onResult","getText","CheckIn","handleCheckIn","parsedData","CheckOutView","checkOutDate","CheckOutCard","FacilityList","facilities","onSelect","SpacesList","Facilities","checkOutLoading","checkOutError","toLocaleString","useCheckOut","selectedFacility","setSelectedFacility","selectedToken","setSelectedToken","CustomMenu","Menu","pagesRoutesConfig","element","protected","AppRoutes","useRoutes","route","GlobalMenu","buildMenuConfig","dropBackground","dropAlign","ResponsiveAlign","AppHeader","returnLocation","App","Main","render","spaceData","validationResult","validateWithSchemaOrRef","schemas_1","lodgingFacility","tokenUriType","ipfs","uriHttp","response","dataUri","decodedData","TextDecoder","decode","base64","Stays_json_1","voucher_1","fileName","blob","blob_1","file_1","asyncIterator","asyncIterator_1","chunk","curr","concatenatedData","Uint8Array","offset","data_1","_i","arr"],"mappings":"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CA,WACA,gBACA,SACA,iCACA,oBACA,WACA,eACA,UACA,WACA,WACA,SACA,aACA,iBACA,2BACA,OACA,QACA,QACA,mBACA,0BACA,WACA,UACA,QACA,0CACA,eACA,aACA,gBACA,UACA,OACA,UACA,SACA,iBACA,UACA,WACA,WACA,qBACA,UACA,QACA,cACA,oBACA,UACA,UACA,WACA,8BACA,gBACA,OACA,UACA,SACA,gBACA,mBACA,8BACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,aACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,oCACA,gCACA,WACA,YACA,UACA,UACA,QACA,YACA,4BACA,OACA,UACA,cACA,SACA,QACA,UACA,QACA,SACA,SACA,aACA,QACA,WACA,yCACA,qBACA,SACA,SACA,aACA,mCACA,SACA,UACA,UACA,UACA,yBACA,gBACA,YACA,aACA,QACA,6CACA,aACA,SACA,WACA,WACA,OACA,QACA,mBACA,aACA,aACA,YACA,UACA,SACA,kCACA,uBACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,UACA,QACA,QACA,cACA,uBACA,gBACA,cACA,YACA,QACA,UACA,OACA,iBACA,2BACA,SACA,OACA,WACA,QACA,kCACA,SACA,mBACA,WACA,OACA,cACA,WACA,SACA,WACA,cACA,QACA,UACA,UACA,qBACA,SACA,mBACA,eACA,wBACA,cACA,eACA,4BACA,mCACA,QACA,aACA,wBACA,eACA,UACA,SACA,wBACA,aACA,eACA,YACA,eACA,WACA,WACA,kBACA,UACA,eACA,+CACA,cACA,QACA,YACA,QACA,WACA,yBACA,YACA,SACA,cACA,uBACA,4BACA,aACA,+BACA,WACA,cACA,OACA,UACA,QACA,sBACA,UACA,SACA,eACA,2BACA,SACA,SACA,UACA,uBACA,iBACA,gBACA,uCACA,UACA,aACA,UACA,YACA,WACA,0BACA,uBACA,oBACA,iBACA,QACA,SACA,YAGWC,GAAuC,CAClDttB,KAAM,GACNV,YAAa,GACbC,KAAM,GACNgC,KAAM,GACNC,QAAS,CACPxB,KAAM,GACNe,MAAO,GACPC,MAAO,GACPE,QAAS,IAEXd,UAAW,GACXiB,QAAS,CACP+O,QAAS,GACTG,YAAa,GACbI,SAAU,GACVE,WAAY,GACZE,cAAe,GACfC,QAAS,GACTE,IAAK,IAEPxP,SAAU,CACR1B,KAAM,GACNqB,QAAS,CACP+O,QAAS,GACTG,YAAa,GACbI,SAAU,GACVE,WAAY,GACZE,cAAe,GACfC,QAAS,GACTE,IAAK,KAGTxQ,MAAO,CACLyR,KAAM,GACNE,OAAQ,KAINkb,GAAgB,SAAC/X,GAAD,IAAW4K,EAAX,uDAAoB,GAApB,OACpB5Y,OACGgmB,KAAKhY,GACLK,QACC,CAAC4X,EAAKC,KACJ,MAAMC,EAAMvN,EAAO5X,OAAS4X,EAAS,IAAM,GAY3C,OAXAqN,EAAM,IACDA,KAEmB,kBAAbjY,EAAIkY,GAEPH,GAAc/X,EAAIkY,GAAMC,EAAMD,GAC9B,CACA,CAACC,EAAMD,GAAMlY,EAAIkY,OAM3B,KAGAE,GAAmBpY,IACvB,MAAMqY,EAAc,GACpB,IAAK,IAAI9f,KAAKyH,EAAK,CACjB,MAAMgY,EAAOzf,EAAE+f,MAAM,KACrBN,EAAK3X,QACH,CAAC4X,EAAKC,EAAKK,IACFN,EAAIC,KACRD,EAAIC,GAAOM,MAAMpZ,OAAO4Y,EAAKO,EAAI,KAAQP,EAAKhlB,OAAS,IAAMulB,EAAIvY,EAAIzH,GAAK,GAAM,KAErF8f,GAGJ,OAAOA,GAGII,GAAsB,KAAO,IAAD,EACvC,MAAM,GAAEna,GAAOoa,eACTC,EAAcnB,MACd,SAAEP,GAAaH,MACf,SACJlqB,EADI,SAEJsV,EAFI,cAGJrD,EAHI,qBAIJC,EAJI,qBAKJE,GACEiH,MACG9Y,EAAUyrB,GAAmBtV,EAAY1W,EAAUsV,GACpD3V,EAAc4W,EAAkBjB,IAC/B2W,EAAcC,GAAmBtV,mBAA8BuU,GAAcD,MAC7EiB,EAAWC,GAAgBxV,mBAAmBqU,KAC9CoB,EAAaC,GAAkB1V,oBAAkB,IACjD2V,EAAaC,GAAkB5V,oBAAkB,IACjD6V,EAAcC,GAAmB9V,oBAAkB,IACnD+V,EAAkBC,GAAuBhW,oBAAkB,IAC3DiW,EAAiBC,GAAsBlW,sBACvCmW,EAAeC,GAAoBpW,sBACnCqW,EAAiBC,GAAsBtW,oBAAkB,IACzDuW,EAAeC,GAAoBxW,oBAAkB,IACrDyW,EAAiBC,GAAsB1W,oBAAkB,IACzD3G,EAAQsd,GAAa3W,mBAAiB,KACtC4W,EAAoBC,GAAyB7W,mBAAiC,KAC9E8W,EAAiBC,GAAsB/W,sBACvCxJ,EAAMwgB,GAAWhX,sBACjBiX,EAAiBC,GAAsBlX,oBAAkB,IAGzDmX,EAAyBC,GAA8BpX,qBAExDgC,EAAYpC,mBAChB,KAAS7W,GAAeqsB,GACxB,CAACrsB,EAAaqsB,IAGhBhV,qBACE,KACE,IAAI4B,GAAclH,GAASO,EAK3B,IACE+a,OAAiB1oB,GACjB4oB,GAAmB,GAEnB,MAAM9V,EAAWnF,EAAc7G,MAC7BmM,GAAKA,EAAE1N,aAAaxI,oBAAsBqQ,IAG5C,IAAK0F,EAAU,CACb,IAAKlF,EACH,MAAM,IAAInS,MACP,6CAA4C2R,KAIjD,YADAsc,OAA2B1pB,GAI7B,MAAM2pB,EAAU1jB,KAAKC,MAAMD,KAAKgJ,UAAU6D,WACnC6W,EAAQpkB,oBACRokB,EAAQzvB,cACRyvB,EAAQnkB,QAEfkkB,EAA2BC,GAC3B/B,EAAgBf,GAAc8C,IAC9B7c,GAAOF,MAAM,4BAA6B+c,GAC1Cf,GAAmB,GACnB,MAAOlU,GACP5H,GAAO3G,MAAMuO,GACbgU,EACGhU,EAAcjH,SAAW,0CAE5Bmb,GAAmB,QApCnBc,OAA2B1pB,KAuC/B,CAACoN,EAAIO,EAAeC,EAAsB0G,IAI5C,MAAMsV,EAAe1X,mBACnB,MAAQuX,GACR,CAACA,IAGGI,EAAW3X,mBAAQ,KACvB,MAAMnE,EAAUU,IAChB,OAAO3F,EAAQ,GAAEiF,EAAQC,oBAAoBlF,IAAS,OACrD,CAACA,IAEEghB,GAAmB,KACvBb,EAAU,IACVE,EAAsB,IACtBb,GAAoB,IAGhByB,GAAmB7X,mBACvB,IAAMgV,GAAgBS,IACtB,CAACA,IAGGqC,GAAe1W,uBACnBV,eACExT,GAGI,IAFJ6qB,EAEG,uDAFa,OAChBC,EACG,wDACH,IACE,IAAK7uB,EACH,MAAM,IAAII,MAAM,0BAElBwuB,GAAc,GACd,MAAM,IAAEtqB,SAActE,EAAYuJ,IAAIxF,GAChCyL,EAAMqf,EACP,WAAUvqB,mBACV,UAASA,IAEd,OADAsqB,GAAc,GACPpf,EACP,MAAO6J,GAMP,OALA5H,GAAO3G,MAAMuO,GACb8T,EACG9T,EAAcjH,SAAW,+BAE5Bwc,GAAc,GACP,QAGX,CAAC5uB,IAGG8uB,GAAe7W,uBACnBV,UACEyW,OAAmBrpB,GAEnB,IACE,IAAK/D,EACH,MAAM,IAAIR,MAAM,6BAGlB+tB,GAAmB,GAEnB,MAAM5rB,EAAcspB,GAAgBS,GAKpC,GAHA7a,GAAOF,MAAM,cAAehP,GAC5BwsB,uCAA4BxsB,GAExBgsB,EAAc,CAChB,IAAKxc,EACH,MAAM,IAAI3R,MACR,mFAIEQ,EAASgC,sBACbmP,EACAxP,OACAoC,EACAspB,OACAtpB,cAGI/D,EAAS0B,wBACbC,GACA,OACAoC,OACAA,EACAspB,OACAtpB,GAIA8N,GACFA,UAGI,IAAIjO,SAAQC,GAAWkG,WAAWlG,EAAS,OAEjD0pB,GAAmB,GAEnB/B,EACG,yBAAwB7pB,EAAYtE,+BAA+BswB,EAAe,UAAY,YAC/F,OACA,cACA,iCAEF,MAAOlV,GACP5H,GAAO3G,MAAMuO,GACb2U,EACG3U,EAAcjH,SACf,oCAEF+b,GAAmB,MAGvB,CAAC/B,EAAamC,EAAcjC,EAAcva,EAAInR,EAAU6R,IAG1D,OACE,qCACE,cAACkP,GAAD,CAAYnkB,KAAK,OAAOokB,KAAM3I,EAA9B,SACE,eAAC4F,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,uEAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,OAAOokB,KAAM0L,EAA9B,SACE,eAACzO,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,qEAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQsL,EAAjC,SACE,cAACrO,GAAA,EAAD,UACGqO,MAIL,cAACvL,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQwL,EAAjC,SACE,cAACvO,GAAA,EAAD,UACGuO,OAIHnU,GACA,eAAC+V,GAAA,EAAD,CACErjB,MAAO2gB,EACP2C,SAAS,SACTC,QAAS,KACP3C,EAAgBf,GAAcD,KAC9BsB,GAAe,GACfE,GAAgB,GAChB0B,MAEFU,SAAUL,GACVjJ,SAAUuJ,GAAa7C,EAAgB6C,GACvCC,WAAY,IAAiB,IAAhB,OAAEvZ,GAAa,EACtBrQ,OAAOgmB,KAAK3V,GAAQwZ,MAAKC,GAAK,aAAapvB,KAAKovB,MAClD5C,GAAe,GAGblnB,OAAOgmB,KAAK3V,GAAQwZ,MAAKC,GAAK,aAAapvB,KAAKovB,MAClD1C,GAAe,GAGbpnB,OAAOgmB,KAAK3V,GAAQwZ,MAAKC,GAAK,cAAcpvB,KAAKovB,MACnDxC,GAAgB,IArBtB,UAyBE,eAACyC,GAAA,EAAD,CAAMpR,MAAM,UAAUqR,UAAU,SAASzR,WAAW,UAApD,UACE,cAAC0R,GAAA,EAAD,CAAYnQ,IAAI,SAAhB,SACE,cAACoQ,GAAA,EAAD,CAAS5N,OAAO,OAAO6N,MAAM,IAA7B,wCAIF,cAACC,GAAA,EAAD,CACEtQ,IAAI,SACJqG,UAAU,QACV5H,WAAW,OACXI,MAAM,UAJR,SAME,eAAC2J,GAAA,EAAD,CACEG,QAASmD,GAAiBX,GAC1B1C,YAAY,EAFd,UAIE,eAACnJ,GAAA,EAAD,WACE,cAACiR,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,OACNpkB,KAAK,OACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,cACNpkB,KAAK,cACL8xB,QAAQ,YACRzO,UAAW0O,KACXjyB,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,OACNpkB,KAAK,OACLF,UAAQ,EAJV,SAME,cAACkyB,GAAA,EAAD,CACEhyB,KAAK,OACL2f,MAAO,CAAEsS,cAAe,cACxBhK,YAAY,mBACZnoB,UAAQ,EACRoyB,OAAK,EACL/V,QAASgR,eAAYF,gCAIzB,cAAC4E,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,OACNpkB,KAAK,OACLF,UAAQ,EAJV,SAME,cAACkyB,GAAA,EAAD,CACEhyB,KAAK,OACL2f,MAAO,CAAEsS,cAAe,cACxBhK,YAAY,mBACZnoB,UAAQ,EACRoyB,OAAK,EACL/V,QAASgR,eAAYD,gCAIzB,cAAC2E,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,YACNtkB,UAAQ,EAHV,SAKE,cAAC,KAAD,CACEqyB,KAAM1B,GAAiBrwB,WAAa,GACpC6nB,YAAY,uBACZmK,UAAU,EACVC,UAAU,EACVC,mBAAmB,EACnB1K,SAAU2K,IACR,MAAMC,EACJ7lB,KAAKC,MAAMD,KAAKgJ,UAAU8a,KAC5B+B,EAAapyB,UAAYmyB,EACzBjE,EAAgBf,GAAciF,KAEhCC,UAAW/kB,IACF,MAKb,eAACkT,GAAA,EAAD,WACE,cAAC8Q,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IACNhS,MAAO,CAAE+S,OAAQ,WACjBnR,QAAS,IAAMmN,GAAgBD,GAJjC,SAME,eAAC7N,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKU,IAAK,CAAE,MAAS,SAArB,qBAGA,cAACV,GAAA,EAAD,UACG6N,EAAc,cAACkE,GAAA,EAAD,IAAoB,cAACC,GAAA,EAAD,WAKzC,eAACzG,GAAD,CAAaC,KAAMqC,EAAnB,UACE,cAACoD,GAAA,EAAD,CACEzN,MAAM,kBACNzE,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,IACjD3rB,KAAK,eACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,QACNpkB,KAAK,gBACLF,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKolB,UAAO/xB,MAAMmB,KAAKwL,GACrB,MAAO,mCAOjB,cAACmkB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,QACNpkB,KAAK,gBACLF,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKolB,UAAO9xB,MAAMkB,KAAKwL,GACrB,MAAO,4BAOjB,cAACmkB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,GACjDvH,MAAM,UACNpkB,KAAK,kBACLF,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKolB,UAAOvhB,IAAIrP,KAAKwL,GACnB,MAAO,gCASrB,eAACkT,GAAA,EAAD,WACE,cAAC8Q,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IACNhS,MAAO,CAAE+S,OAAQ,WACjBnR,QAAS,IAAMqN,GAAgBD,GAJjC,SAME,eAAC/N,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKU,IAAK,CAAE,MAAS,SAArB,qBAGA,cAACV,GAAA,EAAD,UACG+N,EAAc,cAACgE,GAAA,EAAD,IAAoB,cAACC,GAAA,EAAD,WAKzC,eAACzG,GAAD,CAAaC,KAAMuC,EAAnB,UACE,cAACkD,GAAA,EAAD,CACEzN,MAAM,iBACNzE,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,IACjD3rB,KAAK,wBACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,WACNpkB,KAAK,mBACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,cACNpkB,KAAK,qBACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,GACjDvH,MAAM,UACNpkB,KAAK,kBACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,oBATjB,SAeE,cAACgyB,GAAA,EAAD,CACEhyB,KAAK,kBACLioB,YAAY,UACZiK,OAAK,EACLpyB,UAAQ,EACRqc,QAASoS,EACTwE,SAAW7S,IACT,MAAM8S,EAAc9S,EAAKiI,QACvB,uBACA,QAGI8K,EAAM,IAAIC,OAAOF,EAAa,KACpCxE,EACEnB,GAAiBrZ,QAAQmf,GAAMF,EAAIG,KAAKD,OAG5CvP,QAAS,IAAM4K,EAAanB,QAIhC,cAACwE,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,cACNpkB,KAAK,wBAGP,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,UACNpkB,KAAK,oBAGP,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,MACNpkB,KAAK,sBAKX,eAAC4gB,GAAA,EAAD,WACE,cAAC8Q,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IACNhS,MAAO,CAAE+S,OAAQ,WACjBnR,QAAS,IAAMuN,GAAiBD,GAJlC,SAME,eAACjO,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKU,IAAK,CAAE,MAAS,SAArB,sBAGA,cAACV,GAAA,EAAD,UACGiO,EAAe,cAAC8D,GAAA,EAAD,IAAoB,cAACC,GAAA,EAAD,WAK1C,eAACzG,GAAD,CAAaC,KAAMyC,EAAnB,UACE,cAACgD,GAAA,EAAD,CAEElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,IACjDvH,MAAM,gBACNpkB,KAAK,gBACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACEzN,MAAM,iBACNzE,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,IACjD3rB,KAAK,iCACLF,UAAQ,IAGV,cAAC+xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,WACNpkB,KAAK,4BACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,cACNpkB,KAAK,8BACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,GAAIlH,UAAW,GACjDvH,MAAM,UACNpkB,KAAK,2BACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,oBATjB,SAeE,cAACgyB,GAAA,EAAD,CACEhyB,KAAK,2BACLioB,YAAY,UACZiK,OAAK,EACLpyB,UAAQ,EACRqc,QAASoS,EACTwE,SAAW7S,IACT,MAAM8S,EAAc9S,EAAKiI,QACvB,uBACA,QAGI8K,EAAM,IAAIC,OAAOF,EAAa,KACpCxE,EACEnB,GAAiBrZ,QAAQmf,GAAMF,EAAIG,KAAKD,OAG5CvP,QAAS,IAAM4K,EAAanB,QAIhC,cAACwE,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,cACNpkB,KAAK,iCAGP,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,UACNpkB,KAAK,6BAGP,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,GAAI6K,WAAY,IAClCzO,MAAM,WACNpkB,KAAK,gCAKM,OAAhBywB,SAAgB,IAAhBA,IAAA,UAAAA,GAAkB/vB,aAAlB,eAAyB2R,SAAUoe,GAAiB/vB,MAAM2R,OAAO7J,OAAS,GACzE,eAACoY,GAAA,EAAD,WACE,cAAC8Q,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IAFR,6BAOA,cAAC/Q,GAAA,EAAD,CAAKhB,OAAO,SAASiK,SAAS,SAA9B,SACE,cAACwJ,GAAA,EAAD,CAAUljB,MAAI,EAACmjB,aAAc,EAA7B,SACG7C,GAAiB/vB,MAAM2R,OAAOvH,KAC7B,CAAC0G,EAAO+hB,IACN,eAACC,GAAA,EAAD,CAAmBrjB,MAAI,EAACsjB,OAAO,SAA/B,UACE,cAACpJ,GAAA,EAAD,CACEla,MAAI,EACJyP,OAAO,SACP0K,IAAI,QACJC,IAAK/Y,EAAMD,IACX/R,MAAOgS,EAAMlS,cAEf,cAACyjB,GAAA,EAAD,CACEmE,KAAM,cAACwM,GAAA,EAAD,CAAOzP,MAAM,UACnB1C,QAAS,KAAO,IAAD,IACb+M,EACEf,GAAc,IACTkD,GACH/vB,MAAO,IACF+vB,GAAiB/vB,MACpB2R,OAAM,OAAEoe,SAAF,IAAEA,IAAF,UAAEA,GAAkB/vB,aAApB,iBAAE,EAAyB2R,cAA3B,aAAE,EAAiC2B,QACvC,CAAC1H,EAAGyB,IAAMA,IAAMwlB,aAjBlBA,eAiC1B,eAAC3S,GAAA,EAAD,CAAK+G,UAAU,QAAQvG,MAAM,SAA7B,UACE,eAACR,GAAA,EAAD,CACEO,UAAU,SACVC,MAAM,SACNyC,IAAK,QACLvC,IAAK,CAAEkK,IAAK,UAJd,UAME,cAAC9K,GAAA,EAAD,4BAEA,eAAC8S,GAAA,EAAD,CAAOC,OAAO,YAAd,UACE,cAACpJ,GAAA,EAAD,CACEE,IACiC,KAA/B8D,EAAa,cACT,uBACAA,EAAa,cAEnB/D,IAAI,QACJnK,MAAM,SACNP,OAAO,SACPD,MAAO,CACLI,WAAY,yBACZ4T,WAAY,iBACZ3L,QAAS,GACTb,OAAQ,oBAGoB,KAA/BkH,EAAa,cAAuB,KACnC,cAACzN,GAAA,EAAD,CACEb,WAAW,QACX+D,OAAO,QACPxC,IAAK,CAAEsS,WAAY,QAASC,SAAU,SACtClU,MAAO,CAAE+S,OAAQ,WACjBpM,OAAK,EACL/E,QAAS,IAAM+M,EAAgB,IAC1BD,EACH,aAAc,KARlB,SAWE,cAACqF,GAAA,EAAD,CAAOzP,MAAM,QAAQnD,KAAK,YAG7ByO,GACC,cAAC1M,GAAA,EAAD,CAAS/B,KAAK,SAASgD,OAAQ,CAAE0H,IAAK,OAAQhB,MAAO,aAIzB,KAA/B6D,EAAa,eACZ,cAACwD,GAAA,EAAD,CAAWC,QAAQ,YAAYhyB,UAAQ,EAAvC,SACE,cAACg0B,GAAA,EAAD,CACEC,OAAO,UACPrjB,IAAK,EACLsjB,QAAS,IACTC,SAAU,CACRC,OAAQ,SACRC,WAAY,oBACZC,MAAO,QACP9R,OAAQ,SACR+R,UAAW,aACXC,QAAS,yCAEX1M,SAAUtO,UAGR,GAFA4V,OAAmBxoB,GAEf2E,EAAM6c,OAAOkM,MAAO,CACtB,MAAM7iB,QAAYmf,GAChBrlB,EAAM6c,OAAOkM,MAAM,GACnB5E,GACA,GAGEje,GACF+c,EAAgB,IACXD,EACH,aAAc9c,aAU9B,cAACqP,GAAA,EAAD,CACEO,UAAU,SACVC,MAAM,SACNyC,IAAK,QACLlE,MAAO,CAAEgM,UAAW,GACpBrK,IAAK,CAAEkK,IAAK,UALd,SAOE,eAACgI,GAAA,EAAD,CAAOC,OAAO,YAAY9T,MAAO,CAAEgM,UAAW,IAA9C,UACE,cAAC5I,GAAA,EAAD,CACEjP,GAAG,aACHyN,QAAS,IAAMyN,GAAoB,GACnC5K,MAAM,kBACNzE,MAAO,CACLC,OAAQ,GACR2H,SAAU,GACVoE,UAAW,KAIdoD,GACC,eAACwF,GAAA,EAAD,CACE5U,MAAO,CAAEkK,SAAU,QACnB2K,MAAOhE,GACPiE,eAAgBjE,GAHlB,UAKE,cAAC5P,GAAA,EAAD,CACEb,WAAW,QACX+D,OAAQ,CAAE0H,IAAK,QAAShB,MAAO,SAC/B7K,MAAO,CACL+S,OAAQ,UACRvS,MAAO,GACPP,OAAQ,GACRI,SAAU,WACVwK,MAAO,KAETlE,OAAK,EACLlF,MAAM,SACNC,QAAQ,SACRE,QAASiP,GAbX,SAeE,cAACkD,GAAA,EAAD,CAAOzP,MAAM,QAAQnD,KAAK,YAG5B,eAACyQ,GAAA,EAAD,CAAMpR,MAAM,QAAQJ,WAAW,UAA/B,UACE,cAAC0R,GAAA,EAAD,UACE,cAAC/Q,GAAA,EAAD,CACEf,MAAO,CACL4H,SAAU,GACVD,WAAY,MACZU,QAAS,GACT0M,cAAe,IALnB,kCAWF,cAAC9C,GAAA,EAAD,CAAUjS,MAAO,CAAEqI,QAAS,IAA5B,SACE,iCACE,cAAC6J,GAAA,EAAD,CAAWC,QAAQ,YAAnB,SACE,cAACgC,GAAA,EAAD,CACEC,OAAO,UACPY,SAAU,CAAEjkB,IAAK,GACjBujB,SAAU,CACRC,OAAQ,SACRC,WAAY,oBACZS,mBAAoB,qBACpBR,MAAO,QACP9R,OAAQ,SACR+R,UAAW,aACXC,QACE,yCAEJ1M,SAAW,CAAC7c,EAAD,KAA2C,IAAlC,MAAEqpB,GAA+B,EACnD5gB,GAAOF,MAAMvI,GACTqpB,EAAM5rB,OAAS,GACjBmnB,EAAUyE,QAMjB/hB,EAAO7J,OAAS,GACf,qCACE,cAACkpB,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IAFR,oBAOA,qBACEhS,MAAO,CAAEkV,cAAe,QAD1B,UAGE,uBACCxiB,EAAOvH,KAAI,CAAChF,EAAMytB,IACjB,oBAEE5T,MAAO,CAAE+U,cAAe,IAF1B,SAIE,eAAC9T,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,qBACExB,MAAO,CAAEC,OAAQ,GAAIO,MAAO,IAC5B2U,IAAKhvB,EAAK9F,KACVuqB,IAAKwK,IAAIC,gBAAgBlvB,KAE3B,0BACE4H,MAAOkiB,EAAmB9pB,EAAK9F,OAAS,GACxC4nB,SAAW7c,IACT8kB,EAAsB,IACjBD,EACH,CAAC9pB,EAAK9F,MAAO+K,EAAEmd,OAAOxa,SAG1B5N,UAAQ,EACRmoB,YAAc,yBAAwBniB,EAAK9F,OAC3CgqB,KAAM,EACNiL,KAAM,GACNtV,MAAO,CACLqI,QAAS,GACTb,OAAQ,iBACR0L,WAAY,UAxBbU,QAgCX,cAACxQ,GAAA,EAAD,CACE5S,MAAM,EACNiU,MACE,eAACxD,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKkD,OAAQ,CAAE0G,MAAO,SAAtB,SACE,cAAC9J,GAAA,EAAD,uBAID+O,GACC,cAAC5M,GAAA,EAAD,CAASoB,MAAM,aAIrBtJ,SAAUK,GAAayU,EACvBtL,SAAO,EACPxE,MAAO,CACLmE,OAAQ,GACRlE,OAAQ,GACRO,MAAO,OAEToB,QAASjI,UACPvO,EAAEmqB,iBACFxF,GAAmB,GAEnB,IAAIe,EAAmB7C,GAAgBS,GAEvC,MAAM8G,EAAqB1E,EAAiB/vB,MAAM2R,OAAO7J,OACzDgL,GAAOF,MAAM,qBAAsB6hB,GAEnC,IAAK,IAAIpnB,EAAE,EAAGA,EAAIsE,EAAO7J,OAAQuF,IAAK,CACpC,MAAMwD,QAAYmf,GAChBre,EAAOtE,IACP,SACA,GAGEwD,IACFkf,EAAmB,IACdA,EACH/vB,MAAO,IACF+vB,EAAiB/vB,MACpB2R,OAAQ,IACHoe,EAAiB/vB,MAAM2R,OAC1B,CACEd,MACAjS,YAAaswB,EAAmBvd,EAAOtE,GAAG/N,OAAS,QAQ/DsuB,EAAgBf,GAAckD,IAE9Bf,GAAmB,GACnBc,mCAiB5B,cAAC4E,GAAA,EAAD,CAAY9T,IAAK,CAAEsS,WAAY,SAAW7T,WAAW,UAArD,SACE,eAACa,GAAA,EAAD,CACEO,UAAU,MACVE,QAAQ,UACRlB,MAAM,UACN2D,OAAQ,SAJV,UAME,cAACf,GAAA,EAAD,CAAQjC,KAAK,QAAQvhB,KAAK,QAAQ6kB,MAAM,UACxC,eAACxD,GAAA,EAAD,CAAKO,UAAU,SAASC,MAAM,SAA9B,UACE,cAACR,GAAA,EAAD,UACE,cAACmC,GAAA,EAAD,CACExjB,KAAK,SACLuhB,KAAK,QACLsD,MACE,eAACxD,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKkD,OAAQ,CAAE0G,MAAO,SAAtB,SACG8F,EAAe,SAAW,SAE5BL,GACC,cAACpN,GAAA,EAAD,CAASoB,MAAM,aAIrBtJ,SAAUK,GAAaiV,EACvB9L,SAAO,MAGG,OAAboM,GAAqB/gB,GACpB,cAACoR,GAAA,EAAD,CAAKkD,OAAQ,CAAE0H,IAAK,SAApB,SACE,cAACM,GAAD,CACEC,KAAMwE,EACNnM,MAAOnE,GAAezQ,kBAUpC,cAACkU,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQmM,EAAjC,SACE,cAAClP,GAAA,EAAD,UACGkP,aCz6CFuF,GAAkB,IAG3B,cAAC/Q,GAAD,CACEC,YAAa,CACX,CACEjB,KAAM,IACNc,MAAO,QAET,CACEd,KAAM,cACNc,MAAO,eARb,SAYE,cAACxD,GAAA,EAAD,CACE+G,UAAU,SACVhI,MAAO,CACL+U,cAAe,GACfvN,OAAQ,gBACRhH,MAAO,QALX,SAQE,cAAC8N,GAAD,QCgBFza,GAASH,EAAO,oBAETia,GAA6B,CACxCttB,KAAM,GACNV,YAAa,GACbC,KAAM,GACNa,UAAW,GACXE,SAAU,EACVC,aAAc,EACdC,KAAM,EACNC,MAAO,GACPC,MAAO,CACLyR,KAAM,GACNE,OAAQ,KAINkb,GAAgB,SAAC/X,GAAD,IAAW4K,EAAX,uDAAoB,GAApB,OACpB5Y,OACGgmB,KAAKhY,GACLK,QACC,CAAC4X,EAAKC,KACJ,MAAMC,EAAMvN,EAAO5X,OAAS4X,EAAS,IAAM,GAY3C,OAXAqN,EAAM,IACDA,KAEmB,kBAAbjY,EAAIkY,GAEPH,GAAc/X,EAAIkY,GAAMC,EAAMD,GAC9B,CACA,CAACC,EAAMD,GAAMlY,EAAIkY,OAM3B,KAGAE,GAAmBpY,IACvB,MAAMqY,EAAc,GACpB,IAAK,IAAI9f,KAAKyH,EAAK,CACjB,MAAMgY,EAAOzf,EAAE+f,MAAM,KACrBN,EAAK3X,QACH,CAAC4X,EAAKC,EAAKK,IACFN,EAAIC,KACRD,EAAIC,GAAOM,MAAMpZ,OAAO4Y,EAAKO,EAAI,KAAQP,EAAKhlB,OAAS,IAAMulB,EAAIvY,EAAIzH,GAAK,GAAM,KAErF8f,GAGJ,OAAOA,GAGIyH,GAAmB,KAAO,IAAD,EACpC,MAAM,WAAE/pB,EAAF,GAAcuI,GAAOoa,eACrBC,EAAcnB,MACd,SAAEP,GAAaH,MACf,SACJlqB,EADI,SAEJsV,EAFI,cAGJrD,EAHI,qBAIJC,EAJI,qBAKJE,GACEiH,MACG9Y,EAAUyrB,GAAmBtV,EAAY1W,EAAUsV,GACpD3V,EAAc4W,EAAkBjB,IAC/B2W,EAAcC,GAAmBtV,mBAA8BuU,GAAcD,MAC7EyB,EAAkBC,GAAuBhW,oBAAkB,IAC3DiW,EAAiBC,GAAsBlW,sBACvCmW,EAAeC,GAAoBpW,sBACnCqW,EAAiBC,GAAsBtW,oBAAkB,IACzDuW,EAAeC,GAAoBxW,oBAAkB,IACrDyW,EAAiBC,GAAsB1W,oBAAkB,IACzD3G,EAAQsd,GAAa3W,mBAAiB,KACtC4W,EAAoBC,GAAyB7W,mBAAiC,KAC9E8W,EAAiBC,GAAsB/W,sBACvCxJ,EAAMwgB,GAAWhX,sBACjBiX,EAAiBC,GAAsBlX,oBAAkB,IAGzDmX,EAAyBC,GAA8BpX,qBAExDgC,EAAYpC,mBAChB,KAAS7W,GAAeqsB,GACxB,CAACrsB,EAAaqsB,IAGhBhV,qBACE,KACE,IAAI4B,GAAclH,GAAOvI,GAAiB8I,EAK1C,IACE+a,OAAiB1oB,GACjB4oB,GAAmB,GAEnB,MAAM9V,EAAWnF,EAAc7G,MAC7BmM,GAAKA,EAAE1N,aAAaxI,oBAAsB8H,IAG5C,IAAKiO,EAAU,CACb,IAAKlF,EACH,MAAM,IAAInS,MACP,qCAAoCoJ,KAIzC,YADA6kB,OAA2B1pB,GAI7B,MAAM+S,EAAQD,EAAS5Y,OAAO4M,MAAKrC,GAAKA,EAAExH,UAAYmQ,IAEtD,IAAK2F,EACH,MAAM,IAAItX,MACP,kCAAiC2R,KAItC,MAAMuc,EAAU1jB,KAAKC,MAAMD,KAAKgJ,UAAU8D,WACnC4W,EAAQ1sB,eACR0sB,EAAQviB,cACRuiB,EAAQpkB,oBACRokB,EAAQnkB,QAEfkkB,EAA2BC,GAC3B/B,EAAgBf,GAAc8C,IAC9B7c,GAAOF,MAAM,yBAA0B+c,GACvCf,GAAmB,GACnB,MAAOlU,GACP5H,GAAO3G,MAAMuO,GACbgU,EACGhU,EAAcjH,SAAW,+BAE5Bmb,GAAmB,QA7CnBc,OAA2B1pB,KAgD/B,CAAC6E,EAAYuI,EAAIO,EAAeC,EAAsB0G,IAIxD,MAAMsV,EAAe1X,mBACnB,MAAQuX,GACR,CAACA,IAGGI,EAAW3X,mBAAQ,KACvB,MAAMnE,EAAUU,IAChB,OAAO3F,EAAQ,GAAEiF,EAAQC,oBAAoBlF,IAAS,OACrD,CAACA,IAEEghB,EAAmB,KACvBb,EAAU,IACVE,EAAsB,IACtBb,GAAoB,IAGhByB,EAAmB7X,mBACvB,IAAMgV,GAAgBS,IACtB,CAACA,IAGGqC,EAAe1W,uBACnBV,eACExT,GAGI,IAFJ6qB,EAEG,uDAFa,OAChBC,EACG,wDACH,IACE,IAAK7uB,EACH,MAAM,IAAII,MAAM,0BAElBwuB,GAAc,GACd,MAAM,IAAEtqB,SAActE,EAAYuJ,IAAIxF,GAChCyL,EAAMqf,EACP,WAAUvqB,mBACV,UAASA,IAEd,OADAsqB,GAAc,GACPpf,EACP,MAAO6J,GAMP,OALA5H,GAAO3G,MAAMuO,GACb8T,EACG9T,EAAcjH,SAAW,+BAE5Bwc,GAAc,GACP,QAGX,CAAC5uB,IAGG8uB,EAAe7W,uBACnBV,UACEyW,OAAmBrpB,GAEnB,IACE,IAAK/D,EACH,MAAM,IAAIR,MAAM,6BAGlB,IAAKoJ,EACH,MAAM,IAAIpJ,MACR,8DAIJ+tB,GAAmB,GAEnB,MAAM5rB,EAAcspB,GAAgBS,GAKpC,GAHA7a,GAAOF,MAAM,cAAehP,GAC5BixB,6BAAkBjxB,GAEdgsB,EAAc,CAChB,IAAKxc,EACH,MAAM,IAAI3R,MACR,wEAIEQ,EAASmC,YACbgP,EACAxP,OACAoC,EACAspB,OACAtpB,cAGI/D,EAASiC,SACbN,EACAiH,EACAjH,EAAYhE,SACZgE,EAAY7D,OACZ,OACAiG,EACAspB,OACAtpB,GAIA8N,GACFA,UAGI,IAAIjO,SAAQC,GAAWkG,WAAWlG,EAAS,OAEjD0pB,GAAmB,GAEnB/B,EACG,cAAa7pB,EAAYtE,+BAA+BswB,EAAe,UAAY,YACpF,OACA,cACA,iCAEF,MAAOlV,GACP5H,GAAO3G,MAAMuO,GACb2U,EACG3U,EAAcjH,SACf,oCAEF+b,GAAmB,MAGvB,CAAC/B,EAAamC,EAAcjC,EAAc9iB,EAAYuI,EACpDnR,EAAU6R,IAGd,OACE,qCACE,cAACkP,GAAD,CAAYnkB,KAAK,OAAOokB,KAAM3I,EAA9B,SACE,eAAC4F,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,uEAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,OAAOokB,KAAM0L,EAA9B,SACE,eAACzO,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,0DAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQsL,EAAjC,SACE,cAACrO,GAAA,EAAD,UACGqO,MAIL,cAACvL,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQwL,EAAjC,SACE,cAACvO,GAAA,EAAD,UACGuO,OAIHnU,GACA,eAAC+V,GAAA,EAAD,CACErjB,MAAO2gB,EACP2C,SAAS,SACTC,QAAS,KACP3C,EAAgBf,GAAcD,KAC9BkD,KAEFU,SAAUL,EACVjJ,SAAUuJ,GAAa7C,EAAgB6C,GARzC,UAUE,eAACI,GAAA,EAAD,CAAMpR,MAAM,UAAUqR,UAAU,SAASzR,WAAW,UAApD,UACE,cAAC0R,GAAA,EAAD,CAAYnQ,IAAI,SAAhB,SACE,cAACoQ,GAAA,EAAD,CAAS5N,OAAO,OAAO6N,MAAM,IAA7B,6BAIF,cAACC,GAAA,EAAD,CACEtQ,IAAI,SACJqG,UAAU,QACV5H,WAAW,OACXI,MAAM,UAJR,SAME,eAAC2J,GAAA,EAAD,CACEG,QAASmD,GAAiBX,GAC1B1C,YAAY,EAFd,UAIE,eAACnJ,GAAA,EAAD,WACE,cAACiR,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,OACNpkB,KAAK,OACLF,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,cACNpkB,KAAK,cACL8xB,QAAQ,YACRzO,UAAW0O,KACXjyB,UAAQ,EACRkxB,SACE,CACEhxB,IACE,IAAKA,GAAiB,KAATA,EACX,MAAO,sBAOjB,cAAC6xB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,OACNpkB,KAAK,OACLF,UAAQ,EAJV,SAME,cAACkyB,GAAA,EAAD,CACEhyB,KAAK,OACL2f,MAAO,CAAEsS,cAAe,cACxBhK,YAAY,oBACZnoB,UAAQ,EACRoyB,OAAK,EACL/V,QAASgR,eAAYqI,sBAIzB,cAAC3D,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,YACNpkB,KAAK,YAHP,SAKE,cAAC,KAAD,CACEmyB,KAAM1B,EAAiBrwB,WAAa,GACpC6nB,YAAY,uBACZmK,UAAU,EACVC,UAAU,EACVC,mBAAmB,EACnB1K,SAAU2K,IACR,MAAMC,EACJ7lB,KAAKC,MAAMD,KAAKgJ,UAAU8a,IAC5B+B,EAAapyB,UAAYmyB,EACzBjE,EAAgBf,GAAciF,KAEhCC,UAAW/kB,IACF,MAKb,cAACmkB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,WACNpkB,KAAK,WACLT,KAAK,SACLk2B,aAAc,EACd31B,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKA,GAAmB,IAAVA,EACZ,MAAO,8BAOjB,cAACmkB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,gBACNpkB,KAAK,eACLT,KAAK,SACLk2B,aAAc,EACd31B,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKA,GAAmB,IAAVA,EACZ,MAAO,8BAOjB,cAACmkB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,OACNpkB,KAAK,OACLT,KAAK,SACLk2B,aAAc,EACd31B,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKA,GAAmB,IAAVA,EACZ,MAAO,8BAOjB,cAACmkB,GAAA,EAAD,CACElS,MAAO,CAAEqI,QAAS,IAClB5D,MAAM,QACNpkB,KAAK,QACLT,KAAK,SACLk2B,aAAc,EACd31B,UAAQ,EACRkxB,SACE,CACEtjB,IACE,IAAKA,GAAmB,IAAVA,EACZ,MAAO,+BAOA,OAAhB+iB,QAAgB,IAAhBA,GAAA,UAAAA,EAAkB/vB,aAAlB,eAAyB2R,SAAUoe,EAAiB/vB,MAAM2R,OAAO7J,OAAS,GACzE,eAACoY,GAAA,EAAD,WACE,cAAC8Q,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IAFR,6BAOA,cAAC/Q,GAAA,EAAD,CAAKhB,OAAO,SAASiK,SAAS,SAA9B,SACE,cAACwJ,GAAA,EAAD,CAAUljB,MAAI,EAACmjB,aAAc,EAA7B,SACG7C,EAAiB/vB,MAAM2R,OAAOvH,KAC7B,CAAC0G,EAAO+hB,IACN,eAACC,GAAA,EAAD,CAAmBrjB,MAAI,EAACsjB,OAAO,SAA/B,UACE,cAACpJ,GAAA,EAAD,CACEla,MAAI,EACJyP,OAAO,SACP0K,IAAI,QACJC,IAAK/Y,EAAMD,IACX/R,MAAOgS,EAAMlS,cAEf,cAACyjB,GAAA,EAAD,CACEmE,KAAM,cAACwM,GAAA,EAAD,CAAOzP,MAAM,UACnB1C,QAAS,KAAO,IAAD,IACb+M,EACEf,GAAc,IACTkD,EACH/vB,MAAO,IACF+vB,EAAiB/vB,MACpB2R,OAAM,OAAEoe,QAAF,IAAEA,GAAF,UAAEA,EAAkB/vB,aAApB,iBAAE,EAAyB2R,cAA3B,aAAE,EAAiC2B,QACvC,CAAC1H,EAAGyB,IAAMA,IAAMwlB,aAjBlBA,eAiC1B,eAAC3S,GAAA,EAAD,CAAK+G,UAAU,QAAQvG,MAAM,SAA7B,UACE,eAACR,GAAA,EAAD,CACEO,UAAU,SACVC,MAAM,SACNyC,IAAK,QACLvC,IAAK,CAAEkK,IAAK,UAJd,UAME,cAAC9K,GAAA,EAAD,6BAEA,eAAC8S,GAAA,EAAD,CAAOC,OAAO,YAAd,UACE,cAACpJ,GAAA,EAAD,CACEE,IACiC,KAA/B8D,EAAa,cACT,uBACAA,EAAa,cAEnB/D,IAAI,QACJnK,MAAM,SACNP,OAAO,SACPD,MAAO,CACLI,WAAY,yBACZ4T,WAAY,iBACZ3L,QAAS,GACTb,OAAQ,oBAGoB,KAA/BkH,EAAa,cAAuB,KACnC,cAACzN,GAAA,EAAD,CACEb,WAAW,QACX+D,OAAO,QACPxC,IAAK,CAAEsS,WAAY,QAASC,SAAU,SACtClU,MAAO,CAAE+S,OAAQ,WACjBpM,OAAK,EACL/E,QAAS,IAAM+M,EAAgB,IAC1BD,EACH,aAAc,KARlB,SAWE,cAACqF,GAAA,EAAD,CAAOzP,MAAM,QAAQnD,KAAK,YAG7ByO,GACC,cAAC1M,GAAA,EAAD,CAAS/B,KAAK,SAASgD,OAAQ,CAAE0H,IAAK,OAAQhB,MAAO,aAIzB,KAA/B6D,EAAa,eACZ,cAACwD,GAAA,EAAD,CAAWC,QAAQ,YAAYhyB,UAAQ,EAAvC,SACE,cAACg0B,GAAA,EAAD,CACEC,OAAO,UACPrjB,IAAK,EACLsjB,QAAS,IACTC,SAAU,CACRC,OAAQ,SACRC,WAAY,oBACZC,MAAO,QACP9R,OAAQ,SACR+R,UAAW,aACXC,QAAS,yCAEX1M,SAAUtO,UAGR,GAFA4V,OAAmBxoB,GAEf2E,EAAM6c,OAAOkM,MAAO,CACtB,MAAM7iB,QAAYmf,EAChBrlB,EAAM6c,OAAOkM,MAAM,GACnB5E,GACA,GAGEje,GACF+c,EAAgB,IACXD,EACH,aAAc9c,aAU9B,cAACqP,GAAA,EAAD,CACEO,UAAU,SACVC,MAAM,SACNyC,IAAK,QACLlE,MAAO,CAAEgM,UAAW,GACpBrK,IAAK,CAAEkK,IAAK,UALd,SAOE,eAACgI,GAAA,EAAD,CAAOC,OAAO,YAAY9T,MAAO,CAAEgM,UAAW,IAA9C,UACE,cAAC5I,GAAA,EAAD,CACExB,QAAS,IAAMyN,GAAoB,GACnC5K,MAAM,mBACNzE,MAAO,CACLC,OAAQ,GACR2H,SAAU,GACVoE,UAAW,KAIdoD,GACC,eAACwF,GAAA,EAAD,CACE5U,MAAO,CAAEkK,SAAU,QACnB2K,MAAOhE,EACPiE,eAAgBjE,EAHlB,UAKE,cAAC5P,GAAA,EAAD,CACEb,WAAW,QACX+D,OAAQ,CAAE0H,IAAK,QAAShB,MAAO,SAC/B7K,MAAO,CACL+S,OAAQ,UACRvS,MAAO,GACPP,OAAQ,GACRI,SAAU,WACVwK,MAAO,KAETlE,OAAK,EACLlF,MAAM,SACNC,QAAQ,SACRE,QAASiP,EAbX,SAeE,cAACkD,GAAA,EAAD,CAAOzP,MAAM,QAAQnD,KAAK,YAG5B,eAACyQ,GAAA,EAAD,CAAMpR,MAAM,QAAQJ,WAAW,UAA/B,UACE,cAAC0R,GAAA,EAAD,UACE,cAAC/Q,GAAA,EAAD,CACEf,MAAO,CACL4H,SAAU,GACVD,WAAY,MACZU,QAAS,GACT0M,cAAe,IALnB,mCAWF,cAAC9C,GAAA,EAAD,CAAUjS,MAAO,CAAEqI,QAAS,IAA5B,SACE,iCACE,cAAC6J,GAAA,EAAD,CAAWC,QAAQ,YAAnB,SACE,cAACgC,GAAA,EAAD,CACEC,OAAO,UACPY,SAAU,CAAEjkB,IAAK,GACjBujB,SAAU,CACRC,OAAQ,SACRC,WAAY,oBACZS,mBAAoB,qBACpBR,MAAO,QACP9R,OAAQ,SACR+R,UAAW,aACXC,QACE,yCAEJ1M,SAAW,CAAC7c,EAAD,KAA2C,IAAlC,MAAEqpB,GAA+B,EACnD5gB,GAAOF,MAAMvI,GACTqpB,EAAM5rB,OAAS,GACjBmnB,EAAUyE,QAMjB/hB,EAAO7J,OAAS,GACf,qCACE,cAACkpB,GAAA,EAAD,CACE5N,OAAQ,CAAE,KAAQ,SAClB6N,MAAM,IAFR,oBAOA,qBACEhS,MAAO,CAAEkV,cAAe,QAD1B,UAGE,uBACCxiB,EAAOvH,KAAI,CAAChF,EAAMytB,IACjB,oBAEE5T,MAAO,CAAE+U,cAAe,IAF1B,SAIE,eAAC9T,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,qBACExB,MAAO,CAAEC,OAAQ,GAAIO,MAAO,IAC5B2U,IAAKhvB,EAAK9F,KACVuqB,IAAKwK,IAAIC,gBAAgBlvB,KAE3B,0BACE4H,MAAOkiB,EAAmB9pB,EAAK9F,OAAS,GACxC4nB,SAAW7c,IACT8kB,EAAsB,IACjBD,EACH,CAAC9pB,EAAK9F,MAAO+K,EAAEmd,OAAOxa,SAG1B5N,UAAQ,EACRmoB,YAAc,yBAAwBniB,EAAK9F,OAC3CgqB,KAAM,EACNiL,KAAM,GACNtV,MAAO,CACLqI,QAAS,GACTb,OAAQ,iBACR0L,WAAY,UAxBbU,QAgCX,cAACxQ,GAAA,EAAD,CACE5S,MAAM,EACNiU,MACE,eAACxD,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKkD,OAAQ,CAAE0G,MAAO,SAAtB,SACE,cAAC9J,GAAA,EAAD,uBAID+O,GACC,cAAC5M,GAAA,EAAD,CAASoB,MAAM,aAIrBtJ,SAAUK,GAAayU,EACvBtL,SAAO,EACPxE,MAAO,CACLmE,OAAQ,GACRlE,OAAQ,GACRO,MAAO,OAEToB,QAASjI,UAAmB,IAAD,MACzBvO,EAAEmqB,iBACFxF,GAAmB,GAEnB,IAAI8C,EAAe7lB,KAAKC,MAAMD,KAAKgJ,UAAU8a,IAE7C,MAAM0E,GAAiC,QAAZ,EAAA3C,SAAA,mBAAc9xB,aAAd,mBAAqB2R,cAArB,eAA6B7J,SAAU,EAClEgL,GAAOF,MAAM,qBAAsB6hB,GAEnC,IAAK,IAAIpnB,EAAE,EAAGA,EAAIsE,EAAO7J,OAAQuF,IAAK,CACpC,MAAMwD,QAAYmf,EAChBre,EAAOtE,IACP,SACA,GAGQ,IAAD,EAAT,GAAIwD,EACFihB,EAAe,IACV/B,EACH/vB,MAAO,IACF+vB,EAAiB/vB,MACpB2R,OAAQ,KACc,OAAhBoe,QAAgB,IAAhBA,GAAA,UAAAA,EAAkB/vB,aAAlB,eAAyB2R,SAAU,GACvC,CACEd,MACAjS,YAAaswB,EAAmBvd,EAAOtE,GAAG/N,OAAS,OAQ/DsuB,EAAgBf,GAAciF,IAE9B9C,GAAmB,GACnBc,kCAiB5B,cAAC4E,GAAA,EAAD,CAAY9T,IAAK,CAAEsS,WAAY,SAAW7T,WAAW,UAArD,SACE,eAACa,GAAA,EAAD,CACEO,UAAU,MACVE,QAAQ,UACRlB,MAAM,UACN2D,OAAQ,SAJV,UAME,cAACf,GAAA,EAAD,CAAQjC,KAAK,QAAQvhB,KAAK,QAAQ6kB,MAAM,UACxC,eAACxD,GAAA,EAAD,CAAKO,UAAU,SAASC,MAAM,SAA9B,UACE,cAACR,GAAA,EAAD,UACE,cAACmC,GAAA,EAAD,CACExjB,KAAK,SACLuhB,KAAK,QACLsD,MACE,eAACxD,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,CAAKkD,OAAQ,CAAE0G,MAAO,SAAtB,SACG8F,EAAe,SAAW,SAE5BL,GACC,cAACpN,GAAA,EAAD,CAASoB,MAAM,aAIrBtJ,SAAUK,GAAaiV,EACvB9L,SAAO,MAGG,OAAboM,GAAqB/gB,GACpB,cAACoR,GAAA,EAAD,CAAKkD,OAAQ,CAAE0H,IAAK,SAApB,SACE,cAACM,GAAD,CACEC,KAAMwE,EACNnM,MAAOnE,GAAezQ,kBAUpC,cAACkU,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQmM,EAAjC,SACE,cAAClP,GAAA,EAAD,UACGkP,aCt3BF4F,GAAe,IAGxB,cAACpR,GAAD,CACEC,YAAa,CACX,CACEjB,KAAM,IACNc,MAAO,QAET,CACEd,KAAM,cACNc,MAAO,eARb,SAYE,cAACxD,GAAA,EAAD,CACE+G,UAAU,SACVhI,MAAO,CACL+U,cAAe,GACfvN,OAAQ,gBACRhH,MAAO,QALX,SAQE,cAACmV,GAAD,QCvBF1S,GAAerC,mBAAOsC,KAAS;;EAIxB8S,GAER,IAAqC,IAApC,QAAE1c,EAAF,SAAW0B,EAAX,QAAqB4G,GAAc,EAEvC,OACE,cAACmI,GAAD,CACEnI,QAAS,IAAMA,IACf5G,SAAUA,EAFZ,SAIG,IACC,eAACiG,GAAA,EAAD,CAAKS,QAAQ,SAASF,UAAU,MAAMC,MAAM,SAASE,IAAI,QAAzD,UACE,cAACZ,GAAA,EAAD,4BAGCzH,GAAW,cAAC,GAAD,U,eCbf,MAAM2c,GAAQ,IAIF,IAJG,KACpBjS,GAAO,EADa,QAEpBC,EAFoB,SAGpBvH,GACgB,EAEhB,OAAKsH,EAKH,cAAC/C,GAAA,EAAD,UACE,cAAC2T,GAAA,EAAD,CACE5U,MAAO,CACL8H,aAAc,QAEhB+M,MAAO,IAAM5Q,IACb6Q,eAAgB,IAAM7Q,IALxB,SAOE,cAAChD,GAAA,EAAD,CAAKmJ,YAAU,EAAf,SACG1N,QAbA,M,oCCPX,MAAM7I,GAASH,EAAO,kBAEhBoB,GAAUU,ICAV3B,GAASH,EAAO,iBAETwiB,GAAQtV,mBAAOG,KAAM;;;;;;EAQ5BoV,GAAQvV,mBAAOG,KAAM;;;;;;EAQrBqV,GAAaxV,mBAAOG,KAAM;;;;;;;EASnBsV,GAAazV,mBAAOG,KAAM;;;;;;;;;EAmB1BuV,GAAgB,IAMF,IANG,SAC5B7zB,EAD4B,KAE5B0E,EAF4B,GAG5BC,EAH4B,QAI5B7C,EAJ4B,QAK5BgyB,GACwB,EACxB,MAAOC,EAAcC,GD3CrBh0B,KAEA,MAAMimB,EAAUzP,mBAAQ,MAAQxW,GAAU,CAACA,IAkC3C,MAAO,CAhCc4X,uBACnBV,MAAOxS,EAAcC,EAAY7C,KAC/B,IAAO9B,EACL,MAAM,IAAID,MAAM,uCAGlB,MAAM0E,EAASzE,EAASY,YAGxB,GAAI8D,UAFwBD,EAAOwvB,aAGjC,MAAM,IAAIl0B,MAAM,uDAGlB,IAAK4E,EACH,MAAM,IAAI5E,MAAM,sCAGlB,MAAM+C,EAAUoxB,yBACdzvB,EACAC,EACAC,EACA7C,EACAuQ,GAAQpT,QACRoT,GAAQxN,SAIV,OAFAuM,GAAOF,MAAM,UAAWpO,GAEjBA,IAET,CAAC9C,IAGmBimB,ICOgBkO,CAAen0B,IAC9Co0B,EAAQC,GAAazd,qBAWtB0d,EAAc1c,uBAClBV,UACE,IACE,IAAKxS,EACH,MAAM,IAAI3E,MAAM,uCAGlB,IAAK4E,EACH,MAAM,IAAI5E,MAAM,sCAGlB,MAAM+C,QAAgBixB,EACpBrvB,EACAC,EACA7C,GAGFuyB,EAAU9pB,KAAKgJ,UAAUzQ,IACzB,MAAOkW,GACP5H,GAAO3G,MAAMuO,GACb,MAAMjH,EAAWiH,EAAcjH,SAC7B,uBACF+hB,EAAQ/hB,MAGZ,CAACgiB,EAAcD,EAASpvB,EAAMC,EAAI7C,IAGpC,OAAKkyB,EAKH,eAACxV,GAAA,EAAD,WACE,cAAC8I,GAAD,CACEtF,MAAM,kBACN7C,QAASmV,IAGX,cAACd,GAAD,CACEjS,OAAQ6S,GAA4B,kBAAXA,EACzB5S,QAAS,IAAM6S,OAAU/vB,GAF3B,SAIqB,kBAAX8vB,GACN,eAAC1M,GAAA,EAAD,CACElK,OAAO,QACP0B,IAAI,QACJuC,IAAI,OACJoG,QAAS,CAAC,QAAS,SACnBD,KAAM,CAAC,QAAS,QAChBE,MAAO,CACL,CAAElqB,KAAM,QAAS2e,MAAO,CAAC,EAAG,GAAIwL,IAAK,CAAC,EAAG,IACzC,CAAEnqB,KAAM,KAAM2e,MAAO,CAAC,EAAG,GAAIwL,IAAK,CAAC,EAAG,IACtC,CAAEnqB,KAAM,aAAc2e,MAAO,CAAC,EAAG,GAAIwL,IAAK,CAAC,EAAG,KATlD,UAYE,eAACvJ,GAAA,EAAD,CACEwJ,SAAS,QACTjJ,UAAU,SACVC,MAAM,QAHR,UAKE,cAACyU,GAAD,CAAOlW,MAAO,CAACgX,aAAc,SAA7B,mDACA,cAACX,GAAD,oHACA,cAACtM,GAAD,CACEtF,MAAM,cACNN,OAAQ,CAAE0H,IAAK,UACfjK,QAAS,IA3EHqV,KAClB,MAAMC,EAAO/U,SAAiBgV,eAAeF,GAAMG,UAC7C/qB,EAAQ,oCAAmCgrB,mBAAmBH,KAC9DI,EAAenV,SAASC,cAAc,KAC5CkV,EAAaC,aAAa,OAAQlrB,GAClCirB,EAAaC,aAAa,WAAY,sBACtCD,EAAaE,SAqEcC,CAAWZ,EAAOnW,UAAU,EAAG,UAGlD,cAACO,GAAA,EAAD,CACEwJ,SAAS,KADX,SAGE,cAAC,KAAD,CACEtJ,KAAM,IACNhN,GAAI0iB,EAAOnW,UAAU,EAAG,IACxB3S,MAAO8oB,MAGX,eAAC5V,GAAA,EAAD,CACEwJ,SAAS,aACTjD,OAAO,MAFT,UAIE,cAAC4O,GAAD,sCACA,cAACC,GAAD,8EACA,cAACA,GAAD,kCACA,cAACA,GAAD,8CACA,cAACF,GAAD,6BAzDH,MCjGLtiB,GAASH,EAAO,eCehB0iB,GAAaxV,mBAAOG,KAAM;;;;;;;EAUnB2W,GAAS9W,mBAAOG,KAAM;;;;;;;;EAUtB4W,GAAiB/W,mBAAOG,KAAM;;;;;;;;EAyC9B6W,GAAY,IAUF,IAAD,MAVI,MACxB/lB,EADwB,KAExBxR,EAFwB,YAGxBV,EAHwB,WAIxB+O,EAJwB,QAKxBkT,EAAU,SALc,SAMxB/H,EANwB,QAOxBgM,EAPwB,eAQxBsD,EARwB,SASxBzM,GACoB,EAEpB,GADAlJ,QAAQC,IAAI,WAAYoG,IACnBA,IAAasP,IAAmBza,EACnC,OAAO,KAET,MAAMmpB,EAAcC,IAAwB,IAAD,IACzC,2BAAOppB,EAAWb,MAAKkqB,GAAQA,EAAKppB,aAAempB,WAAnD,aAAO,EAAoD/pB,aAA3D,QAAoE,IAEhE+L,EAAQD,EAAS5Y,OAAO4M,MAAKiM,GAASA,EAAMxN,aAAatI,UAAY6zB,EAAW,WAAWG,gBAC3F3yB,EAAW4P,OAAO4iB,EAAW,aAG7BI,EAAQ5yB,EAFO4P,OAAO4iB,EAAW,iBACzB5iB,OAAOjF,QAAMkoB,YAAN,iBAAkBpe,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAOxN,aAAapH,wBAAtC,QAA0D,EAAG,UAElF,OACE,eAAC+b,GAAA,EAAD,WACE,eAACA,GAAA,EAAD,CACEO,UAAU,MACVE,QAAQ,UACRC,IAAI,QACJgF,OAAO,EACPnG,MAAM,QACNR,MAAO,CAAEmY,aAAc,mBACvBvW,QAAS,IAAMA,IAPjB,UASE,cAACX,GAAA,EAAD,UACE,cAACyJ,GAAA,EAAD,CACEzK,OAAO,MACPO,MAAM,MACNmK,IAAI,QACJC,IAAK/Y,MAGT,eAACoP,GAAA,EAAD,CAAKU,IAAI,QAAQ3B,MAAO,CAAEoY,SAAU,SAApC,UACE,cAAC,GAAD,UAAave,EAASxZ,OACtB,eAACg2B,GAAD,WAAaxc,EAASnY,QAAQ0P,cAA9B,KAA+CyI,EAASnY,QAAQwP,WAAhE,IAA6E2I,EAASnY,QAAQsP,SAA9F,KAA0G6I,EAASnY,QAAQ+O,QAA3H,QACA,eAAC4lB,GAAD,kBAAavc,QAAb,IAAaA,OAAb,EAAaA,EAAOzZ,KAApB,IAA2BgF,EAA3B,IAAsCA,EAAW,EAAI,UAAY,SAAjE,UAEF,cAAC4b,GAAA,EAAD,CAAKQ,MAAM,SAASC,QAAQ,SAASC,IAAI,QAAzC,SACE,eAAC0U,GAAD,WAAaxQ,EAAQgS,EAAW,aAAaQ,YAA7C,MAA6DxS,EAAQ5Q,OAAO4iB,EAAW,aAAe5iB,OAAO4iB,EAAW,kBAAkBQ,iBAE5I,cAACpX,GAAA,EAAD,CACE+G,UAAU,SACVhI,MAAO,CAAEsY,YAAa,OACtB3W,IAAK,CAAEsS,WAAY,SAHrB,SAKE,cAAChT,GAAA,EAAD,CAAKU,IAAI,QAAT,SACE,cAACuU,GAAD,CAAO/U,KAAK,SAASoX,OAAO,OAA5B,SACGN,EAAMO,QAAQ,YAKtB9b,MAKM+b,GAAY,IAaF,IAbG,QACxBl0B,EADwB,MAExBb,EAFwB,QAGxBmiB,EAHwB,eAIxBsD,EAJwB,cAKxBuP,EALwB,OAMxB9pB,EACAvC,MAAM,KACJhM,EADI,YAEJV,EAFI,MAGJkS,EAHI,WAIJnD,IAEkB,EACpB,MAAM,SAAEjM,EAAF,SAAYsV,GAAa+D,MACxB9Y,EAAD,CAAamX,GAAiBhB,EAAY1W,EAAUsV,GACpDmP,EAAWC,eACXqH,EAAcnB,MACbsL,EAAeC,GAAoBvf,oBAAkB,IACrDwf,EAAoBC,GAAyBzf,sBAC7CnM,EAAOsM,GAAYH,qBACpB0f,EAAyB9f,mBAAQ,KACrC,MAAMnE,EAAUU,IAChB,OAAOqjB,EAAsB,GAAE/jB,EAAQC,oBAAoB8jB,IAAuB,MACjF,CAACA,IAEEG,EAAW3e,uBACfV,UAGE,GAFAH,OAASzS,GACT+xB,OAAsB/xB,GACjB/D,EAGL,IACE41B,GAAiB,SACX51B,EAASyC,OAAOlB,OAASwC,EAAW+xB,GAC1CF,GAAiB,GAEjBpK,EACG,eAAcjqB,4DACf,QAEF,MAAOkX,GACPjC,EAAUiC,EAAcjH,SAAW,8BACnCokB,GAAiB,MAGrB,CAACpK,EAAaxrB,EAAUuB,IAG1B,OAAK4kB,EAKH,eAAClI,GAAA,EAAD,CACE+G,UAAU,SACVxG,UAAU,SACVG,IAAK,CAAEyC,OAAQ,UACfpE,MAAO,CAAEK,SAAU,YAJrB,UAME,eAACY,GAAA,EAAD,CACEO,UAAU,MACVE,QAAQ,UACRC,IAAI,QACJgF,OAAO,EACPnG,MAAM,QACNR,MAAO,CAAEmY,aAAc,mBANzB,UAQE,eAAClX,GAAA,EAAD,WACE,eAACkJ,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ2I,QAAS,CAAC,QAAS,QACnBF,YAAU,EAJZ,UAME,cAACnJ,GAAA,EAAD,UACE,cAAC0W,GAAD,CAAgBY,OAAO,OAAvB,sBAEF,cAACtX,GAAA,EAAD,UACE,cAACoV,GAAD,iBAAaznB,QAAb,IAAaA,IAAU,iBAG3B,eAACub,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ2I,QAAS,CAAC,QAAS,QACnBF,YAAU,EAJZ,UAME,cAACnJ,GAAA,EAAD,UACE,cAAC0W,GAAD,CAAgBY,OAAO,OAAvB,oBAEF,cAACtX,GAAA,EAAD,UACE,cAACoV,GAAD,UAAah2B,SAGjB,eAAC8pB,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ2I,QAAS,CAAC,QAAS,QACnBF,YAAU,EAJZ,UAME,cAACnJ,GAAA,EAAD,UACE,cAAC0W,GAAD,CAAgBY,OAAO,OAAvB,2BAEF,cAACtX,GAAA,EAAD,UACE,cAACoV,GAAD,UAAa12B,YAKnB,eAACshB,GAAA,EAAD,CAAKU,IAAK,CAAEuS,SAAU,QAASD,WAAY,SAAWvS,QAAQ,UAA9D,UACE,cAAC4U,GAAD,CACE7zB,SAAUA,EACV0E,KAAMzD,EACN0D,GAAIsxB,EACJn0B,QAASA,EACTgyB,QAAS9a,GAAOjC,EAASiC,KAGf,WAAX7M,GACC,eAACqS,GAAA,EAAD,WACE,cAAC8I,GAAD,CACEtF,MACE,eAACxD,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,sCAED4X,GACC,cAAC1X,GAAA,EAAD,CAAKU,IAAK,CAAEmK,KAAM,SAAlB,SACE,cAAC5I,GAAA,EAAD,SAKRlI,SAAU2d,EACV/W,QAASoX,IAERH,EACC,cAAC1M,GAAD,CACAC,KAAM2M,EACNtU,MAAOnE,GAAeuY,KAEtB,QAIR,cAACzV,GAAA,EAAD,CACEpD,MAAO,CACLK,SAAU,WACVwL,IAAK,GACLhB,MAAO,IAGTtD,KAAM,cAAC,KAAD,CAAajD,MAAM,UACzB2U,gBAAc,EACdrX,QAAS,IAAMsF,EAAS,UAAW,CAAEsB,SAAS,YAKpD,cAACzE,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQ9W,EAAjC,SACE,cAAC+T,GAAA,EAAD,UACG/T,MAIL,cAAC6W,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQ7J,EAAjC,SACE,cAAC8G,GAAA,EAAD,UACG9G,SAtHA,MA6HE+e,GAAW,KACtB,MAAM,SAAEz2B,EAAF,SAAYsV,EAAZ,QAAsBd,EAAtB,kBAA+BoB,GAAsByD,MACpDnE,EAAcwhB,GAAmBC,eACjCvT,EAASsD,EAAgBkQ,GAAgB5Q,GAAWhmB,EAAUsV,GAC/DxT,EAAU0U,mBACd,IAAMtB,EAAa5P,IAAI,iBAAchB,GACrC,CAAC4Q,KAEIxJ,EAAQmrB,EAAeC,GDxTL,EACzB92B,EACAsV,EACAd,KAEA,MAAOjU,EAAD,CAAYmX,GAAiBhB,EAAY1W,EAAUsV,IAClD5J,EAAQqrB,GAAangB,mBAAsB,KAC3CC,EAASC,GAAcF,oBAAkB,IACzCnM,EAAOsM,GAAYH,qBAEpBmC,EAAanB,uBACjBV,UACE,GAAK3W,GAAaU,EAGlB,IACE8V,OAASzS,GACTwS,GAAW,GACX1F,GAAOF,MAAM,wBAEb,MAAM8lB,QAAkBz2B,EAASqB,iBAAiBX,GAClDmQ,GAAOF,MAAM,YAAa8lB,GAE1B,MAAMC,QAAsB9yB,QAAQ0E,IAClCmuB,EAAUtuB,KACR5G,GAAWvB,EAASsB,SAASC,MAGjCi1B,EAAUE,GACV7lB,GAAOF,MAAM,gBAAiB+lB,GAE9BngB,GAAW,GACX,MAAOkC,GACP5H,GAAO3G,MAAMuO,GACb,MAAMjH,EAAWiH,EAAcjH,SAAW,4BAC1CgF,EAAShF,GACT+E,GAAW,MAGf,CAACvW,IAkBH,OAfAyW,qBACE,KACED,EAASW,KAEX,CAACA,IAGHV,qBACE,KACE+B,EAAWvE,GACJ,IAAMuiB,EAAU,MAEzB,CAAChe,EAAYvE,IAGR,CAAC9I,EAAQmL,EAASpM,IC+PoBysB,CAC3Cl3B,EACAsV,EACAd,IAEKtR,EAAO+yB,EAAekB,EAAcC,GDjQlB,EACzBp3B,EACAsV,EACAxT,KAEA,MAAOvB,EAAD,CAAYmX,GAAiBhB,EAAY1W,EAAUsV,IAClDpS,EAAOm0B,GAAYzgB,sBACnBqf,EAAeqB,GAAoB1gB,sBACnCC,EAASC,GAAcF,oBAAkB,IACzCnM,EAAOsM,GAAYH,qBAEpB/U,EAAW+V,uBACfV,UACE,GAAK3W,GAAamR,EAqClB,IAAK,IAAD,EACFqF,OAASzS,GACTwS,GAAW,GAEX,MAAM5T,QAAc3C,EAASsB,SAAS6P,GACtC2lB,EAASn0B,GAET,MAAMq0B,EAAmB,UAAGr0B,EAAM0G,KAAKqC,kBAAd,aAAG,EAAuBb,MACjDosB,GAAsC,eAAzBA,EAAUtrB,aAGzB,IAAKqrB,EACH,MAAM,IAAIx3B,MACR,wDAIJ,MAAMqX,QAAiB7W,EAASmB,mBAC9B61B,EAAoBjsB,OAGtB,IAAK8L,EACH,MAAM,IAAIrX,MACP,yCAAwCw3B,EAAoBjsB,SAIjEgsB,EAAiBlgB,EAASvN,aAAa5I,OAEvC6V,GAAW,GACX,MAAOkC,GACP5H,GAAO3G,MAAMuO,GACb,MAAMjH,EAAWiH,EAAcjH,SAAW,4BAC1CgF,EAAShF,GACT+E,GAAW,QAtEXugB,OAAS/yB,KAyEb,CAAC/D,IAkBH,OAfAyW,qBACE,KACED,EAASW,KAEX,CAACA,IAGHV,qBACE,KACEnV,EAASC,GACF,IAAMu1B,OAAS/yB,KAExB,CAACzC,EAAUC,IAGN,CAACoB,EAAO+yB,EAAepf,EAASpM,ICwJkBgtB,CACvDz3B,EACAsV,EACAxT,GAGI8W,EAAYpC,mBAChB,IAAMqgB,GAAiBM,IAAiBzQ,GACxC,CAACmQ,EAAeM,EAAczQ,IAG1BgR,EAAgB9tB,IAAqB,IAAD,IACxC,MAAMT,EAAU,UAAGS,EAAKqC,kBAAR,iBAAG,EAAiBb,MAAMkqB,GAA6B,eAApBA,EAAKppB,oBAAxC,aAAG,EAAmEZ,MAEtF,OADAyF,QAAQC,IAAI,oBAAqB4E,EAAmBA,EAAkBxK,MAAMgM,GAAaA,EAAS1F,MAAT,OAAgBvI,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAYosB,iBAAgBpsB,GAC9HyM,EAAkBxK,MAAMgM,GAAaA,EAAS1F,MAAT,OAAgBvI,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAYosB,kBAuC1E,OACE,cAACrT,GAAD,CACEC,YAAa,CACX,CACEjB,KAAM,IACNc,MAAO,SAJb,SAQE,eAACxD,GAAA,EAAD,WACE,cAAC,GAAD,2BAUA,cAAC8C,GAAD,CAAYnkB,KAAK,OAAOokB,KAAM3I,EAA9B,SACE,eAAC4F,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,wDAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,OAAOokB,MAAO3I,KAAelN,GAA4B,IAAlBA,EAAOtF,QAA/D,SACE,cAACoY,GAAA,EAAD,mEAKF,cAAC8C,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQuV,EAAjC,SACE,cAACtY,GAAA,EAAD,UACGsY,MAIL,cAACxV,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQ6V,EAAjC,SACE,cAAC5Y,GAAA,EAAD,UACG4Y,MAIL,cAAC9V,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQqV,EAAjC,SACE,cAACpY,GAAA,EAAD,UACGoY,MAIL,cAACpY,GAAA,EAAD,CACEO,UAAU,SACVwG,UAAU,SAFZ,gBAIG7Z,QAJH,IAIGA,OAJH,EAIGA,EAAQhD,KAAI,CAAC,EAAmByoB,KAApB,IAAC,QAAErvB,EAAF,KAAW8H,GAAZ,SACX,cAACurB,GAAD,CACE/d,SAAUsgB,EAAa9tB,GAEvBuV,QAAS,IAAMuX,EAAgB,CAAE50B,eAC7B8H,EACJwZ,QAASA,EACTsD,eAAgBA,EANlB,SAQIxjB,GAASA,EAAMpB,UAAYA,EAC3B,cAACk0B,GAAD,CACE5S,QAASA,EACTsD,eAAgBA,EAChBuP,cAAeA,KACX/yB,IAEJ,MAbCiuB,cCnbNwG,GAAcxZ,mBAAOG,KAAM;;;;;;;;EAU3BsZ,GAAkB,KAAO,IAAD,QACnC,MAAM,QACJpjB,EADI,kBAEJoB,EAFI,aAGJC,EAHI,UAIJnB,EAJI,aAKJQ,EALI,SAMJlV,EANI,SAOJsV,EAPI,aAQJH,GACEkE,KAEEyK,EAAQxE,OAAO6B,SAAS0W,SAAS5Z,UAAU,GAC3C5G,EAAQb,mBAAQ,IAAMX,EAAazK,MAAMiM,GAAUA,EAAM3F,KAAOoS,KAAQ,CAACjO,EAAciO,IACvF1M,EAAWZ,mBAAQ,IAAMZ,EAAkBxK,MAAMgM,KACvCA,EAAS5Y,OAAO4M,MAAMiM,GAASA,EAAMxN,aAAatI,UAAYuiB,OAK1E,CAACA,EAAOlO,KAILrV,EAAD,CAAau3B,GAAiBphB,EAAY1W,EAAUsV,IAEnDuB,EAASC,GAAcF,oBAAS,IAChCnM,EAAOsM,GAAYH,sBACnB9U,EAASi2B,GAAcnhB,sBACvBxJ,EAAMwgB,GAAWhX,mBAAS,IAEjCI,qBAAU,KACRD,EAAS+gB,KACR,CAACA,IAEJ,MAAM3J,EAAW3X,mBAAQ,KACvB,MAAMnE,EAAUU,IAChB,OAAO3F,EAAQ,GAAEiF,EAAQC,oBAAoBlF,IAAS,OACrD,CAACA,IA2CEwL,EAAYpC,mBAAQ,MAAQrB,KAAkB5U,GAAU,CAAC4U,EAAc5U,IACvEy3B,EAActjB,IAAc9D,EAAU+E,MAAQ,QAAU,WAExDsiB,EAAczhB,mBAAQ,IACnB,IAAI+N,gBAAgB,CACzB,CAAC,WAAYC,OAAM,OAACtP,QAAD,IAACA,OAAD,EAACA,EAAc1T,WAClC,CAAC,eAAgBgjB,OAAM,OAACtP,QAAD,IAACA,OAAD,EAACA,EAAczT,eACtC,CAAC,eAAgB+iB,OAAM,OAACtP,QAAD,IAACA,OAAD,EAACA,EAAc0O,kBAEvC,CAAC1O,IAEJ,OACE,eAACgN,GAAD,CACEC,YAAa,CACX,CACEH,MAAO,SACPd,KAAO,WAAU+W,MAJvB,UAQE,cAAC3W,GAAD,CAAYnkB,KAAK,OAAOokB,MAAO3I,EAA/B,SACE,eAAC4F,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,mFAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,OAAOokB,OAAQzf,EAAhC,SACE,cAAC0c,GAAA,EAAD,CAAKO,UAAU,MAAf,SACE,eAACP,GAAA,EAAD,iCAEE,cAAC,IAAD,CAAS7Z,GAAK,mBAAkB7C,IAAhC,oCAML8W,IAAcvB,GAAS,cAACmH,GAAA,EAAD,uCACvB5F,KAAevB,IAAUvV,GAAW,eAAC0c,GAAA,EAAD,CACnC0Z,MAAM,EACNlZ,MAAM,SACNrB,WAAW,QACX8J,SAAS,OACTvI,IAAI,QAL+B,UAOnC,cAAC+I,GAAA,EAAD,CACEzK,OAAO,MACPO,MAAM,MACNR,MAAO,CAAE8H,aAAc,OACvB8C,IAAK9Q,EAAM/Y,MAAMyR,OAGnB,eAAC,GAAD,eAAUsH,EAAMzZ,aACF0G,IAAb8S,EAAyB,GAAK,eAACwc,GAAD,WAAaxc,EAASnY,QAAQ0P,cAA9B,KAA+CyI,EAASnY,QAAQwP,WAAhE,IAA6E2I,EAASnY,QAAQsP,SAA9F,KAA0G6I,EAASnY,QAAQ+O,QAA3H,aACjB1J,IAAb8S,EAAyB,GAAK,eAACwc,GAAD,qBAAaxc,EAAShY,eAAtB,aAAa,EAAkBR,MAA/B,cAAuCwY,EAAShY,eAAhD,aAAuC,EAAkBN,QAAzD,cAAmEsY,EAAShY,eAA5E,aAAmE,EAAkBT,MAArF,QAE/B,cAAC6f,GAAA,EAAD,CAAKjB,MAAO,CAAEQ,MAAO,QAASwW,aAAc,QAAUrV,IAAK,CAAEyC,OAAQ,UAArE,SACE,cAACgW,GAAD,UAActgB,EAAMna,gBAGtB,eAACshB,GAAA,EAAD,CAAKjB,MAAO,CAAEQ,MAAO,QAASwW,aAAc,QAA5C,UACE,cAAC/V,GAAA,EAAD,CAAKuG,OAAO,SAAS7F,IAAK,CAAEyC,OAAQ,SAAW5C,UAAU,MAAzD,SACE,cAAC0U,GAAD,CAAO/U,KAAK,UAAZ,yBAEF,cAACgJ,GAAA,EAAD,CACExI,IAAK,CAAEuS,SAAU,UACjB5J,QAAS,CAAC,MAAO,OAFnB,SAIE,eAACrJ,GAAA,EAAD,CAAKO,UAAU,MAAMC,MAAM,SAA3B,UACE,cAAC,KAAD,CAAiBzB,MAAO,CAAEwH,OAAQ,oBAAqBM,aAAc,MAAOO,QAAS,SAAUuS,YAAa,UAAYtW,MAAM,SAC9H,eAAC+R,GAAD,WAAavc,EAAMla,KAAnB,eAKN,cAACqhB,GAAA,EAAD,CAAKjB,MAAO,CAAEQ,MAAO,QAASwW,aAAc,QAAUvV,MAAM,SAASE,IAAK,CAAEyC,OAAQ,UAApF,SACE,cAACsP,GAAA,EAAD,CAAUzT,OAAO,QAAQO,MAAM,SAA/B,mBACG1G,EAAM/Y,MAAM2R,cADf,aACG,EAAoBvH,KAAI,CAAC2O,EAAO1L,IAC/B,cAACsc,GAAA,EAAD,CAEElK,MAAM,SACNmK,IAAI,QACJ3C,UAAU,SACV4C,IAAK9Q,EAAMlI,KAJNxD,SAUb,eAAC6S,GAAA,EAAD,CAAKO,UAAU,MAAMxB,MAAO,CAAEQ,MAAO,SAAWkB,QAAQ,UAAUD,MAAM,SAAxE,UACE,eAACR,GAAA,EAAD,CAAKO,UAAU,MAAMC,MAAM,SAA3B,UACE,cAAC4U,GAAD,gCACA,eAACH,GAAD,CAAO5R,MAAOmW,EAAatZ,KAAK,QAAhC,UACGnR,QAAMkoB,YAAYpe,EAAMxN,aAAapH,iBAAkB,SAD1D,YAKF,eAAC+b,GAAA,EAAD,CAAKQ,MAAM,SAAX,UACE,cAACuU,GAAD,CACEpU,QA9IIjI,UACd,IAEE,GADAJ,GAAW,IACNvW,EACH,MAAM,IAAIR,MAAM,6BAElB,QAAqBuE,IAAjB4Q,EACF,MAAM,IAAInV,MAAM,6BAElB,QAAcuE,IAAV+S,EACF,MAAM,IAAItX,MAAM,sBAElB,IAAKyU,EACH,MAAM,IAAIzU,MAAM,wBAElB,IAAKC,EACH,MAAM,IAAID,MAAM,yBAElB,MAAMyL,QAAgBxL,EAASgN,WAAWwH,GACpCghB,EAAQhjB,OAAOjF,QAAMkoB,YAAYpe,EAAMxN,aAAapH,iBAAkB,UAAY+P,OAAO0C,EAAazT,cAC5G,GAAI+Q,OAAOjF,QAAMkoB,YAAYjqB,EAAS,UAAYgqB,EAChD,MAAM,IAAIz1B,MAAM,kBAElBgX,OAASzS,GAET,MAAM8zB,QAAY73B,EAASoC,KACzB0U,EAAM3F,GACNwD,EAAa1T,SACb0T,EAAazT,aACbyT,EAAa0O,kBACbtf,EACAspB,GAEFmK,EAAWK,GACXthB,GAAW,GACX,MAAOrM,GACPqM,GAAW,GACXC,EAAUtM,EAAgBsH,WA0GlB8E,QAASA,EACT0B,WAAYzW,IAGA,OAAbqsB,EACC,cAACzE,GAAD,CAAcC,KAAMwE,EAAUnM,MAAOnE,GAAezQ,KAClD,WAIR,cAACoR,GAAA,EAAD,CAAKT,MAAM,UAAUmB,IAAK,CAAEkK,IAAK,UAAjC,SACE,cAAC9H,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQ9W,EAAjC,SACE,cAAC+T,GAAA,EAAD,CAAKO,UAAU,MAAf,SACE,cAACP,GAAA,EAAD,UACG/T,iB,eC5NV,MAAM4tB,GAGR,IAAyB,IAAxB,OAAEC,EAAF,QAASxE,GAAc,EAC3B,MAAOvS,EAAMgX,GAAW3hB,oBAAS,GAEjC,OACE,eAAC4H,GAAA,EAAD,WACE,cAACmC,GAAA,EAAD,CAAQqB,MAAM,UAAU7C,QAAS,IAAMoZ,GAAQ,KAC/C,cAAC/E,GAAD,CACEjS,KAAMA,EACNC,QAAS,IAAM+W,GAAQ,GAFzB,SAIE,cAAC/Z,GAAA,EAAD,CACEU,IAAI,SACJH,UAAU,SACVhB,MAAM,SAHR,SAKE,cAAC,KAAD,CACEya,YAAa,CAAEC,WAAY,QAC3BC,SAAU,CAACjN,EAAQhhB,KACbA,GACFqpB,EAAQrpB,EAAMsH,SAEV0Z,IACJ6M,EAAO7M,EAAOkN,WACdJ,GAAQ,eCnBXK,GAAU,KACrB,MAAM,mBACJ5jB,EADI,qBAEJK,EAFI,SAGJrV,EAHI,SAIJsV,EAJI,aAKJH,GACEkE,MAEG9Y,EAAUyrB,GAAmBtV,EAAY1W,EAAUsV,IAEnDlI,EAAMwgB,GAAWhX,mBAAS,IAC3BuX,EAAW3X,mBAAQ,KACvB,MAAMnE,EAAUU,IAChB,OAAO3F,EAAQ,GAAEiF,EAAQC,oBAAoBlF,IAAS,OACrD,CAACA,KAEGyJ,EAASC,GAAcF,oBAAS,IAChCnM,EAAOsM,GAAYH,qBAEpBiiB,EAAgBjhB,uBACpBV,UACE,IAEE,GADAJ,GAAW,IACNvW,EACH,MAAM,IAAIR,MAAM,6BAElBgX,OAASzS,GAET,MAAMw0B,EAA2BvuB,KAAKC,MAAMZ,SACtCrJ,EAASsC,QACbi2B,EAAWh3B,QACXg3B,OACAx0B,EACAspB,OACAtpB,GAEFwS,GAAW,GACX,MAAOrM,GACPqM,GAAW,GACXC,EAAUtM,EAAgBsH,YAG3B,CAACxR,EAAUwW,EAAUD,EAAY8W,IAEtC,OACE,mCACE,eAAC1L,GAAD,CACEC,YAAa,CACX,CACEjB,KAAM,IACNc,MAAO,SAJb,UAQE,cAACV,GAAD,CAAYnkB,KAAK,OAAOokB,KAAMlM,GAAwBL,GAAsBgX,EAA5E,SACE,eAACxN,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,mFAGA,cAACiC,GAAA,EAAD,SAIJ,cAACa,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQ9W,EAAjC,SACE,cAAC+T,GAAA,EAAD,CAAKO,UAAU,MAAf,SACE,cAACP,GAAA,EAAD,UACG/T,UAKH0K,KAAkB5U,GACpB,eAACie,GAAA,EAAD,CACE+G,UAAU,SACVhI,MAAO,CACL+U,cAAe,GACfvU,MAAO,QAJX,UAOE,cAACsa,GAAD,CAAUvE,QAAS/c,EAAUuhB,OAAQO,IACvB,OAAb1K,EACC,cAACzE,GAAD,CAAcC,KAAMwE,EAAUnM,MAAOnE,GAAezQ,KAClD,KAEHyJ,EAAU,cAAC4J,GAAA,EAAD,CAASoB,MAAM,WAAW0D,UAAU,SAAS7G,KAAK,WAAc,cCrFjF8B,GAAerC,mBAAOsC,KAAS;;EAkBxBsY,GAAe,IAcN,IAdO,QAC3Bj3B,EAD2B,QAE3BshB,EAF2B,OAG3BjX,EACAvC,MAAM,KACJhM,EADI,YAEJV,EAFI,MAGJkS,EAHI,WAIJnD,GARyB,SAU3BlJ,EAV2B,QAW3Bye,EAX2B,QAY3B3K,EAZ2B,MAa3BpM,GACmB,EACnB,MAAMjJ,EAAQ,OAAGyK,QAAH,IAAGA,OAAH,EAAGA,EAAYb,MAAKkqB,GAA4B,aAApBA,EAAKppB,aACzCzK,EAAY,OAAGwK,QAAH,IAAGA,OAAH,EAAGA,EAAYb,MAAKkqB,GAA4B,iBAApBA,EAAKppB,aAC7C8sB,EAAe5V,EAAQ5Q,OAAM,OAAC/Q,QAAD,IAACA,OAAD,EAACA,EAAc6J,OAASkH,OAAM,OAAChR,QAAD,IAACA,OAAD,EAACA,EAAU8J,SAErE8B,EAAMwgB,GAAWhX,mBAAS,IAC3BuX,EAAW3X,mBAAQ,KACvB,MAAMnE,EAAUU,IAChB,OAAO3F,EAAQ,GAAEiF,EAAQC,oBAAoBlF,IAAS,OACrD,CAACA,IAEEgoB,EAAa,CAACC,EAAe/pB,KACjC,OAAQ+pB,GACN,IAAK,WACH,OAAOjS,EAAQ5Q,OAAOlH,IAAQsqB,YAChC,IAAK,aAEL,IAAK,UACH,OAAO/X,GAAevS,GACxB,QACE,OAAOA,IAIb,OACE,cAACkT,GAAA,EAAD,CACE+G,UAAU,SACVxG,UAAU,SACVG,IAAK,CAAEyC,OAAQ,UAHjB,SAKE,eAACwN,GAAA,EAAD,CACEpR,MAAM,QADR,UAGE,eAACyR,GAAA,EAAD,WACE,cAACH,GAAA,EAAD,CACEnQ,IAAK,CAAEsS,WAAY,SACnB7T,WAAW,UACXsB,QAAQ,MAHV,SAKE,cAAC0B,GAAA,EAAD,CACEmE,KAAM,cAAC,KAAD,CAAajD,MAAM,UACzB2U,gBAAc,EACdrX,QAAS,IAAMqC,QAGnB,cAACyG,GAAA,EAAD,CACEC,IAAI,QACJC,IAAK/Y,IAEP,eAACsY,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ6F,OAAO,SACP8C,QAAS,CAAC,QAAS,QACnBF,YAAU,EALZ,UAOE,cAACnJ,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,CAAMwX,OAAO,OAAb,sBAEF,cAACtX,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,iBAAOnS,QAAP,IAAOA,IAAU,iBAGrB,eAACub,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ6F,OAAO,SACP8C,QAAS,CAAC,QAAS,QACnBF,YAAU,EALZ,UAOE,cAACnJ,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,CAAMwX,OAAO,OAAb,oBAEF,cAACtX,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,UAAO1gB,SAGX,eAAC8pB,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ6F,OAAO,SACP8C,QAAS,CAAC,QAAS,QACnBF,YAAU,EALZ,UAOE,cAACnJ,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,CAAMwX,OAAO,OAAb,2BAEF,cAACtX,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,UAAOphB,SAvDb,OA2DG+O,QA3DH,IA2DGA,OA3DH,EA2DGA,EAAYvD,KACX,CAAC,EAAuByoB,KAAxB,IAAC,WAAEjlB,EAAF,MAAcZ,GAAf,SACE,eAACoc,GAAA,EAAD,CAEE3Z,KAAK,aACLmR,IAAI,QACJ6F,OAAO,SACP8C,QAAS,CAAC,QAAS,QACnBF,YAAU,EANZ,UAQE,cAACnJ,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,CAAMwX,OAAO,OAAb,SAAqB5pB,MAEvB,cAACsS,GAAA,EAAD,UACE,cAACF,GAAA,EAAD,UAAO8W,EAAWlpB,EAAYZ,SAX3B6lB,SAiBb,eAAC6B,GAAA,EAAD,CAAY9T,IAAI,SAAhB,UACE,cAACyB,GAAA,EAAD,CAAQxB,QAAS,IAAMpc,EAASjB,EAASk3B,EAAcpL,GAAvD,SACG,IACC,eAACpP,GAAA,EAAD,CAAKO,UAAU,MAAMC,MAAM,SAASE,IAAI,QAAxC,UACE,cAACZ,GAAA,EAAD,wBAGCzH,GAAW,cAAC,GAAD,SAIJ,OAAbsX,EACC,cAACzE,GAAD,CAAcC,KAAMwE,EAAUnM,MAAOnE,GAAezQ,KAClD,KACJ,cAACkU,GAAD,CAAYnkB,KAAK,QAAQokB,OAAQ9W,EAAjC,SACE,cAAC+T,GAAA,EAAD,CAAKO,UAAU,MAAf,SACE,cAACP,GAAA,EAAD,UACG/T,iBCtKJwuB,GAAe,IAIF,IAJG,MAC3B7pB,EAD2B,KAE3BxR,EAF2B,QAG3BuhB,EAAU,UACa,EACvB,OACE,cAACX,GAAA,EAAD,CAAKkD,OAAO,SAAZ,SACE,eAACyN,GAAA,EAAD,CACExR,WAAW,UACXyR,UAAU,QACVjQ,QAAS,IAAMA,IAHjB,UAKE,cAACqQ,GAAA,EAAD,CAAUtQ,IAAI,QAAd,SACE,cAAC+I,GAAA,EAAD,CACEC,IAAI,QACJC,IAAK/Y,MAGT,cAAC4jB,GAAA,EAAD,CACE9T,IAAK,CAAEsS,WAAY,SACnB7T,WAAW,UAFb,SAIE,cAACa,GAAA,EAAD,CAAKU,IAAI,QAAT,SACE,cAACZ,GAAA,EAAD,CAAMI,KAAK,SAASoX,OAAO,OAA3B,SACGl4B,cCtBTwT,GAASH,EAAO,eCKhB+Z,GAAoBX,GACpBA,GAAY,MAELA,GAAY,IADd,CAAC,QAAS,SAGRA,GAAY,IACd,CAAC,SACCA,GAAY,IACd,CAAC,SACCA,GAAY,IACd,CAAC,SACCA,GAAY,IACd,CAAC,SAEH,GAGH6O,GAGD,IAA+B,IAA9B,WAAEC,EAAF,SAAcC,GAAe,EACjC,OAAKD,EAGE,eAAC3a,GAAA,EAAD,WACJ2a,EAAWzwB,KAAI,CAAC0O,EAAUzL,IAAO,cAAC6S,GAAA,EAAD,UAChC,cAACmC,GAAA,EAAD,CACExB,QAAS,IAAMia,EAAShiB,GACxB4K,MAAO5K,EAASxZ,KAChB8jB,OAAQ,CAAEC,OAAQ,YAJsBhW,KAQ5C,cAAC,IAAD,CAAShH,GAAG,kBAAZ,iCAXO,MAiBL00B,GAGD,IAA6B,IAA5B,SAAEjiB,EAAF,SAAYgiB,GAAe,EAC/B,OAAKhiB,GAAaA,EAAS5Y,OAIzB,cAACggB,GAAA,EAAD,CAAKO,UAAU,MAAf,SACG3H,EAAS5Y,OAAOkK,KAAI,CAAC2O,EAAmB1L,IACvC,eAAC6S,GAAA,EAAD,CAAaO,UAAU,SAAvB,UACE,cAACP,GAAA,EAAD,UACE,cAACmC,GAAA,EAAD,CACExB,QAAS,IAAMia,EAAS/hB,EAAM3L,QAC9BsW,MAAO3K,EAAMzZ,SAGjB,cAAC4gB,GAAA,EAAD,UACE,cAAC,IAAD,CAAS7Z,GAAK,gBAAeyS,EAASvN,aAAaxI,qBAAqBgW,EAAM9V,UAA9E,oCARMoK,OALP,MAuBE2tB,GAAa,KACxB,MAAM7U,EAAWC,gBAEX,QACJlQ,EADI,qBAEJa,EAFI,cAGJpD,EAHI,qBAIJC,EAJI,SAKJlS,EALI,SAMJsV,GACE+D,MAEE,SAAEgR,GAAaH,MACd9G,EAASsD,GAAmBV,GAAWhmB,EAAUsV,IAEjDvS,EAAUkjB,EAASsT,EAAiBC,GDzElB,EACzBhlB,EACAxU,EACAsV,KAEA,MAAO/U,EAAD,CAAamX,GAAiBhB,EAAY1W,EAAUsV,IACnD7K,EAAOsM,GAAYH,wBAA6BtS,IAChD2hB,EAASC,GAActP,oBAAkB,IACzCC,EAASC,GAAcF,oBAAkB,GAEhDI,qBAAU,KACJU,GACFX,EAASW,KAEV,CAACA,IAEJV,qBAAU,KACFzW,GACJ2lB,GAAW,KAEZ,CAAC3lB,IAEJ,MAAMwC,EAAW6U,uBACfV,MAAOpV,EAAiBk3B,EAAwB32B,KAE9C,GADAyU,GAAW,GACNvW,GAAaiU,GAAY1S,EAA9B,CAGAiV,OAASzS,GAET,IAEE,GADYue,YAAS7Y,MACboa,WAAa4U,EAAa5U,WAChC,MAAM,IAAIrkB,MAAO,gDAA+Ci5B,EAAaS,4BAGzEl5B,EAASwC,SAASjB,OAASwC,EAAWjC,GAC5CyU,GAAW,GACX,MAAOrM,GACP2G,GAAO3G,MAAMA,GACb,MAAMsH,EAAWtH,EAAgBsH,SAAW,gCAC5CgF,EAAShF,GACT+E,GAAW,OAGf,CAACvW,EAAUiU,IAGb,MAAO,CAACzR,EAAUkjB,EAASpP,EAASpM,ICyBwBivB,CAC1DllB,EACAxU,EACAsV,IAGKqkB,EAAkBC,GAAuBhjB,sBAEzClL,EAAQqrB,GAAangB,mBAAsB,KAC3CijB,EAAeC,GAAoBljB,qBAE1C,OACE,eAACsL,GAAD,CACEC,YAAa,CACX,CACEjB,KAAM,IACNc,MAAO,SAJb,UAQE,cAACV,GAAD,CAAYnkB,KAAK,OAAOokB,KAAMlM,KAA0BnD,EAAxD,SACE,eAACsM,GAAA,EAAD,CAAKO,UAAU,MAAf,UACE,cAACP,GAAA,EAAD,mFAGA,cAACiC,GAAA,EAAD,SAIJ,eAACiH,GAAA,EAAD,CACE3Z,KAAK,aACLmR,IAAI,QACJ2I,QAAS,CAAC,SAAU,QACpBF,YAAU,EACVlG,IAAI,SALN,UAQE,cAACyX,GAAD,CAAcC,WAAU,OAAElnB,QAAF,IAAEA,IAAiB,GAAImnB,SAAUQ,IAEzD,eAACpb,GAAA,EAAD,CAAKO,UAAU,SAAf,UACE,cAACsa,GAAD,CAAYD,SAAUrC,EAAW3f,SAAUuiB,IAE1CA,GACC,qCACE,cAACnb,GAAA,EAAD,CAAKO,UAAU,SAAS2C,OAAQ,CAAE0H,IAAK,QAASzH,OAAQ,SAAxD,SACE,cAACnD,GAAA,EAAD,CAAKT,MAAM,QAAX,SACE,cAAC4C,GAAA,EAAD,CACEoB,SAAO,EACPC,MAAM,oBACN7C,QAAS,IAAMsF,EACZ,oBAAmBkV,EAAiB9vB,aAAaxI,2BAM1D,cAAC,IAAD,CAASsD,GAAK,eAAcg1B,EAAiB9vB,aAAaxI,oBAA1D,8CAMJ,eAACmd,GAAA,EAAD,CAAKkD,OAAQ,CAAE0H,IAAK,SAApB,UACGyQ,GAAiBnT,GAAkBT,GAClC,cAAC8S,GAAD,CACE3V,QAASA,EACT6S,cAAezhB,KACXqlB,EACJrY,QAAS,IAAMsY,OAAiBx1B,GAChCvB,SAAUA,EACV0H,MAAO+uB,EACP3iB,QAAS0iB,IAGb,cAAC7R,GAAA,EAAD,CACE3Z,MAAI,EACJwX,UAAU,SACVsC,QAASmD,GAAiBX,GAC1B1C,YAAY,EAJd,gBAMGjc,QANH,IAMGA,OANH,EAMGA,EAAQhD,KAAI,CAACxF,EAAOiuB,IACnB,cAAC8H,GAAD,CAEE9Z,QAAS,IAAM2a,EAAiB52B,MAC5BA,EAAM0G,MAFLunB,oBC3JjB4I,GAAa5b,mBAAO6b,KAAM;;;;EAgBnBC,GAA4B,CACvC,CACE/Y,KAAM,IACNgZ,QAAS,cAACzT,GAAD,IACTrpB,MAAO,QACP4kB,MAAO,QAET,CACEd,KAAM,WACNgZ,QAAS,cAACvT,GAAD,IACTvpB,MAAO,sBAET,CACE8jB,KAAM,UACNgZ,QAAS,cAAClR,GAAD,IACT5rB,MAAO,+BAeT,CACE8jB,KAAM,aACNgZ,QAAS,cAACtC,GAAD,IACTx6B,MAAO,8BACP+8B,WAAW,GAEb,CACEjZ,KAAM,UACNgZ,QAAS,cAACzD,GAAD,IACTr5B,MAAO,iBACP4kB,MAAO,YACPmY,WAAW,GAEb,CACEjZ,KAAM,YACNgZ,QAAS,cAACtB,GAAD,IACTx7B,MAAO,WACP4kB,MAAO,WACPmY,WAAW,GAEb,CACEjZ,KAAM,cACNgZ,QAAS,cAACZ,GAAD,IACTl8B,MAAO,wBACP4kB,MAAO,qBACPmY,WAAW,GAEb,CACEjZ,KAAM,kBACNgZ,QAAS,cAACjH,GAAD,IACT71B,MAAO,2BACP+8B,WAAW,GAEb,CACEjZ,KAAM,uBACNgZ,QAAS,cAACjH,GAAD,IACT71B,MAAO,wBACP+8B,WAAW,GAEb,CACEjZ,KAAM,0BACNgZ,QAAS,cAAC5G,GAAD,IACTl2B,MAAO,gBACP+8B,WAAW,GAEb,CACEjZ,KAAM,+BACNgZ,QAAS,cAAC5G,GAAD,IACTl2B,MAAO,aACP+8B,WAAW,IAcFC,GAAY,IAAMC,aAC7B7jB,mBACE,IAAyByjB,GAXpBvxB,KACJ4xB,GAAuBA,EAAMH,UAC1B,IACGG,EACHJ,QAAS,cAAClZ,GAAD,CAAWC,UAAWqZ,EAAMJ,WAErCI,KAKyC,KAIpCC,GAAa,KACxB,MAAM,aAAEhmB,GAAiB8E,KACnBoL,EAAWC,eACX8V,EAAkBhkB,mBACtB,IAAMyjB,GACHxmB,QACC,CAAClK,EAAGmK,IAAO,IACNnK,KAEDmK,EAAEsO,MACE,CACA,IACKtO,EACHyL,QAAS,IAAMsF,EAAS/Q,EAAEwN,QAG5B,KAGR,KAEJ,CAACuD,IAGH,OACE,cAACsV,GAAD,CACEU,eAAgB,CAAE5Y,MAAO,QAASjC,QAAS,IAC3C8a,UAAW,CACTtR,IAAK,SACLhB,MAAO,SAET7P,SAAUhE,EACVuQ,KAAO,cAAC,KAAD,CAAUjD,MAAM,UACvB5jB,MAAOu8B,KCjKAG,GAAmBtQ,GAC1BA,GAAY,MAELA,GAAY,KAEZA,GAAY,KAEZA,GAAY,KAEZA,GAAY,KAEZA,GAAY,IATd,YASF,EAKIuQ,GAAY,KACvB,MAAMlc,EAAOnF,qBAAWoF,OAClB,SAAE0L,GAAaH,MACf,MAAEloB,EAAF,SAAS61B,GAAazW,eAEtBqD,EAAWC,gBACX,QAAElQ,GAAY6E,KAEdwhB,EAAiBrkB,mBACrB,WAAOxU,QAAP,IAAOA,OAAP,EAAOA,EAAemf,UACtB,CAACnf,IAGH,OACE,eAACizB,GAAA,EAAD,CACE/V,IAAI,SACJ3B,MAAO,CACLK,SAAU,WACVD,WAAY,UACZI,MAAO,SAET4J,YAAY,EAPd,UASIkT,GAAkBrmB,GAClB,cAAC,KAAD,CAAU7P,GAAIk2B,EAAgB74B,MAAO,OAEvC,cAACwc,GAAA,EAAD,CAAKO,UAAU,MAAM0C,IAAK/C,EAA1B,SACE,cAAC6b,GAAD,MAGY,MAAb1C,GAAiC,YAAbA,GAA0BxN,EAAW,IACxD,cAACpC,GAAA,EAAD,CACE1K,MAAO,CACLK,SAAU,WACVyL,KAAMsR,GAAgBtQ,IAExBlC,IAAI,iBACJ3K,OAAO,OACP2B,QAAS,IAAMsF,EAAS,OAExB,cAACwD,GAAA,EAAD,CACA1K,MAAO,CACLK,SAAU,WACVyL,KAAM,QAERlB,IAAI,YACJ3K,OAAO,OACP2B,QAAS,IAAMsF,EAAS,OAG5B,cAACwD,GAAA,EAAD,CACEC,IAAI,QACJC,IAAI,cACJtG,MAAM,UACNtE,MAAO,CACLQ,MAAO,QAEPH,SAAU,WACVyL,KAAM,IACN1H,OAAQ,UACR2H,OAAQ,UAIZ,eAAC9K,GAAA,EAAD,CAAKO,UAAU,MAAMC,MAAM,SAASyC,IAAK/C,EAAzC,UACE,cAACD,GAAD,CAASjK,QAASA,IAClB,cAACgK,GAAA,EAAD,UACGhK,EACG,cAACsM,GAAD,IACA,cAACF,GAAD,aCxECka,OAjBH,IAGR,cAAC9gB,GAAD,UACE,cAACoD,GAAD,UACE,eAAC2d,EAAA,EAAD,CACEhtB,MAAI,EACJ4Z,YAAU,EAFZ,UAIE,cAACiT,GAAD,IACA,cAACR,GAAD,W,QCRRY,iBACE,cAAC,aAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,QAGJtb,SAASgV,eAAe,SAS5BvkB,K,mqBpGtBA,mBAUElT,YATF,kBAUEA,eATF,mBAWEA,UAVF,kBASEA,iB,2IqGTF,gBACA,UAEaA,oBAAqBg+B,IAChC,MAAMC,EAAmBt7B,SAAOu7B,wBAC9BC,cACA,GACAH,GAGF,GAAyB,OAArBC,EACF,MAAM,IAAIn7B,MACR,qBAAqBm7B,MAKdj+B,8BAA+Bo+B,IAC1C,MAAMH,EAAmBt7B,SAAOu7B,wBAC9BC,wBACA,yCACAC,GAGF,GAAyB,OAArBH,EACF,MAAM,IAAIn7B,MACR,qBAAqBm7B,O,4cC5B3B,eACA,SACA,UACA,UAMaj+B,eAAe,CAAW0C,EAA6BwP,IAA4BrK,oCAC9F,IAAIw2B,EAQA1xB,EAEJ,OARIhK,SAAO27B,KAAKz7B,KAAKqP,GACnBmsB,EAAe,OACN17B,SAAO47B,QAAQ17B,KAAKqP,KAC7BmsB,EAAe,QAKTA,GACN,IAAK,OACH1xB,QAAa,eACX,KAAM,qBAAgBjK,EAAhB,CAA6BwP,EAAI4W,QAAQ,UAAW,MAC1D,GAEF,MAEF,IAAK,OACH,MAAM0V,QAAiB77B,OAAKgE,QAC1BuL,EACA,OAEF,IACEvF,EAAOW,KAAKC,MAAMixB,GAClB,MAAOhxB,GACP,MAAM,IAAI1K,MAAM,iCAAiCoP,KAEnD,MAEF,QACE,MAAM,IAAIpP,MAAM,wBAGpB,OAAO6J,KAGI3M,gBAAgB,SAC3By+B,GAEsB,IADtBlxB,EACsB,wDACtB,MAAMmxB,GAAc,IAAIC,aAAcC,OACpC57B,QAAM67B,OAAOD,OACXH,EAAQ3V,QAAQ,yBAA0B,MAG9C,OAAOvb,EAAQD,KAAKC,MAAMmxB,GAAeA,I,yKC1D9B1+B,oBAAoB,CAC/B,OACA,QACA,oBACA,mBAGWA,8BAA8B,CACzC,QACA,SACA,QACA,MACA,cACA,oBACA,SACA,SACA,SACA,SACA,YACA,WACA,aAGWA,8BAA8B,CACzC,QACA,SACA,SACA,SACA,U,6nBC5BF,mBAMEA,gBANK8+B,UACP,gBAOE32B,yCAAAC,cAAAC,eAAA,OAPqB02B,mBAEvBz8B,c,+gECFA,cACA,UACA,UAEatC,mBAAmB,SAAO8c,GAAiB,qEACtD,sBAAOA,WAEI9c,WAAW,SAACmW,EAAc6oB,GACrC,IAAMC,EAAO,IAAIC,OACf,CAAC5xB,KAAKgJ,UAAUH,EAAK,KAAM,IAC3B,CAAEjW,KAAO,qBAEX,OAAO,IAAIi/B,OAAK,CAACF,GAAOD,IAGbh/B,gBAAgB,SAAOo/B,GAAwC,kD,4EACpEzyB,EAAqB,G,yCACD0yB,O,4EAATC,EAAK,QACpB3yB,EAAKiC,KAAK0wB,G,6RAKZ,IAHMn2B,EAASwD,EAAK6J,QAAO,SAAC4X,EAAKmR,GAAS,SAAMA,EAAKp2B,SAAQ,GACvDq2B,EAAmB,IAAIC,WAAWt2B,GACpCu2B,EAAS,EACb,IAAkBC,IAAAC,eAAPC,EAAG,KACZL,EAAiB3Z,IAAIga,EAAKH,GAC1BA,GAAUG,EAAI12B,OAGhB,UADgB,IAAI+1B,eACLN,OAAOY,c","file":"static/js/main.60fd91d4.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useCallback } from 'react';\nimport { CheckBox } from 'grommet';\nimport { useAppState, useAppDispatch } from '../store';\n\nexport enum ThemeMode {\n  light = 'light',\n  dark = 'dark'\n}\n\nexport const SwitchThemeMode: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { themeMode } = useAppState();\n\n  const switchMode = useCallback(\n    () => {\n      dispatch(\n        {\n          type: 'SET_THEME_MODE',\n          payload: themeMode === ThemeMode.dark\n            ? ThemeMode.light\n            : ThemeMode.dark\n        }\n      );\n    },\n    [dispatch, themeMode]\n  );\n\n  return (\n    <CheckBox\n      toggle\n      checked={themeMode === ThemeMode.dark}\n      pad='small'\n      onChange={switchMode}\n    />\n  )\n};\n","export interface LoggerApi {\n  error: (...message: unknown[]) => void,\n  debug: (...message: unknown[]) => void,\n  info: (...message: unknown[]) => void\n};\n\n// Possible log level types\nconst logLevels: { [k: string]: number } = {\n  'none': 0,\n  'error': 1,\n  'debug': 2,\n  'info': 3\n};\n\n// Getting log level from the ENV\nconst logLevel = logLevels[process.env.REACT_APP_LOG_LEVEL || 'none'] || 0;\n\n// Default logging function\nconst logFunction = (subject: string, args: unknown[]) =>\n  console.log(...[`${subject}:`, ...args]);\n\n// Creates logger\nconst Logger = (subject: string): LoggerApi =>\n  ({\n    error: (...args) => {\n      if (logLevel >= 1) {\n        logFunction(subject, args);\n      }\n    },\n    debug: (...args) => {\n      if (logLevel >= 2) {\n        logFunction(subject, args);\n      }\n    },\n    info: (...args) => {\n      if (logLevel >= 3) {\n        logFunction(subject, args);\n      }\n    }\n  });\n\nexport default Logger;\n","import type { Action, State, GenericStateRecord } from './actions';\n\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('recordsReducer');\n\nexport const recordsReducer = (state: State, action: Action): State => {\n  let records: GenericStateRecord[];\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (typeof action.payload.record !== 'object') {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (!action.payload.record.id) {\n          throw new Error(`State record name must have Id property defined`);\n        }\n        // Add or update a record\n        records = state[action.payload.name] as GenericStateRecord[];\n        const knownRecord = records.filter(\n          (r: GenericStateRecord) => r.id === action.payload.record.id\n        )[0] || {};\n        const restRecords = records.filter(\n          (r: GenericStateRecord) => r.id !== action.payload.record.id\n        );\n        return {\n          ...state,\n          [action.payload.name]: [\n            ...restRecords,\n            ...[\n              {\n                ...knownRecord,\n                ...action.payload.record\n              }\n            ]\n          ]\n        };\n      case 'REMOVE_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        if (!action.payload.id) {\n          throw new Error(`State record Id must be provided with a payload`);\n        }\n        // Remove record\n        records = state[action.payload.name] as GenericStateRecord[];\n        return {\n          ...state,\n          [action.payload.name]: records.filter(\n            (r: GenericStateRecord) => r.id !== action.payload.id\n          )\n        };\n      case 'RESET_RECORD':\n        if (!action.payload.name) {\n          throw new Error(`State record name must be provided with a payload`);\n        }\n        return {\n          ...state,\n          [action.payload.name]: []\n        };\n      default:\n        return state;\n    }\n  } catch(error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};","import type { Action, State } from './actions';\n\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('ownFacilitiesReducer');\n\nexport const ownFacilitiesReducer = (state: State, action: Action): State => {\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_OWN_FACILITIES':\n        return {\n          ...state,\n          ownFacilities: action.payload,\n          ownFacilitiesLoading: false,\n          ownFacilitiesBootstrapped: true\n        };\n      case 'SET_OWN_FACILITIES_LOADING':\n        return {\n          ...state,\n          ownFacilitiesLoading: action.payload\n        };\n      case 'SET_OWN_FACILITIES_REFRESH':\n        return {\n          ...state,\n          ownFacilitiesRefresh: action.payload\n        };\n      case 'RESET_OWN_FACILITIES':\n        return {\n          ...state,\n          ownFacilities: [],\n          ownFacilitiesLoading: false,\n          ownFacilitiesBootstrapped: false,\n          ownFacilitiesRefresh: () => {}\n        };\n      default:\n        return state;\n    }\n  } catch(error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};\n","export interface NetworkInfo {\n  name: string;\n  chainId: number;\n  address: string;\n  blockExplorer: string;\n}\n\nexport interface NetworkWithRpc extends NetworkInfo {\n  rpc: string;\n};\n\nexport interface ApiKeys {\n  [name: string]: string;\n}\n\nexport interface DappConfig {\n  mode: string;\n  network: NetworkWithRpc;\n  apiKeys: ApiKeys;\n}\n\nexport interface NetworkProviders {\n  [chainId: number]: string;\n}\n\nif (\n  !process.env.REACT_APP_NETWORK_PROVIDER ||\n  process.env.REACT_APP_NETWORK_PROVIDER === ''\n) {\n  throw new Error('REACT_APP_NETWORK_PROVIDER must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_NETWORK_ID ||\n  process.env.REACT_APP_NETWORK_ID === ''\n) {\n  throw new Error('REACT_APP_NETWORK_ID must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_CONTRACT_ADDRESS ||\n  process.env.REACT_APP_CONTRACT_ADDRESS === ''\n) {\n  throw new Error('REACT_APP_CONTRACT_ADDRESS must be provided in the ENV');\n}\n\nif (\n  !process.env.REACT_APP_FILE_WEB3STORAGE_KEY ||\n  process.env.REACT_APP_FILE_WEB3STORAGE_KEY === ''\n) {\n  throw new Error('REACT_APP_FILE_WEB3STORAGE_KEY must be provided in the ENV');\n}\n\nconst allowedNetworks: NetworkInfo[] = [\n  {\n    name: 'Hardhat Testnet',\n    chainId: 31337,\n    address: '0x5FbDB2315678afecb367f032d93F642f64180aa3',\n    blockExplorer: \"\",\n  },\n  {\n    name: 'Ropsten Testnet',\n    chainId: 3,\n    address: '',\n    blockExplorer: 'https://ropsten.etherscan.io',\n  },\n  {\n    name: 'Rinkeby Testnet',\n    chainId: 4,\n    address: \"\",\n    blockExplorer: 'https://rinkeby.etherscan.io',\n  },\n  {\n    name: 'Arbitrum Rinkeby',\n    chainId: 421611,\n    address: '',\n    blockExplorer: 'https://rinkeby-explorer.arbitrum.io',\n  },\n  {\n    name: 'Sokol Testnet (xDAI)',\n    chainId: 77,\n    address: '',\n    blockExplorer: 'https://blockscout.com/poa/sokol',\n  },\n];\n\nconst network = allowedNetworks.find(\n  n => n.chainId === Number(process.env.REACT_APP_NETWORK_ID)\n) as NetworkWithRpc;\n\nif (network === undefined) {\n  throw new Error(\n    `Network with Id: ${process.env.REACT_APP_NETWORK_ID} is not allowed`\n  );\n}\n\nnetwork.address = process.env.REACT_APP_CONTRACT_ADDRESS;\nnetwork.rpc = process.env.REACT_APP_NETWORK_PROVIDER;\n\nconst config: DappConfig = {\n  mode: process.env.REACT_APP_MODE || 'development',\n  network,\n  apiKeys: {\n    web3Storage: process.env.REACT_APP_FILE_WEB3STORAGE_KEY\n  }\n};\n\nexport const getDappMode = (): string => config.mode;\n\nexport const getNetwork = (): NetworkWithRpc => config.network;\n\nexport const getApiKey = (name: string): string => {\n  if (!config.apiKeys[name]) {\n    throw new Error(`${name} API key not found`);\n  }\n  return config.apiKeys[name];\n};\n\nexport default config;\n","import type { Action, State } from './actions';\nimport { getDappMode } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('localStorage connector');\n\n// Constants\nexport const UNKNOWN_LOCAL_STORAGE_ERROR = 'Unknown localStorage error';\nexport const storagePropertyName = 'dappStore';\n\nexport interface LocalStorageConnectorConfig {\n  properties: string[];\n}\n\nexport const storageConnectorConfig: LocalStorageConnectorConfig = {\n  properties: [\n    'themeMode',\n    'bootstrapped',\n    'bootstrappedContract',\n    'lodgingFacilities',\n    'searchSpaces',\n    'searchTimestamp',\n    'searchParams',\n  ]\n};\n\nexport type StoredStateProps = typeof storageConnectorConfig.properties[number];\n\nexport type StoredState = Pick<State, StoredStateProps>;\n\nexport type TransformCallback = <T extends unknown>(serializedState: string) => T;\n\n// Stringifies objects with circular dependencies\n// @todo Move this helper to the SDK\nexport const safeObjectStringify = (obj: {}, indent?: number): string => {\n  let cache = new Set();\n\n  return JSON.stringify(\n    obj,\n    (_, value: unknown) => {\n\n      if (value instanceof Error) {\n        return Object\n          .getOwnPropertyNames(value)\n          .reduce<Record<string, unknown>>(\n            (a, v) => ({\n              ...a,\n              [v]: (value as any)[v]\n            }),\n            {}\n          );\n      }\n\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n\n      return value;\n    },\n    indent ? indent : undefined\n  );\n};\n\n// Transformation function template\nexport const defaultTransform = (serializedState: string) => serializedState;\n\n// Extracts selected properties into a new object\nexport const selectedState = (state: State): StoredState =>\n  storageConnectorConfig\n    .properties\n    .reduce<StoredState>(\n      (a, v) => ({\n        ...a,\n        [v]: state[v]\n      }),\n      {}\n    );\n\n// Return stored sate\nexport const getState = (transform?: TransformCallback): StoredState => {\n  const storage = getDappMode() === 'development'\n    ? sessionStorage\n    : localStorage;\n  try {\n    let serializedState = storage.getItem(storagePropertyName);\n\n    if (serializedState === null) {\n      // storage not initialized yet\n      const emptyStorage = safeObjectStringify({});\n      storage.setItem(storagePropertyName, emptyStorage);\n      serializedState = emptyStorage;\n    }\n\n    serializedState = transform\n      ? transform<string>(serializedState)\n      : serializedState;\n\n    return JSON.parse(serializedState);\n  } catch (error) {\n    logger.error(error);\n    throw new Error(\n      `Unable to get stored state due to error: ${(error as Error).message || UNKNOWN_LOCAL_STORAGE_ERROR}`\n    );\n  }\n};\n\n// Saves state to localStorage\nexport const setState = (\n  state: StoredState,\n  transform?: TransformCallback\n): void => {\n  const storage = getDappMode() === 'development'\n    ? sessionStorage\n    : localStorage;\n  try {\n    const serializedState = safeObjectStringify(state);\n    storage.setItem(\n      storagePropertyName,\n      transform ? transform<string>(serializedState) : serializedState\n    );\n  } catch (error) {\n    logger.error(error);\n    throw new Error(\n      `Unable to store state due to error: ${(error as Error).message || UNKNOWN_LOCAL_STORAGE_ERROR}`\n    );\n  }\n};\n\n// Returns combined reducer\nexport const storageReducer = (transform?: TransformCallback) =>\n  (state: State, _: Action): State => {\n    const stateToStore = selectedState(state);\n    setState(stateToStore, transform);\n    return state;\n  };\n","import type { Reducer } from 'react';\nimport type { Action, State } from './actions';\nimport { useReducer } from 'react';\nimport { ThemeMode } from '../components/SwitchThemeMode';\nimport { recordsReducer } from './recordsReducer';\nimport { ownFacilitiesReducer } from './ownFacilitiesReducer';\nimport { getState, storageReducer } from './localStorage';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('Reducer');\n\nexport const mainReducer = (state: State, action: Action): State => {\n  logger.debug('Dispatch', action);\n  const type = action.type;\n\n  try {\n    switch (type) {\n      case 'SET_CONNECTING':\n        return {\n          ...state,\n          isConnecting: action.payload\n        };\n      case 'SET_ACCOUNT':\n        return {\n          ...state,\n          account: action.payload\n        };\n      case 'SET_IS_RIGHT_NETWORK':\n        return {\n          ...state,\n          isRightNetwork: action.payload\n        };\n      case 'SET_THEME_MODE':\n        return {\n          ...state,\n          themeMode: action.payload\n        };\n      case 'SET_NETWORK_ID':\n        return {\n          ...state,\n          networkId: action.payload\n        };\n      case 'SET_PROVIDER':\n        return {\n          ...state,\n          provider: action.payload\n        };\n      case 'SET_INJECTED_PROVIDER':\n        return {\n          ...state,\n          injectedProvider: action.payload\n        };\n      case 'SET_RPC_PROVIDER':\n        return {\n          ...state,\n          rpcProvider: action.payload\n        };\n      case 'SET_WEB3MODAL_FUNCTIONS':\n        return {\n          ...state,\n          signIn: action.payload.signIn,\n          signOut: action.payload.signOut\n        };\n      case 'SET_BOOTSTRAP_LOADING':\n        return {\n          ...state,\n          isBootstrapLoading: action.payload\n        };\n      case 'SET_AVAILABILITY_TIMESTAMP':\n        return {\n          ...state,\n          searchTimestamp: action.payload\n        };\n      case 'SET_SEARCH_PARAMS':\n        return {\n          ...state,\n          searchParams: action.payload\n        };\n      case 'SET_BOOTSTRAPPED':\n        return {\n          ...state,\n          bootstrapped: action.payload\n        };\n      case 'SET_BOOTSTRAPPED_CONTRACT':\n        return {\n          ...state,\n          bootstrappedContract: action.payload\n        };\n      case 'SET_IPFS_NODE_CONNECTING':\n        return {\n          ...state,\n          isIpfsNodeConnecting: action.payload\n        };\n      case 'SET_IPFS_NODE':\n        return {\n          ...state,\n          ipfsNode: action.payload.ipfsNode,\n          startIpfsNode: action.payload.startIpfsNode,\n          stopIpfsNode: action.payload.stopIpfsNode\n        };\n      case 'ERROR_ADD':\n        return {\n          ...state,\n          errors: [\n            ...state.errors,\n            action.payload\n          ]\n        };\n      case 'ERROR_REMOVE':\n        return {\n          ...state,\n          errors: state.errors.filter((e, i) => i !== action.payload)\n        };\n      case 'ERROR_REMOVE_ALL':\n        return {\n          ...state,\n          errors: []\n        };\n      default:\n        return state;\n    }\n  } catch (error) {\n    logger.error((error as Error).message || 'Unknown state reducer error');\n    return state;\n  }\n};\n\nconst initialState: State = {\n  isConnecting: false,\n  isRightNetwork: true,\n  isIpfsNodeConnecting: false,\n  signIn: () => { },\n  signOut: () => { },\n  errors: [],\n  themeMode: ThemeMode.light,\n  startIpfsNode: () => { },\n  stopIpfsNode: () => { },\n  isBootstrapLoading: false,\n  lodgingFacilities: [],\n  searchSpaces: [],\n};\n\nexport const combineReducers = (\n  reducers: Reducer<State, Action>[]\n): Reducer<State, Action> =>\n  (state: State, action: Action): State => {\n    let updatedState = state;\n\n    for (const reducer of reducers) {\n      updatedState = reducer(updatedState, action);\n    }\n\n    return updatedState;\n  };\n\nexport const useAppReducer = () => {\n  const storedState = getState(); // Restoration of the Dapp state\n\n  return useReducer(\n    combineReducers(\n      [\n        mainReducer,\n        recordsReducer,\n        ownFacilitiesReducer,\n        storageReducer() // Always must be the last\n      ]\n    ),\n    {\n      ...initialState,\n      ...storedState\n    }\n  );\n};\n","import type { IProviderInfo, IProviderControllerOptions } from 'web3modal';\nimport { useMemo, useCallback, useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport Web3modal from 'web3modal';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useWeb3Modal');\n\nexport type Web3ModalConfig = Partial<IProviderControllerOptions>;\n\nexport type Web3ModalProvider = ethers.providers.Web3Provider;\n\nexport type  Web3ModalHook = [\n  provider: Web3ModalProvider | undefined,\n  injectedProvider: IProviderInfo | undefined,\n  isConnecting: boolean,\n  signIn: Function,\n  signOut: Function,\n  error: string | null\n];\n\n// Web3Modal React Hook\nexport const useWeb3Modal = (web3ModalConfig: Web3ModalConfig): Web3ModalHook => {\n  const [provider, setProvider] = useState<Web3ModalProvider | undefined>();\n  const [injectedProvider, setInjectedProvider] = useState<IProviderInfo | undefined>();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Web3Modal initialization\n  const web3Modal = useMemo(\n    () => new Web3modal(web3ModalConfig),\n    [web3ModalConfig]\n  );\n\n  const signOut = useCallback(() => {\n    web3Modal.clearCachedProvider();\n    setProvider(undefined);\n    // SignOut issue when using walletconnect: https://github.com/Web3Modal/web3modal/issues/354\n    logger.info(`Logged Out`);\n    // window.location.reload();\n  }, [web3Modal]);\n\n  const signIn = useCallback(async () => {\n    try {\n      setError(null);\n      setIsConnecting(true);\n\n      setInjectedProvider(\n        (web3Modal as any).providerController.cachedProvider === 'injected'\n          ? (web3Modal as any).providerController.injectedProvider\n          : undefined\n      );\n\n      const updateProvider = async () => {\n        const web3ModalProvider = await web3Modal.connect();\n\n        // Subscribe to provider events compatible with EIP-1193 standard\n        // Subscribe to accounts change\n        web3ModalProvider.on('chainChanged', (chainId: number) => {\n          logger.info(`Chain changed: ${chainId}`);\n          updateProvider();\n        });\n\n        // Subscribe to chainId change\n        web3ModalProvider.on('accountsChanged', () => {\n          logger.info(`Accounts changed`);\n          updateProvider();\n        });\n\n        // Subscribe to provider disconnection\n        web3ModalProvider.on('disconnect', (code: number, reason: string) => {\n          logger.info(`Disconnected with code: ${code} and reason: ${reason}`);\n          signOut();\n        });\n\n        setProvider(\n          new ethers.providers.Web3Provider(web3ModalProvider)\n        );\n      };\n\n      updateProvider();\n\n      logger.info(`Logged In`);\n    } catch (error) {\n      setIsConnecting(false);\n\n      if (error) {\n        logger.error(error);\n        setError((error as Error).message);\n      } else {\n        logger.error('Unknown error');\n      }\n    }\n  }, [web3Modal, signOut]);\n\n  useEffect(() => {\n    if (!provider && web3Modal.cachedProvider) {\n      signIn();\n    } else if (provider) {\n      setTimeout(() => setIsConnecting(false), 250);\n    }\n  }, [provider, web3Modal.cachedProvider, signIn]);\n\n  return [\n    provider,\n    injectedProvider,\n    isConnecting,\n    signIn,\n    signOut,\n    error\n  ];\n};\n","import { useState, useMemo } from 'react';\nimport { providers } from 'ethers';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useRpcProvider');\n\nconst { rpc } = getNetwork();\n\nexport type UseRpcProviderHook = [\n  rpcProvider: providers.JsonRpcProvider,\n  error: string | undefined\n];\n\nexport const useRpcProvider = (): UseRpcProviderHook => {\n  const [error, setError] = useState<string | undefined>();\n\n  const rpcProvider = useMemo(() => new providers.JsonRpcProvider(rpc), []);\n  rpcProvider.on('error', error => {\n    logger.error(error);\n    const message = (error as Error).message || 'Unknown JsonRpcProvider error';\n    setError(message);\n  })\n\n  return [rpcProvider, error];\n};","import type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useNetworkId');\n\nexport type NetworkIdHook = [\n  networkId: number | undefined,\n  isNetworkIdLoading: boolean,\n  isRightNetwork: boolean,\n  error: string | undefined\n];\n\n// useNetworkId react hook\nexport const useNetworkId = (\n  provider: Web3ModalProvider | undefined,\n  allowedNetwork: number\n): NetworkIdHook => {\n  const [networkId, setNetworkId] = useState<number | undefined>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRightNetwork, setIsRightNetwork] = useState(true);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    setError(undefined);\n\n    if (!provider) {\n      return setNetworkId(undefined);\n    }\n\n    const getNetworkId = async () => {\n      try {\n        setIsLoading(true);\n        const network = await provider.getNetwork();\n        setIsLoading(false);\n        logger.debug('getNetwork:', network);\n\n        if (network) {\n\n          if (allowedNetwork === network.chainId) {\n            setNetworkId(network.chainId);\n            setIsRightNetwork(true);\n          } else {\n            throw new Error(\n              `Invalid network ${network.chainId} though expected ${allowedNetwork}`\n            );\n          }\n        } else {\n          setNetworkId(undefined);\n          setIsRightNetwork(false);\n        }\n      } catch (error) {\n        setIsLoading(false);\n        setNetworkId(undefined);\n        setIsRightNetwork(false);\n\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getNetworkId();\n  }, [provider, allowedNetwork]);\n\n  return [\n    networkId,\n    isLoading,\n    isRightNetwork,\n    error\n  ];\n};\n","import type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useAccount');\n\nexport type UseAccountHook = [\n  account: string | undefined,\n  isLoading: boolean,\n  error: string | undefined\n];\n\n// useAccount react hook\nexport const useAccount = (\n  provider: Web3ModalProvider | undefined\n): UseAccountHook => {\n  const [account, setAccount] = useState<string | undefined>();\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    if (!provider) {\n      return setAccount(undefined);\n    }\n\n    const getAccount = async () => {\n      try {\n        setLoading(true);\n        setError(undefined);\n        const accounts = await provider.listAccounts();\n        logger.info(`listAccounts:`, accounts);\n        setAccount(accounts[0]);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getAccount();\n  }, [provider]);\n\n  return [account, isLoading, error];\n};\n","import type { IPFS } from '@windingtree/ipfs-apis';\nimport { useMemo } from 'react';\nimport { Web3StorageApi } from '@windingtree/ipfs-apis';\nimport { getApiKey } from '../config';\n\nexport const useWeb3StorageApi = (\n  ipfsNode: IPFS | undefined\n): Web3StorageApi | undefined => useMemo(\n  () => !!ipfsNode\n    ? new Web3StorageApi(getApiKey('web3Storage'), ipfsNode)\n    : undefined,\n  [ipfsNode]\n);\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Web3ModalProvider } from './useWeb3Modal';\nimport { useState, useEffect } from 'react';\nimport { KnownProvider } from 'stays-core';\nimport { Contract } from 'stays-core';\nimport { getNetwork } from '../config';\nimport { useWeb3StorageApi } from './useWeb3StorageApi';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useContract');\n\nexport type UseContractHook = [\n  contract: Contract | undefined,\n  loading: boolean,\n  error: string | undefined\n];\n\nconst { address } = getNetwork();\n\nexport const useContract = (\n  provider: providers.JsonRpcProvider | Web3ModalProvider | undefined,\n  ipfsNode: IPFS | undefined,\n): UseContractHook => {\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [contract, setContract] = useState<Contract | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    setLoading(true);\n    if (!provider || !web3Storage) {\n      return;\n    }\n\n    try {\n      setContract(\n        new Contract(\n          address,\n          provider as KnownProvider,\n          web3Storage\n        )\n      );\n      setLoading(false);\n    } catch (error) {\n      logger.error(error);\n      const message = (error as Error).message || 'Unknown contract library error';\n      setError(message);\n      setLoading(false);\n    }\n  }, [provider, web3Storage]);\n\n  return [contract, loading, error];\n};\n","import { useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('usePoller');\n\nexport type PollerContextFunction = () => void | Promise<void>;\n\n// usePoller react hook\nexport const usePoller = (\n  fn: PollerContextFunction,\n  enabled = true,\n  interval = 5000,\n  pollerName?: string\n) => {\n  if (typeof fn !== 'function') {\n    throw new TypeError('Can\\'t poll without a callback function');\n  }\n\n  return useEffect(\n    () => {\n      let disabled = false;\n      let failures = 0;\n\n      const poll = async () => {\n        if (disabled) {\n          return;\n        }\n\n        try {\n          await fn();\n        } catch (error) {\n          failures++;\n          logger.error(error);\n        }\n\n        if (failures < 100) {\n          setTimeout(poll, interval);\n        } else {\n          logger.debug(`Too much errors in poller ${pollerName}. Disabled`);\n        }\n      }\n\n      poll();\n      logger.debug(`Poller ${pollerName} started`);\n\n      return () => {\n        disabled = true;\n        failures = 0;\n        logger.debug(`Poller ${pollerName} stopped`);\n      };\n    },\n    [fn, enabled, interval, pollerName]\n  );\n};\n","import type { providers } from 'ethers';\nimport type { LodgingFacility, Space } from 'stays-data-models';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Contract } from 'stays-core';\nimport { useState, useEffect, useCallback } from 'react';\nimport { Dispatch } from '../store';\nimport { useContract } from './useContract';\nimport { usePoller } from './usePoller';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSmartContractData');\n\nexport type UseSmartContractDataHook = [\n  error: string | undefined\n];\n\nconst loadSpace = async (contract: Contract, spaceId: string): Promise<Space | null> => {\n  const space = await contract.getSpace(spaceId);\n  logger.debug('Loaded space:', spaceId, space);\n  if (space === null) {\n    logger.error(`Space with Id: ${spaceId} not found`);\n    return null;\n  }\n  return space;\n}\n\nconst loadLodgingFacilities = async (\n  contract: Contract,\n  fromBlock?: number\n): Promise<LodgingFacility[]> => {\n  const facilityIds = !!fromBlock\n    ? await contract.getNewAndUpdatedFacilityIds(fromBlock)\n    : await contract.getLodgingFacilityIds(true);\n  logger.debug('Facilities Ids:', facilityIds);\n\n  const facilities = await Promise.all(\n    facilityIds.map(\n      async facilityId => {\n        const facility = await contract.getLodgingFacility(facilityId);\n        logger.debug('Loaded facility:', facilityId, facility);\n\n        if (facility === null) {\n          logger.error(`Lodging facility with Id: ${facilityId} not found`);\n          return null;\n        }\n\n        const spaceIds = await contract.getSpaceIds(facilityId, true);\n        logger.debug('Spaces Ids:', facilityId, spaceIds);\n\n        let spaces = await Promise.all(\n          spaceIds.map(\n            spaceId => loadSpace(contract, spaceId)\n          )\n        );\n        spaces = spaces.filter(s => s !== null)\n\n        return {\n          ...facility,\n          spaces: spaces as Space[]\n        };\n      }\n    )\n  );\n\n  return facilities.filter(f => f !== null) as LodgingFacility[];\n};\n\n// useSmartContractData react hook\nexport const useSmartContractData = (\n  dispatch: Dispatch,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  bootstrapped: number | undefined\n): UseSmartContractDataHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (contractError) {\n      setError(contractError);\n    }\n  }, [contractError]);\n\n  const loadAndDispatchFacilities = useCallback(\n    async (contract: Contract, fromBlock?: number) => {\n      const lodgingFacilities = await loadLodgingFacilities(contract, fromBlock);\n      logger.debug(`Facilities from block ${fromBlock ? fromBlock : 0}`, lodgingFacilities);\n\n      if (fromBlock !== undefined && lodgingFacilities.length === 0) {\n        return;\n      }\n\n      const blockNumber = await contract.provider.getBlockNumber();\n\n      // Add all obtained records to state\n      for (const record of lodgingFacilities) {\n        dispatch({\n          type: 'SET_RECORD',\n          payload: {\n            name: 'lodgingFacilities',\n            record: {\n              ...record,\n              id: record.contractData.lodgingFacilityId\n            }\n          }\n        });\n      }\n\n      // Set bootstrap procedure succeeded\n      dispatch({\n        type: 'SET_BOOTSTRAPPED',\n        payload: blockNumber\n      });\n      dispatch({\n        type: 'SET_BOOTSTRAPPED_CONTRACT',\n        payload: getNetwork().address\n      });\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (!!bootstrapped || !contract) {\n      return;\n    }\n\n    setError(undefined);\n\n    // Remove all lodgingFacilities\n    dispatch({\n      type: 'RESET_RECORD',\n      payload: {\n        name: 'lodgingFacilities'\n      }\n    });\n\n    dispatch({\n      type: 'SET_BOOTSTRAP_LOADING',\n      payload: true\n    });\n\n    loadAndDispatchFacilities(contract)\n      .catch(error => {\n        logger.error(error);\n        const message = (error as Error).message ||\n          'Unknown lodging facility loader error'\n        setError(message);\n\n        // Set bootstrap procedure failed\n        dispatch({\n          type: 'SET_BOOTSTRAPPED',\n          payload: 0\n        });\n      })\n      .finally(() => {\n        dispatch({\n          type: 'SET_BOOTSTRAP_LOADING',\n          payload: false\n        });\n      });\n  }, [dispatch, loadAndDispatchFacilities, bootstrapped, contract]);\n\n  const getFacilitiesUpdates = useCallback(\n    async () => {\n      if (!bootstrapped || !contract) {\n        return;\n      }\n\n      setError(undefined);\n\n      try {\n        await loadAndDispatchFacilities(contract, bootstrapped);\n      } catch(error) {\n        logger.error(error);\n        const message = (error as Error).message ||\n          'Unknown lodging facility updates loader error'\n        setError(message);\n      }\n    },\n    [loadAndDispatchFacilities, bootstrapped, contract]\n  );\n\n  // Check every <interval_time> for facilities and spaces updates\n  usePoller(\n    getFacilitiesUpdates,\n    !!contract,\n    300000, // 5min @todo Move interval configuration to the Dapp config\n    'getFacilitiesUpdates'\n  );\n\n  return [error];\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport type { Contract, StayTokenState } from 'stays-core';\nimport type { OwnerSpace, OwnerLodgingFacility } from '../store/actions';\nimport type { Dispatch } from '../store';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useOwnFacilities');\n\nexport type UseOwnFacilitiesHook = [\n  error: string | undefined,\n  refresh: () => Promise<void>\n];\n\n// Helper for tokens data loading\nconst loadTokens = async (\n  contract: Contract,\n  spaceId: string,\n  state: StayTokenState\n): Promise<OwnerSpace | null> => {\n  try {\n    const tokenIds = await contract.getTokensBySpaceId(spaceId, state);\n    const space = await contract.getSpace(spaceId);\n    const tokens = await Promise.all(\n      tokenIds.map((t) => contract.getToken(t))\n    )\n\n    logger.debug('Loaded space:', spaceId, tokenIds);\n\n    if (space === null) {\n      logger.error(`Space with Id: ${spaceId} not found`);\n      return null;\n    }\n\n    return {\n      ...space,\n      spaceId,\n      tokens\n    };\n  } catch(_) {\n    return null;\n  }\n}\n\nexport const useOwnFacilities = (\n  dispatch: Dispatch,\n  account: string | undefined,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  ownFacilitiesBootstrapped: boolean | undefined\n): UseOwnFacilitiesHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  // Loading state helper\n  const setLoading = useCallback(\n    (isLoading: boolean) => {\n      dispatch({\n        type: 'SET_OWN_FACILITIES_LOADING',\n        payload: isLoading\n      });\n    },\n    [dispatch]\n  );\n\n  // Load facilities with spaces and tokens\n  const loadFacilities = useCallback(\n    async (account: string | undefined) => {\n      if (!contract || !account) {\n        return;\n      }\n\n      try {\n        setLoading(true);\n        const facilityIds = await contract.getLodgingFacilityIdsByOwner(account);\n        logger.debug('Facilities Ids:', facilityIds);\n\n        let ownFacilities = await Promise.all(\n          facilityIds.map(\n            async (facilityId): Promise<OwnerLodgingFacility | null> => {\n              const facility = await contract.getLodgingFacility(facilityId);\n              logger.debug('Loaded facility:', facilityId, facility);\n\n              if (facility === null) {\n                logger.error(\n                  `Lodging facility with Id: ${facilityId} not found`\n                );\n                return null;\n              }\n\n              const spaceIds = await contract.getSpaceIds(facilityId, true);\n              logger.debug('Spaces Ids:', facilityId, spaceIds);\n\n              let spaces = await Promise.all(\n                spaceIds.map(\n                  async spaceId => loadTokens(contract, spaceId, 1)\n                )\n              );\n              spaces = spaces.filter(t => t !== null);\n\n              return {\n                ...facility,\n                spaces: spaces as OwnerSpace[]\n              };\n            }\n          )\n        );\n        ownFacilities = ownFacilities.filter(f => f !== null);\n\n        // Set own facilities state\n        dispatch({\n          type: 'SET_OWN_FACILITIES',\n          payload: ownFacilities as OwnerLodgingFacility[]\n        });\n        setLoading(false);\n      } catch (err) {\n        logger.debug('loadFacilities', err);\n        setError(\n          (err as Error).message || 'Unknown own facilities loader error'\n        );\n        setLoading(false);\n      }\n    },\n    [dispatch, setLoading, contract]\n  );\n\n  const refresh = useCallback(\n    () => loadFacilities(account),\n    [loadFacilities, account]\n  );\n\n  useEffect(\n    () => {\n      if (contractError !== undefined) {\n        logger.debug('contractError', contractError);\n        dispatch({\n          type: 'ERROR_ADD',\n          payload: contractError\n        });\n      }\n    },\n    [dispatch, contractError]\n  );\n\n  useEffect(\n    () => {\n      if (!account) {\n        // reset own facilities state\n        dispatch({\n          type: 'RESET_OWN_FACILITIES'\n        });\n        return;\n      }\n\n      if (ownFacilitiesBootstrapped) {\n        // Already bootstrapped, just ignore the action\n        return;\n      }\n\n      // Fetching of own facilities\n      loadFacilities(account);\n    },\n    [dispatch, loadFacilities, account, ownFacilitiesBootstrapped]\n  );\n\n  return [error, refresh];\n};\n","import type { ReactNode } from 'react';\nimport type { Web3ModalConfig } from '../hooks/useWeb3Modal';\nimport { createContext, useContext, useEffect } from 'react';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\n// import Logger from '../utils/logger';\nimport { useAppReducer } from './reducer';\n\n// Custom hooks\nimport { useWeb3Modal } from '../hooks/useWeb3Modal';\nimport { useRpcProvider } from '../hooks/useRpcProvider';\nimport { useNetworkId } from '../hooks/useNetworkId';\nimport { useAccount } from '../hooks/useAccount';\nimport { useIpfsNode } from '../hooks/useIpfsNode';\nimport { useSmartContractData } from '../hooks/useSmartContractData';\nimport { useOwnFacilities } from '../hooks/useOwnFacilities';\n\n// Config\nimport { getNetwork } from '../config';\n\n// Initialize logger\n// const logger = Logger('Store');\n\nexport type AppReducerType = ReturnType<typeof useAppReducer>;\nexport type State = AppReducerType[0];\nexport type Dispatch = AppReducerType[1];\n\nexport const StateContext = createContext<State | null>(null);\nexport const DispatchContext = createContext<Dispatch | null>(null);\n\nexport interface PropsType {\n  children: ReactNode;\n}\n\nexport const useAppState = () => {\n  const ctx = useContext(StateContext);\n\n  if (!ctx) {\n    throw new Error('Missing state context');\n  }\n\n  return ctx;\n};\n\nexport const useAppDispatch = () => {\n  const ctx = useContext(DispatchContext);\n\n  if (!ctx) {\n    throw new Error('Missing dispatch context');\n  }\n\n  return ctx;\n}\n\nconst { chainId, rpc } = getNetwork();\n\n// Web3Modal initialization\nconst web3ModalConfig: Web3ModalConfig = {\n  cacheProvider: true,\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        [chainId]: rpc\n      }\n    }\n  }\n};\n\nexport const AppStateProvider = ({ children }: PropsType) => {\n  const [state, dispatch] = useAppReducer();\n  const [rpcProvider, rpcProviderError] = useRpcProvider();\n  const [\n    provider,\n    injectedProvider,\n    isConnecting,\n    signIn,\n    signOut,\n    web3ModalError\n  ] = useWeb3Modal(web3ModalConfig);\n  const [\n    networkId,\n    isNetworkIdLoading,\n    isRightNetwork,\n    networkError\n  ] = useNetworkId(provider, chainId);\n  const [account, isAccountLoading, accountError] = useAccount(provider);\n  const [ipfsNode, startIpfsNode, stopIpfsNode, ipfsNodeLoading, ipfsNodeError] = useIpfsNode();\n  const { bootstrapped, ownFacilitiesBootstrapped } = state;\n\n  // Global data bootstrap\n  const [bootstrapError] = useSmartContractData(\n    dispatch,\n    rpcProvider,\n    ipfsNode,\n    bootstrapped\n  );\n\n  // Own facilities bootstrap\n  const [ownFacilitiesError, ownFacilitiesRefresh] = useOwnFacilities(\n    dispatch,\n    account,\n    provider,\n    ipfsNode,\n    ownFacilitiesBootstrapped\n  );\n\n  useEffect(\n    () => {\n      dispatch({\n        type: 'SET_OWN_FACILITIES_REFRESH',\n        payload: ownFacilitiesRefresh\n      });\n    },\n    [dispatch, ownFacilitiesRefresh]\n  );\n\n  useEffect(() => {\n    if (web3ModalError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: web3ModalError\n      })\n    }\n    if (networkError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: networkError\n      })\n    }\n    if (accountError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: accountError\n      })\n    }\n    if (ipfsNodeError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: ipfsNodeError\n      })\n    }\n    if (bootstrapError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: bootstrapError\n      })\n    }\n    if (rpcProviderError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: rpcProviderError\n      })\n    }\n    if (ownFacilitiesError) {\n      dispatch({\n        type: 'ERROR_ADD',\n        payload: ownFacilitiesError\n      })\n    }\n  }, [\n    dispatch, web3ModalError, networkError,\n    accountError, ipfsNodeError, bootstrapError,\n    rpcProviderError, ownFacilitiesError\n  ]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_CONNECTING',\n      payload: isConnecting || isNetworkIdLoading || isAccountLoading\n    })\n  }, [dispatch, isConnecting, isNetworkIdLoading, isAccountLoading]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IPFS_NODE_CONNECTING',\n      payload: ipfsNodeLoading\n    })\n  }, [dispatch, ipfsNodeLoading]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_ACCOUNT',\n      payload: account\n    })\n  }, [dispatch, account]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IS_RIGHT_NETWORK',\n      payload: isRightNetwork\n    })\n  }, [dispatch, isRightNetwork]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_NETWORK_ID',\n      payload: networkId\n    })\n  }, [dispatch, networkId]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_PROVIDER',\n      payload: provider\n    })\n  }, [dispatch, provider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_INJECTED_PROVIDER',\n      payload: injectedProvider\n    })\n  }, [dispatch, injectedProvider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_RPC_PROVIDER',\n      payload: rpcProvider\n    })\n  }, [dispatch, rpcProvider]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_WEB3MODAL_FUNCTIONS',\n      payload: {\n        signIn,\n        signOut\n      }\n    })\n  }, [dispatch, signIn, signOut]);\n\n  useEffect(() => {\n    dispatch({\n      type: 'SET_IPFS_NODE',\n      payload: {\n        ipfsNode,\n        startIpfsNode,\n        stopIpfsNode\n      }\n    })\n  }, [dispatch, ipfsNode, startIpfsNode, stopIpfsNode]);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n","import type { IPFS, Options as IpfsOptions } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { utils } from '@windingtree/ipfs-apis';\n\nexport type UseIpfsNode = [\n  node: IPFS | undefined,\n  start: Function,\n  stop: Function,\n  loading: boolean,\n  error: string | undefined,\n];\n\n// useIpfsNode react hook\nexport const useIpfsNode = (): UseIpfsNode => {\n  const [node, setNode] = useState<IPFS | undefined>(undefined);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>(undefined);\n\n  const start = useCallback(async (options?: IpfsOptions): Promise<IPFS | undefined> => {\n    try {\n      setLoading(true);\n      const ipfsNode = await utils.startIpfsGateway(options);\n      setNode(ipfsNode);\n      setLoading(false);\n      return ipfsNode;\n    } catch (e) {\n      setError((e as Error).message || 'Unknown useIpfsNode error');\n      setLoading(false);\n    }\n  }, []);\n\n  const doStop = async (ipfsNodePromise: Promise<IPFS | undefined>): Promise<void> => {\n    const ipfsNode = await (ipfsNodePromise || Promise.resolve());\n\n    if (ipfsNode !== undefined) {\n      await ipfsNode.stop();\n    }\n  };\n\n  const stop = useCallback(async (): Promise<void> => {\n    if (node !== undefined) {\n      try {\n        setLoading(true);\n        await doStop(Promise.resolve(node));\n        setNode(undefined);\n        setLoading(false);\n      } catch (e) {\n        setError((e as Error).message || 'Unknown useIpfsNode error');\n        setLoading(false);\n      }\n    }\n  }, [node]);\n\n  useEffect(() => {\n    const ipfsNodePromise = start({\n      repoAutoMigrate: true\n    });\n    return () => {\n      doStop(ipfsNodePromise);\n    };\n  }, [start]);\n\n  return [node, start, stop, loading, error];\n};\n","import { Grommet } from 'grommet';\nimport { grommet } from 'grommet/themes';\nimport { generate } from 'grommet/themes/base';\nimport { deepMerge } from 'grommet/utils';\nimport { useAppState } from './store';\n\nconst baseTheme = deepMerge(grommet, generate(16));\n\nexport const GlobalStyle: React.FC = ({ children }) => {\n  const { themeMode } = useAppState();\n\n  return (\n    <Grommet\n      full\n      style={{ height: 'auto', minHeight: '100vh' }}\n      theme={baseTheme}\n      themeMode={themeMode}\n      background={{ position: 'relative' }}\n    >\n      {children}\n    </Grommet>\n  );\n};\n","// Makes shorter text with ellipsis in the center\nexport const centerEllipsis = (text: string, width = 4, prefix = 2): string =>\n  text\n    ? text.length > ((width * 2) + prefix)\n      ? `${text.substring(0, width + prefix)}...${text.substring(text.length - width - prefix)}`\n      : text\n    : '';\n\n// Copies text to clipboard\nexport const copyToClipboard = (text: string): Promise<void> => {\n  if (navigator.clipboard && window.isSecureContext) {\n    return navigator\n      .clipboard\n      .writeText(text)\n      .then(resolve => resolve);\n  } else {\n    let textArea = document.createElement(\"textarea\");\n    textArea.value = text;\n    textArea.style.opacity = \"0\";\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    return new Promise((resolve, reject) => {\n      document.execCommand('copy') ? resolve() : reject();\n      textArea.remove();\n    });\n  }\n}\n","import { useContext } from 'react';\nimport { useState, useMemo } from 'react';\nimport Blockies from 'react-blockies';\nimport styled from 'styled-components';\nimport { Box, Text, Notification, ResponsiveContext } from 'grommet';\nimport { centerEllipsis, copyToClipboard } from '../utils/strings';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('Account');\n\nexport interface AccountProps {\n  account?: string;\n}\n\nconst AccountIcon = styled(Blockies)`\n  border-radius: 50%;\n`;\n\nconst AccountHash = styled(Text)`\n  margin: 0 8px;\n  cursor: pointer;\n`;\n\nconst AccountWrap = styled(Box)`\n  background: rgba(13, 14, 15, 0.2);\n  backdrop-filter: blur(36px);\n  height: 2.5rem;\n  min-width:2.5rem;\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 2rem;\n`;\n\n\nexport const Account = ({ account }: AccountProps) => {\n  const size = useContext(ResponsiveContext);\n  const [notification, setNotification] = useState<boolean>(false);\n  const shortAccount = useMemo(() => centerEllipsis(account || ''), [account]);\n\n  if (!account) {\n    return null;\n  }\n\n  return (\n    <AccountWrap\n      direction='row'\n      align='center'\n      justify='center'\n      pad='xsmall'\n      onClick={() => {\n        copyToClipboard(account);\n        logger.debug('Copied to clipboard', account);\n        setNotification(true);\n        setTimeout(() => setNotification(false), 1000);\n      }}\n    >\n      <AccountIcon\n        seed={account}\n        size={7}\n        scale={4}\n      />\n      {size !== 'small' &&\n        <AccountHash>\n          {shortAccount}\n        </AccountHash>\n      }\n      {notification &&\n        <Notification\n          toast\n          title='Copied to clipboard'\n          status='normal'\n        />\n      }\n    </AccountWrap>\n  );\n};\n","import { useContext } from 'react';\nimport { Button, Box, Spinner, Text, ResponsiveContext } from 'grommet';\nimport { Login, Logout } from 'grommet-icons';\nimport styled from 'styled-components';\nimport { useAppState } from '../../store';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\nconst WhiteButton = styled(Button)`\n  height: 2.5rem;\n  background: white;\n  border:none;\n  border-radius: 2rem;\n`;\n\nexport const SignInButton = () => {\n  const size = useContext(ResponsiveContext);\n  const { isConnecting, signIn } = useAppState();\n\n  return (\n    <WhiteButton\n      onClick={() => signIn()}\n      disabled={isConnecting}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          {size !== 'small' &&\n            <Text>\n              {isConnecting ? 'Connecting' : 'Connect'}\n            </Text>\n          }\n          {size === 'small' &&\n            <Login />\n          }\n          {isConnecting && <InnerSpinner />}\n        </Box>\n      )}\n    </WhiteButton>\n  )\n};\n\nexport const SignOutButton = () => {\n  const size = useContext(ResponsiveContext);\n  const { isConnecting, signOut } = useAppState();\n\n  return (\n    <WhiteButton\n      onClick={() => signOut()}\n      disabled={isConnecting}\n    >\n      {() => (\n        <Box direction='row' align='center' pad='small'>\n          {size !== 'small' &&\n            <Text>\n              {isConnecting ? 'Connecting' : 'Disconnect'}\n            </Text>\n          }\n          {size === 'small' &&\n            <Logout />\n          }\n          {isConnecting && <InnerSpinner />}\n        </Box>\n      )}\n    </WhiteButton>\n  )\n};\n","import type { ReactNode } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAppState } from '../store';\n\nexport interface ProtectedProps {\n  component: ReactNode;\n  path?: string;\n}\n\nexport const Protected = ({\n    component,\n    path = '/'\n  }: ProtectedProps) => {\n  const location = useLocation();\n  const { account } = useAppState();\n\n  return (\n    <>\n      {\n        account !== undefined\n          ? component\n          : <Navigate to={path} state={{ location }} />\n      }\n    </>\n  );\n}\n","import type { ReactNode } from 'react';\nimport { useContext } from 'react';\nimport { Box, Button, ResponsiveContext } from 'grommet';\nimport { StatusInfo, Alert } from 'grommet-icons';\n\nexport const allowedMessageBoxTypes = [\n  'info',\n  'warn',\n  'error'\n];\n\nexport type MessageBoxTypes = typeof allowedMessageBoxTypes[number];\n\nexport interface MessageBoxProps {\n  type: MessageBoxTypes;\n  show: boolean;\n  children?: ReactNode;\n  onClose?: () => void\n}\n\nexport const MessageBox = ({\n  type = 'info',\n  show = false,\n  children,\n  onClose\n}: MessageBoxProps) => {\n  const size = useContext(ResponsiveContext);\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Box\n      direction='row'\n      background='light-2'\n      align='center'\n      gap={size}\n      pad={size}\n      margin={{ bottom: 'small' }}\n    >\n      <Box>\n        {type === 'info' &&\n          <StatusInfo color='status-ok' size={size} />\n        }\n        {type === 'warn' &&\n          <Alert color='status-warning' size={size} />\n        }\n        {type === 'error' &&\n          <Alert color='status-error' size={size} />\n        }\n      </Box>\n      <Box direction='column' gap={size}>\n        <Box>\n          {children}\n        </Box>\n        {typeof onClose === 'function' &&\n          <Box>\n            <Button primary onClick={onClose} label='close' />\n          </Box>\n        }\n      </Box>\n    </Box>\n  );\n};\n","import type { ReactNode } from 'react';\nimport type { Breadcrumb } from '../components/Breadcrumbs';\n// import { useContext } from 'react';\nimport { Box } from 'grommet';\nimport { useAppState } from '../store';\n// import { Breadcrumbs } from '../components/Breadcrumbs';\nimport { MessageBox } from '../components/MessageBox';\nimport { getNetwork } from '../config';\n\nconst { name: allowedNetworkName } = getNetwork();\n\nexport interface PageWrapperProps {\n  children: ReactNode;\n  breadcrumbs?: Breadcrumb[];\n}\n\nexport const PageWrapper = ({ children, breadcrumbs }: PageWrapperProps) => {\n  // const size = useContext(ResponsiveContext);\n  const { isRightNetwork } = useAppState();\n\n  return (\n    <Box fill>\n      {/* <Breadcrumbs\n        breadcrumbs={breadcrumbs}\n        size={size}\n      /> */}\n      <Box align='center'>\n        <Box width='100%'>\n          <MessageBox type='warn' show={!isRightNetwork}>\n            You are connected to a wrong network. Please switch to: {allowedNetworkName}\n          </MessageBox>\n          {children}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n","import { DateTime } from 'luxon';\nimport { Box, TextInput, Button, Text, DateInput } from 'grommet';\nimport { useNavigate } from 'react-router-dom';\nimport { useState, useMemo, useEffect } from 'react'\nimport styled from 'styled-components';\n\nexport const Label = styled.div`\n  @include g-font($g-fontsize-xs,$glider-color-text-labels,$g-fontweight-normal);\n  margin-left: 4px;\n`;\n\nexport const BlurredSearch = styled(Box)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n`;\n\nexport const parseDateToDays = (dayZero: DateTime, firstDate: DateTime, secondDate: DateTime) => {\n  const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n  const startDay = Math.round(firstDate.diff(dayZero).toMillis() / oneDay)\n  const numberOfDays = Math.round(secondDate.diff(firstDate).toMillis() / oneDay)\n  return {\n    startDay,\n    numberOfDays\n  }\n};\n\nconst dateFormat = new Intl.DateTimeFormat(undefined, {\n  month: 'short',\n  day: 'numeric',\n});\n\nconst today = DateTime.now().set({ hour: 12 });\nconst tomorrow = today.plus({ days: 1 });\n\n\nexport const SearchForm: React.FC<{\n  getDate: (days: number) => DateTime,\n  startDay?: number | undefined,\n  numberOfDays?: number | undefined,\n  initGuestsAmount?: number | undefined,\n}> = ({ getDate, startDay, numberOfDays, initGuestsAmount }) => {\n\n  const [departureDate, setDepartureDate] = useState<string>(today.toISO());\n  const [returnDate, setReturnDate] = useState<string>(tomorrow.toISO());\n\n  useEffect(() => {\n    if (!!startDay && !!numberOfDays) {\n      const departureDay = getDate(startDay)\n      const returnDay = getDate(startDay + numberOfDays)\n\n      setDepartureDate(departureDay.toISO())\n      setReturnDate(returnDay.toISO())\n    }\n\n  }, [getDate, startDay, numberOfDays])\n\n  const [guestsAmount, setGuestsAmount] = useState(initGuestsAmount ?? 1);\n\n  const query = useMemo(() => {\n    const { startDay, numberOfDays } = parseDateToDays(getDate(0), DateTime.fromISO(departureDate), DateTime.fromISO(returnDate))\n    return new URLSearchParams([\n      ['startDay', String(startDay)],\n      ['numberOfDays', String(numberOfDays)],\n      ['guestsAmount', String(guestsAmount)],\n    ])\n  }, [departureDate, returnDate, guestsAmount, getDate])\n\n  const navigate = useNavigate()\n\n\n  const handleDateChange = ({ value }: { value: string[] }) => {\n    const now = DateTime.now().set({ hour: 12 })\n    const tomorrow = now.plus({ days: 1 })\n\n    if (now.toMillis() > DateTime.fromISO(value[0]).toMillis()) {\n      setDepartureDate(now.toISO())\n    } else {\n      setDepartureDate(value[0])\n    }\n\n    if (tomorrow.toMillis() > DateTime.fromISO(value[1]).toMillis()) {\n      setReturnDate(tomorrow.toISO())\n    } else {\n      setReturnDate(value[1])\n    }\n  }\n\n  return (\n    <BlurredSearch>\n      <Box pad='small'\n        height='100%'\n        direction='column'\n      >\n        <Label>When</Label>\n        <DateInput\n          buttonProps={{\n            label: `${dateFormat.format(new Date(departureDate))} - ${dateFormat.format(new Date(returnDate))}`,\n            size: 'large',\n            icon: undefined,\n            style: {\n              border: '1px solid rgba(227, 231, 236, 0.3)',\n              color: 'white',\n              fontFamily: 'Inter',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontSize: '1.25rem',\n              lineHeight: '1.5rem',\n              borderRadius: '.5rem'\n            }\n          }}\n          calendarProps={{\n            fill: false,\n            alignSelf: 'center',\n            margin: 'small',\n            size: 'medium'\n          }}\n          value={[departureDate, returnDate]}\n          onChange={({ value }) => handleDateChange({ value } as { value: string[] })}\n        />\n      </Box>\n      <Box\n        pad='small'\n        height='100%'\n        direction='column'\n      >\n        <Label>Guests</Label>\n        <Box>\n          <TextInput\n            size='xlarge'\n            focusIndicator={false}\n            style={{\n              border: '1px solid rgba(227, 231, 236, 0.3)',\n              fontFamily: 'Inter',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontSize: '1.25rem',\n              lineHeight: '1.5rem',\n              borderRadius: '.5rem',\n              width: '4rem',\n              padding: '6px'\n            }}\n            // suggestions={['1', '2', '3','4', '5', '6','7', '2', '3']}\n            placeholder='Guests'\n            value={guestsAmount}\n            type='number'\n            // onSelect={({ suggestion }) => setGuestsAmount(Number(suggestion))}\n            onChange={(event) => {\n              const value = Number(event.target.value)\n              setGuestsAmount(value !== 0 ? value : 1)\n            }}\n          />\n        </Box>\n      </Box>\n      <Button\n        style={{\n          border: '1px solid rgba(227, 231, 236, 0.3)',\n          fontFamily: 'Inter',\n          fontStyle: 'normal',\n          fontWeight: 400,\n          color: '#fff',\n          fontSize: '1.25rem',\n          lineHeight: '1.5rem',\n          borderRadius: '.5rem',\n          alignSelf: 'end',\n        }}\n        margin='small'\n        onClick={() => navigate(`/search?${query}`, { replace: true })}\n      >\n        {() => (\n          <Box direction='row' justify='center' align='center' pad='small'>\n            <Text style={{\n              // border: '1px solid rgba(227, 231, 236, 0.3)',\n              fontFamily: 'Inter',\n              fontStyle: 'normal',\n              fontWeight: 400,\n              fontSize: '1rem',\n            }}\n            >\n              Search\n            </Text>\n          </Box>\n        )}\n      </Button>\n    </BlurredSearch>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { DateTime } from 'luxon';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useDayZero');\n\nexport type UseDayZeroHook = [\n  getDate: (days: number) => DateTime,\n  isReady: boolean,\n  error: string | undefined\n];\n\nexport const useDayZero = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined\n): UseDayZeroHook => {\n  const [contract, ,] = useContract(provider, ipfsNode);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [dayZero, setDayZero] = useState<number | undefined>();\n  const [error, setError] = useState<string | undefined>();\n\n  const getDayZero = useCallback(\n    async () => {\n      if (!contract) {\n        setIsReady(false);\n        return;\n      }\n      try {\n        setError(undefined);\n        setIsReady(false);\n        logger.debug('getDayZero start');\n        const dz = await contract.getDayZero();\n        logger.debug('getDayZero', dz);\n        setDayZero(dz);\n        setIsReady(true);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useDayZero error';\n        setError(message);\n        setIsReady(false);\n      }\n    },\n    [contract]\n  );\n\n  const getDate = useCallback(\n    (days: number) => {\n      if (!dayZero) {\n        throw new Error('getDate utility is not ready');\n      }\n      const cleanZero = DateTime.fromMillis(dayZero * 1000).set({ hour: 1 })\n      logger.debug('getDate params', cleanZero, days);\n      return DateTime.fromMillis(\n        cleanZero.toMillis() + days * 86400 * 1000\n      )\n    },\n    [dayZero]\n  );\n\n  useEffect(\n    () => {\n      getDayZero();\n      return () => {\n        setIsReady(false);\n        setDayZero(undefined);\n      }\n    },\n    [getDayZero]\n  );\n\n  return [\n    getDate,\n    isReady,\n    error\n  ];\n};\n","import { Box, Spinner, Text } from 'grommet';\nimport { useAppState } from '../store';\nimport { PageWrapper } from '../pages/PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { SearchForm } from '../components/search/SearchForm';\nimport { useDayZero } from '../hooks/useDayZero';\nimport styled from 'styled-components';\n\nexport const WhiteText = styled(Text)`\n  text-align: center;\n  color: #fff;\n  font-family: Inter;\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: 0px;\n  text-align: center;\n`;\n\nexport const GradientText = styled(Text)`\n  font-family: Inter;\n  font-size: 136px;\n  font-weight: 900;\n  line-height: 144px;\n  letter-spacing: 0px;\n  text-align: center;\n\n  background: linear-gradient(90.72deg, #E2C9C6 -3.09%, #81BDF0 23.35%, #E4F2FF 29.25%, #86C9F0 45.31%, #EDF5FF 81.44%, #A0AACF 101.22%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n`;\n\nexport const Home = () => {\n  const {\n    isIpfsNodeConnecting,\n    isBootstrapLoading,\n    bootstrapped,\n    rpcProvider,\n    ipfsNode\n  } = useAppState();\n\n  const [getDate, isGetDateReady] = useDayZero(rpcProvider, ipfsNode);\n\n  return (\n    <PageWrapper>\n      <Box\n        style={{\n          // position: 'relative',\n          background: '#611FF2',\n          height: '90vh',\n        }}\n      >\n        <WhiteText>April 18-25 2022</WhiteText>\n        <WhiteText>Devconnect APRIL 18-25, 2022 Amsterdam, The Netherlands</WhiteText>\n        <GradientText>Amsterdam</GradientText>\n        <WhiteText>A collaborative Ethereum week, built by and for everyone</WhiteText>\n\n        <MessageBox type='info' show={isIpfsNodeConnecting || isBootstrapLoading || !isGetDateReady}>\n          <Box direction='row'>\n            <Box>\n              The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n            </Box>\n            <Spinner />\n          </Box>\n        </MessageBox>\n\n        {(!!bootstrapped && isGetDateReady) &&\n          <SearchForm getDate={getDate} />\n        }\n      </Box>\n    </PageWrapper>\n  );\n};\n","import type { MessageBoxTypes } from '../components/MessageBox';\nimport type { MessageState } from '../hooks/useGoToMessage';\nimport { useEffect, useState } from 'react';\nimport { Box, Text } from 'grommet';\nimport { PageWrapper } from './PageWrapper';\nimport { useLocation, NavLink } from 'react-router-dom';\nimport { MessageBox, allowedMessageBoxTypes } from '../components/MessageBox';\n\nexport const Message = () => {\n  const { state } = useLocation();\n  const [messageType, setMessageType] = useState<MessageBoxTypes>('warn');\n  const [messageText, setMessageText] = useState<string | undefined>();\n  const [messagePath, setMessagePath] = useState<string | undefined>();\n  const [messagePathLabel, setMessagePathLabel] = useState<string | undefined>();\n\n  useEffect(\n    () => {\n      const { type, text, path, pathLabel } = state as MessageState;\n      setMessageType(allowedMessageBoxTypes.includes(type) ? type : 'warn');\n      setMessageText(text || 'Hello, the message on this path is expired');\n      setMessagePath(path);\n      setMessagePathLabel(pathLabel);\n    },\n    [state]\n  );\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <MessageBox type={messageType} show={!!messageText}>\n        <Box direction='column'>\n          <Box margin={{ bottom: 'small' }}>\n            <Text>{messageText}</Text>\n          </Box>\n          {messagePath &&\n            <Box>\n              <NavLink to={messagePath}>\n                {messagePathLabel || 'Continue'}\n              </NavLink>\n            </Box>\n          }\n        </Box>\n      </MessageBox>\n\n    </PageWrapper>\n  );\n};\n","import { Box, Text, Image, Grid, Button } from 'grommet';\nimport type { Space } from 'stays-data-models'\nimport { useNavigate } from 'react-router-dom';\nimport { useAppState } from '../store';\n// import { ThemeMode } from './SwitchThemeMode';\nimport { SignInButton } from './buttons/web3Modal';\nimport styled from 'styled-components';\n\nexport const CustomButton = styled(Button)`\n  color:white;\n  border: none;\n  height: 2.5rem;\n  width: 10rem;\n  border-radius: 2.5rem;\n  background: linear-gradient(90.72deg, #FFF500, #3B37FF, #0D0E0F);\n\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nexport const SearchResultCard: React.FC<{ space: Space }> = ({ space }) => {\n  const { account } = useAppState();\n  const navigate = useNavigate();\n\n  return (\n    <Box\n      border={{\n        color: '#000000',\n        side: 'bottom',\n      }}\n      pad='large'\n      direction='row'\n      align='center'\n      alignSelf='center'\n\n      style={{ width: '64rem' }}\n      overflow='hidden'\n    >\n      <Grid\n        responsive\n        width='100%'\n        rows={['xsmall', 'small', 'xsmall']}\n        columns={['medium', 'flex']}\n        gap=\"medium\"\n        areas={[\n          { name: 'img', start: [0, 0], end: [1, 2] },\n          { name: 'header', start: [1, 0], end: [1, 1] },\n          { name: 'main', start: [1, 1], end: [1, 1] },\n          { name: 'action', start: [1, 2], end: [1, 2] },\n        ]}\n        align='center'\n      >\n        <Box gridArea=\"img\" height=\"100%\" >\n          <Image\n            fit=\"cover\"\n            src={space.media.logo}\n          />\n        </Box>\n        <Box gridArea=\"header\">\n          <Text size='xxlarge'  >\n            {space.name}\n          </Text>\n          {/* <Text size='large'>\n            {space.address === undefined ? '' : <Box direction='row'>\n              <Text>{space.address.country},</Text>\n              <Text>{space.address.locality},</Text>\n              <Text>{space.address.streetAddress}</Text>\n            </Box>}\n          </Text> */}\n        </Box>\n        <Box direction='column' justify='start' gridArea=\"main\">\n          lordem\n        </Box>\n        <Box pad={{ right: 'medium' }} direction='row' justify='between' align='center' gridArea=\"action\">\n          <Text size='large'>From: $$$</Text>\n          {account ? <CustomButton\n            size='large'\n            label='Check Space'\n            onClick={() => navigate(`/space/${space.contractData.spaceId}`)}\n          /> : <SignInButton />}\n        </Box>\n      </Grid>\n    </Box>\n  );\n};\n","import { useContract } from './useContract';\nimport { useAppState } from '../store';\nimport { useCallback, useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSpaceAvailability');\n\nexport type UseSpaceAvailabilityHook = [\n  cb: (\n    spaceId: string,\n    startDay: number,\n    numberOfDays: number\n  ) => Promise<number[] | null>,\n  isReady: boolean\n];\n\n// This hook provides a callback function for getting a space availability\nexport const useSpaceAvailability = (): UseSpaceAvailabilityHook => {\n  const { rpcProvider, ipfsNode } = useAppState();\n  const [contract] = useContract(rpcProvider, ipfsNode);\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    setIsReady(!!contract);\n  }, [contract]);\n\n  const cb = useCallback(async (\n    spaceId: string,\n    startDay: number,\n    numberOfDays: number\n  ): Promise<number[] | null> => {\n    try {\n      if (!contract) {\n        throw new Error('Contract is not connected');\n      }\n      return contract.getAvailability(spaceId, startDay, numberOfDays);\n\n    } catch (error) {\n      logger.error(error);\n      return null;\n    }\n  }, [contract]);\n\n  return [cb, isReady];\n};\n","import { useState, useEffect } from 'react';\nimport Logger from '../utils/logger';\nimport { useAppDispatch, useAppState } from '../store';\nimport { LodgingFacility, Space } from 'stays-data-models';\nimport { useSpaceAvailability } from './useSpaceAvailability';\n\n// Initialize logger\nconst logger = Logger('useSpaceSearch');\n\nexport type UseSpaceSearchHook = [\n  isLoading: boolean,\n  error: string | undefined\n];\n\n// useSpaceSearch react hook\nexport const useSpaceSearch = (\n  startDay: number,\n  numberOfDays: number,\n  guestsAmount: number\n): UseSpaceSearchHook => {\n  const dispatch = useAppDispatch();\n  const { lodgingFacilities, searchTimestamp, searchParams } = useAppState();\n  const [cb, isReady] = useSpaceAvailability();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  useEffect(() => {\n    setLoading(true);\n    setError(undefined);\n\n    if (!isReady) {\n      return\n    }\n\n    if (!!searchParams && searchParams.guestsAmount !== guestsAmount) {\n      dispatch({\n        type: 'SET_SEARCH_PARAMS',\n        payload: {\n          ...searchParams,\n          guestsAmount\n        }\n      });\n    }\n\n    if (\n      searchParams !== undefined &&\n      searchTimestamp !== undefined &&\n      searchTimestamp + 5 * 60 > Date.now() / 1000 &&\n      searchParams.numberOfDays === numberOfDays &&\n      searchParams.startDay === startDay\n    ) {\n      setLoading(false);\n      return\n    }\n\n    if (startDay < 0) {\n      setLoading(false);\n      setError('Not valid date')\n      return\n    }\n\n    dispatch({\n      type: 'RESET_RECORD',\n      payload: {\n        name: 'searchSpaces'\n      }\n    });\n\n    const getSpacesAvailability = async () => {\n      try {\n        const facilities: LodgingFacility[] = JSON.parse(JSON.stringify(lodgingFacilities))\n        const spaces = facilities.reduce(\n          (previousValue, currentValue) => [...previousValue, ...currentValue.spaces as Space[]],\n          [] as Space[]\n        );\n        const newSpaces = await Promise.all(\n          spaces.map(\n            async space => {\n              const availability = await cb(space.contractData.spaceId, startDay, numberOfDays)\n              return {\n                ...space,\n                available: availability === null ? availability : Math.min(...availability)\n              }\n            }\n          )\n        );\n\n        // Add all obtained records to state\n        for (const record of newSpaces) {\n          dispatch({\n            type: 'SET_RECORD',\n            payload: {\n              name: 'searchSpaces',\n              record: {\n                ...record,\n                id: record.contractData.spaceId\n              }\n            }\n          });\n        }\n        //Set timestamp to storage\n        dispatch({\n          type: 'SET_AVAILABILITY_TIMESTAMP',\n          payload: Date.now() / 1000\n        });\n        dispatch({\n          type: 'SET_SEARCH_PARAMS',\n          payload: {\n            startDay,\n            numberOfDays,\n            guestsAmount\n          }\n        });\n\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        if (error) {\n          logger.error(error);\n          setError((error as Error).message);\n        } else {\n          logger.error('Unknown error');\n        }\n      }\n    };\n\n    getSpacesAvailability();\n  }, [lodgingFacilities, isReady, cb, dispatch, numberOfDays, startDay, searchParams, searchTimestamp, guestsAmount]);\n\n  return [\n    loading,\n    error\n  ];\n};\n","import { PageWrapper } from './PageWrapper';\nimport { SearchForm } from '../components/search/SearchForm';\nimport { Image, Box, Spinner, Text } from 'grommet';\nimport { SearchResultCard } from '../components/SearchResultCard';\nimport { useAppState } from '../store';\nimport { useSpaceSearch } from '../hooks/useSpaceSearch';\nimport { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { MessageBox } from '../components/MessageBox';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { GradientText, WhiteText } from './Home';\nimport styled from 'styled-components';\n\nexport const WhiteParagraph = styled(Text)`\n  text-align: start;\n  align-self: center;\n  color: #fff;\n  font-family: Inter;\n  font-size: 24px;\n  font-weight: 400;\n  line-height: 32px;\n  letter-spacing: 0px;\n  max-width: 50rem;\n  margin-top: 5rem;\n`;\n\nexport const WhiteParagraph18 = styled(Text)`\n  text-align: start;\n  align-self: center;\n  color: #fff;\n  font-family: Inter;\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: 0px;\n  max-width: 50rem;\n  margin-top: 2rem;\n`;\n\nexport const Search = () => {\n  const { searchSpaces, provider, ipfsNode } = useAppState();\n  const { search } = useLocation();\n\n  const { startDay, numberOfDays, guestsAmount } = useMemo(() => {\n    const params = new URLSearchParams(search)\n    const startDay = Number(params.get('startDay'))\n    const numberOfDays = Number(params.get('numberOfDays'))\n    return {\n      startDay,\n      numberOfDays,\n      guestsAmount: Number(params.get('guestsAmount')),\n    }\n  }, [search])\n\n  const [loading, error] = useSpaceSearch(startDay, numberOfDays, guestsAmount)\n  const [getDate, isGetDateReady] = useDayZero(provider, ipfsNode);\n\n  const filteredSpaces = useMemo(() => {\n    return searchSpaces.filter((space: any) => space.capacity >= guestsAmount)\n  }, [searchSpaces, guestsAmount])\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <Box\n        style={{\n          // position: 'relative',\n          background: '#611FF2',\n          height: '90vh',\n        }}\n      >\n        <WhiteText margin={{ top: 'medium' }}>April 18-25 2022</WhiteText>\n        <WhiteText>Devconnect APRIL 18-25, 2022 Amsterdam, The Netherlands</WhiteText>\n        <GradientText>Amsterdam</GradientText>\n        <WhiteText>A collaborative Ethereum week, built by and for everyone</WhiteText>\n\n        <WhiteParagraph>\n          Devconnect Amsterdam brings together hundreds of people from all over the world. Within one week there will be held various independent Ethereum events as well as in-person gatherings with the focus on communication, learning and making progress on specific subjects.\n        </WhiteParagraph>\n        <WhiteParagraph18>\n          With Win.so you can on-chain your stay in Amsterdam during Devconnect. Book with us. Pay in DAI. Check-in with NFT. Get Rewards for the next ETH event.\n        </WhiteParagraph18>\n\n        {isGetDateReady && <SearchForm\n          getDate={getDate}\n          startDay={startDay}\n          numberOfDays={numberOfDays}\n          initGuestsAmount={guestsAmount}\n        />}\n        {isGetDateReady && <Image\n          fit=\"cover\"\n          src='/bg-img.svg'\n          color='#611FF2'\n          style={{\n            width: '100vw',\n            // height: '100vh',\n            position: 'absolute',\n            left: '0',\n            bottom: '-2rem',\n            zIndex: '-100'\n          }}\n        />}\n\n        <MessageBox type='error' show={!!error}>\n          <Box direction='row'>\n            <Box>\n              {error}\n            </Box>\n          </Box>\n        </MessageBox>\n      </Box>\n\n      <Box\n        style={{\n          // position: 'absolute',\n          marginTop: '3rem'\n        }}\n      >\n        {loading ? <Spinner color='accent-1' alignSelf='center' size='medium' /> : null}\n        {filteredSpaces !== undefined && isGetDateReady ? filteredSpaces.map((space) =>\n          <SearchResultCard key={space.contractData.spaceId} space={space} />\n        ) : null}\n      </Box>\n    </PageWrapper>\n  );\n};\n","import { Anchor } from 'grommet';\nimport { Share } from 'grommet-icons';\nimport styled from 'styled-components';\n\nexport interface ExternalLinkProps {\n  href: string;\n  label: string;\n}\n\nexport const ShareIcon = styled(Share)`\n  cursor: pointer;\n`;\n\nexport const ExternalLink = ({\n  href,\n  label\n}: ExternalLinkProps) => {\n\n  return (\n    <Anchor\n      href={href}\n      target='_blank'\n      rel='noopener noreferrer'\n      gap='xsmall'\n      reverse\n      label={label}\n      icon={<ShareIcon size='small' />}\n    />\n  )\n};\n","import type { ReactNode } from 'react';\nimport { Box } from 'grommet';\n\nexport interface CollapsibleProps {\n  open: boolean;\n  children: ReactNode;\n}\n\nexport const Collapsible = ({ open, children }: CollapsibleProps) => (\n  <Box\n    responsive\n    animation={open ? 'fadeIn' : 'fadeOut'}\n    height={open ? 'auto' : '0px'}\n    overflow='hidden'\n  >\n    {children}\n  </Box>\n);\n","import { useEffect, useState } from 'react';\n\nexport const useWindowsDimension = () => {\n  const [windowDimenion, detectHW] = useState({\n    winWidth: window.innerWidth,\n    winHeight: window.innerHeight,\n  });\n\n  const detectSize = () => {\n    detectHW({\n      winWidth: window.innerWidth,\n      winHeight: window.innerHeight,\n    });\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', detectSize);\n\n    return () => {\n      window.removeEventListener('resize', detectSize);\n    };\n  }, [windowDimenion]);\n\n  return windowDimenion;\n};\n","import type { MessageBoxTypes } from '../components/MessageBox';\nimport { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport type UseGoToMessageHook = (\n  text: string,\n  type?: MessageBoxTypes,\n  path?: string,\n  pathLabel?: string\n) => void;\n\nexport interface MessageState {\n  text: string;\n  type: MessageBoxTypes;\n  path?: string;\n  pathLabel?: string;\n}\n\nexport const useGoToMessage = (): UseGoToMessageHook => {\n  const navigate = useNavigate();\n  return useCallback(\n    (text: string, type = 'info', path?: string, pathLabel?: string) =>\n      navigate(\n        '/message',\n        {\n          replace: true,\n          state: {\n            text,\n            type,\n            path,\n            pathLabel,\n          }\n        }\n      ),\n    [navigate]\n  );\n};\n","//Source https://betterprogramming.pub/the-best-practice-with-google-place-autocomplete-api-on-react-939211e8b4ce\nimport { enumerators } from 'stays-data-models';\n\n  const {\n    allowedLodgingFacilityTypes, // Lodging facility types\n    allowedLodgingFacilityTiers, // Lodging facility tiers\n   // allowedSpaceTypes, // Space types\n  } = enumerators;\n\nexport const defaultRoomTier = allowedLodgingFacilityTiers;\n\nexport const ResponsiveColumn = (winWidth: number) => {\n  if (winWidth >= 1300) {\n    return ['65%', '35%'];\n  } else if (winWidth >= 1000) {\n    return ['65%', '35%'];\n  } else if (winWidth >= 768) {\n    return ['60%', '40%'];\n  } else if (winWidth >= 600) {\n    return ['large'];\n  } else if (winWidth <= 500) {\n    return ['100%'];\n  } else if (winWidth <= 400) {\n    return ['100%'];\n  }\n};\n\n\nexport interface imageSchema {\n   description: string;\n   uri: string;\n   thumbnail: string;\n\n}\n\nexport interface addressSchema {\n  country: string;\n  subdivision: string;\n  locality: string;\n  postalCode: string;\n  streetAddress: string;\n  premise: string;\n  gps: string;\n}\n\nexport interface operatorSchema {\n  name: string;\n  address: Array<addressSchema>\n}\n\nexport interface mediaSchema {\n  logo?: string;\n  images: Array<imageSchema>;\n}\n\nexport interface LodgingFacilityRaw {\n  name?: string;\n  description?: string;\n  type?: string;\n  tier: string;\n  address?: Array<addressSchema>;\n  operator?: Array<operatorSchema>;\n  media: Array<mediaSchema>;\n}\n\nexport const LodgingFacilityRaw2:any = {\n  name: '',\n  description: '',\n  type: '',\n  tier: '',\n  address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: '',\n    },\n  operator: {\n    name: '',\n    address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: '',\n    },\n  },\n  media: {\n    logo: '',\n    images: [],\n   // images: Array <imageSchema>\n  },\n};\n\nexport const defaultFormValue = {\n  roomName: 'Madagaska room',\n  roomType: 'Deluxe King',\n  roomTier: 'Basic',\n  description: '',\n  addressCountry: '',\n  addressSubdivision: '',\n  addressLocality: '',\n  addressPostalCode: '',\n  addressGeometry: '',\n  addressPremise: '',\n\n  operatorGeometry: '',\n  operatorPostalCode: '',\n  operatorLocality: '',\n  operatorCountry: '',\n  operatorPremise: '', //addressPremise\n};\nexport const defaultRoomTypes = allowedLodgingFacilityTypes;\nexport const defaultCountries: string[] = [\n  'Afghanistan',\n  'Aland Islands',\n  'Albania',\n  'Algeria',\n  'American Samoa',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'Antarctica',\n  'Antigua and Barbuda',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'Bonaire, Sint Eustatius and Saba',\n  'Bosnia and Herzegovina',\n  'Botswana',\n  'Bouvet Island',\n  'Brazil',\n  'British Indian Ocean Territory',\n  'Brunei Darussalam',\n  'Bulgaria',\n  'Burkina Faso',\n  'Burundi',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'Cape Verde',\n  'Cayman Islands',\n  'Central African Republic',\n  'Chad',\n  'Chile',\n  'China',\n  'Christmas Island',\n  'Cocos (Keeling) Islands',\n  'Colombia',\n  'Comoros',\n  'Congo',\n  'Congo, Democratic Republic of the Congo',\n  'Cook Islands',\n  'Costa Rica',\n  'Cote D\\'Ivoire',\n  'Croatia',\n  'Cuba',\n  'Curacao',\n  'Cyprus',\n  'Czech Republic',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'Dominican Republic',\n  'Ecuador',\n  'Egypt',\n  'El Salvador',\n  'Equatorial Guinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'Falkland Islands (Malvinas)',\n  'Faroe Islands',\n  'Fiji',\n  'Finland',\n  'France',\n  'French Guiana',\n  'French Polynesia',\n  'French Southern Territories',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'Greece',\n  'Greenland',\n  'Grenada',\n  'Guadeloupe',\n  'Guam',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'Guinea-Bissau',\n  'Guyana',\n  'Haiti',\n  'Heard Island and Mcdonald Islands',\n  'Holy See (Vatican City State)',\n  'Honduras',\n  'Hong Kong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran, Islamic Republic of',\n  'Iraq',\n  'Ireland',\n  'Isle of Man',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'Kiribati',\n  'Korea, Democratic People\\'s Republic of',\n  'Korea, Republic of',\n  'Kosovo',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Lao People\\'s Democratic Republic',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libyan Arab Jamahiriya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia, the Former Yugoslav Republic of',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Marshall Islands',\n  'Martinique',\n  'Mauritania',\n  'Mauritius',\n  'Mayotte',\n  'Mexico',\n  'Micronesia, Federated States of',\n  'Moldova, Republic of',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nauru',\n  'Nepal',\n  'Netherlands',\n  'Netherlands Antilles',\n  'New Caledonia',\n  'New Zealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Niue',\n  'Norfolk Island',\n  'Northern Mariana Islands',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Palestinian Territory, Occupied',\n  'Panama',\n  'Papua New Guinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Pitcairn',\n  'Poland',\n  'Portugal',\n  'Puerto Rico',\n  'Qatar',\n  'Reunion',\n  'Romania',\n  'Russian Federation',\n  'Rwanda',\n  'Saint Barthelemy',\n  'Saint Helena',\n  'Saint Kitts and Nevis',\n  'Saint Lucia',\n  'Saint Martin',\n  'Saint Pierre and Miquelon',\n  'Saint Vincent and the Grenadines',\n  'Samoa',\n  'San Marino',\n  'Sao Tome and Principe',\n  'Saudi Arabia',\n  'Senegal',\n  'Serbia',\n  'Serbia and Montenegro',\n  'Seychelles',\n  'Sierra Leone',\n  'Singapore',\n  'Sint Maarten',\n  'Slovakia',\n  'Slovenia',\n  'Solomon Islands',\n  'Somalia',\n  'South Africa',\n  'South Georgia and the South Sandwich Islands',\n  'South Sudan',\n  'Spain',\n  'Sri Lanka',\n  'Sudan',\n  'Suriname',\n  'Svalbard and Jan Mayen',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syrian Arab Republic',\n  'Taiwan, Province of China',\n  'Tajikistan',\n  'Tanzania, United Republic of',\n  'Thailand',\n  'Timor-Leste',\n  'Togo',\n  'Tokelau',\n  'Tonga',\n  'Trinidad and Tobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'Turks and Caicos Islands',\n  'Tuvalu',\n  'Uganda',\n  'Ukraine',\n  'United Arab Emirates',\n  'United Kingdom',\n  'United States',\n  'United States Minor Outlying Islands',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Viet Nam',\n  'Virgin Islands, British',\n  'Virgin Islands, U.s.',\n  'Wallis and Futuna',\n  'Western Sahara',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n];\n","import type { LodgingFacilityRaw } from 'stays-data-models';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport {\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Button,\n  Box,\n  // Collapsible,\n  Image,\n  Text,\n  TextArea,\n  Form,\n  Grid,\n  FormField,\n  FileInput,\n  Layer,\n  Heading,\n  Select,\n  Spinner,\n  Stack,\n  Carousel,\n} from 'grommet';\nimport { Close, CaretRightFill, CaretDownFill } from 'grommet-icons';\nimport { useParams } from 'react-router-dom';\nimport { regexp } from '@windingtree/org.id-utils';\nimport ReactTagInput from '@pathofdev/react-tag-input';\nimport { MessageBox } from '../MessageBox';\nimport { ExternalLink } from '../ExternalLink';\nimport { Collapsible } from '../Collapsible';\nimport { validateLodgingFacilityData } from 'stays-data-models/dist/src/validators';\nimport { enumerators } from 'stays-data-models';\nimport { centerEllipsis } from '../../utils/strings';\nimport { useAppState } from '../../store';\nimport { useWeb3StorageApi } from '../../hooks/useWeb3StorageApi';\nimport { useContract } from './../../hooks/useContract';\nimport { useWindowsDimension } from '../../hooks/useWindowsDimension';\nimport { useGoToMessage } from '../../hooks/useGoToMessage';\nimport { ResponsiveColumn } from '../../utils/roomProfile';\nimport { getNetwork } from '../../config';\nimport Logger from '../../utils/logger';\nimport '@pathofdev/react-tag-input/build/index.css';\n\n// Initialize logger\nconst logger = Logger('FacilityProfileCard');\n\nexport const defaultCountries: string[] = [\n  'Afghanistan',\n  'Aland Islands',\n  'Albania',\n  'Algeria',\n  'American Samoa',\n  'Andorra',\n  'Angola',\n  'Anguilla',\n  'Antarctica',\n  'Antigua and Barbuda',\n  'Argentina',\n  'Armenia',\n  'Aruba',\n  'Australia',\n  'Austria',\n  'Azerbaijan',\n  'Bahamas',\n  'Bahrain',\n  'Bangladesh',\n  'Barbados',\n  'Belarus',\n  'Belgium',\n  'Belize',\n  'Benin',\n  'Bermuda',\n  'Bhutan',\n  'Bolivia',\n  'Bonaire, Sint Eustatius and Saba',\n  'Bosnia and Herzegovina',\n  'Botswana',\n  'Bouvet Island',\n  'Brazil',\n  'British Indian Ocean Territory',\n  'Brunei Darussalam',\n  'Bulgaria',\n  'Burkina Faso',\n  'Burundi',\n  'Cambodia',\n  'Cameroon',\n  'Canada',\n  'Cape Verde',\n  'Cayman Islands',\n  'Central African Republic',\n  'Chad',\n  'Chile',\n  'China',\n  'Christmas Island',\n  'Cocos (Keeling) Islands',\n  'Colombia',\n  'Comoros',\n  'Congo',\n  'Congo, Democratic Republic of the Congo',\n  'Cook Islands',\n  'Costa Rica',\n  'Cote D\\'Ivoire',\n  'Croatia',\n  'Cuba',\n  'Curacao',\n  'Cyprus',\n  'Czech Republic',\n  'Denmark',\n  'Djibouti',\n  'Dominica',\n  'Dominican Republic',\n  'Ecuador',\n  'Egypt',\n  'El Salvador',\n  'Equatorial Guinea',\n  'Eritrea',\n  'Estonia',\n  'Ethiopia',\n  'Falkland Islands (Malvinas)',\n  'Faroe Islands',\n  'Fiji',\n  'Finland',\n  'France',\n  'French Guiana',\n  'French Polynesia',\n  'French Southern Territories',\n  'Gabon',\n  'Gambia',\n  'Georgia',\n  'Germany',\n  'Ghana',\n  'Gibraltar',\n  'Greece',\n  'Greenland',\n  'Grenada',\n  'Guadeloupe',\n  'Guam',\n  'Guatemala',\n  'Guernsey',\n  'Guinea',\n  'Guinea-Bissau',\n  'Guyana',\n  'Haiti',\n  'Heard Island and Mcdonald Islands',\n  'Holy See (Vatican City State)',\n  'Honduras',\n  'Hong Kong',\n  'Hungary',\n  'Iceland',\n  'India',\n  'Indonesia',\n  'Iran, Islamic Republic of',\n  'Iraq',\n  'Ireland',\n  'Isle of Man',\n  'Israel',\n  'Italy',\n  'Jamaica',\n  'Japan',\n  'Jersey',\n  'Jordan',\n  'Kazakhstan',\n  'Kenya',\n  'Kiribati',\n  'Korea, Democratic People\\'s Republic of',\n  'Korea, Republic of',\n  'Kosovo',\n  'Kuwait',\n  'Kyrgyzstan',\n  'Lao People\\'s Democratic Republic',\n  'Latvia',\n  'Lebanon',\n  'Lesotho',\n  'Liberia',\n  'Libyan Arab Jamahiriya',\n  'Liechtenstein',\n  'Lithuania',\n  'Luxembourg',\n  'Macao',\n  'Macedonia, the Former Yugoslav Republic of',\n  'Madagascar',\n  'Malawi',\n  'Malaysia',\n  'Maldives',\n  'Mali',\n  'Malta',\n  'Marshall Islands',\n  'Martinique',\n  'Mauritania',\n  'Mauritius',\n  'Mayotte',\n  'Mexico',\n  'Micronesia, Federated States of',\n  'Moldova, Republic of',\n  'Monaco',\n  'Mongolia',\n  'Montenegro',\n  'Montserrat',\n  'Morocco',\n  'Mozambique',\n  'Myanmar',\n  'Namibia',\n  'Nauru',\n  'Nepal',\n  'Netherlands',\n  'Netherlands Antilles',\n  'New Caledonia',\n  'New Zealand',\n  'Nicaragua',\n  'Niger',\n  'Nigeria',\n  'Niue',\n  'Norfolk Island',\n  'Northern Mariana Islands',\n  'Norway',\n  'Oman',\n  'Pakistan',\n  'Palau',\n  'Palestinian Territory, Occupied',\n  'Panama',\n  'Papua New Guinea',\n  'Paraguay',\n  'Peru',\n  'Philippines',\n  'Pitcairn',\n  'Poland',\n  'Portugal',\n  'Puerto Rico',\n  'Qatar',\n  'Reunion',\n  'Romania',\n  'Russian Federation',\n  'Rwanda',\n  'Saint Barthelemy',\n  'Saint Helena',\n  'Saint Kitts and Nevis',\n  'Saint Lucia',\n  'Saint Martin',\n  'Saint Pierre and Miquelon',\n  'Saint Vincent and the Grenadines',\n  'Samoa',\n  'San Marino',\n  'Sao Tome and Principe',\n  'Saudi Arabia',\n  'Senegal',\n  'Serbia',\n  'Serbia and Montenegro',\n  'Seychelles',\n  'Sierra Leone',\n  'Singapore',\n  'Sint Maarten',\n  'Slovakia',\n  'Slovenia',\n  'Solomon Islands',\n  'Somalia',\n  'South Africa',\n  'South Georgia and the South Sandwich Islands',\n  'South Sudan',\n  'Spain',\n  'Sri Lanka',\n  'Sudan',\n  'Suriname',\n  'Svalbard and Jan Mayen',\n  'Swaziland',\n  'Sweden',\n  'Switzerland',\n  'Syrian Arab Republic',\n  'Taiwan, Province of China',\n  'Tajikistan',\n  'Tanzania, United Republic of',\n  'Thailand',\n  'Timor-Leste',\n  'Togo',\n  'Tokelau',\n  'Tonga',\n  'Trinidad and Tobago',\n  'Tunisia',\n  'Turkey',\n  'Turkmenistan',\n  'Turks and Caicos Islands',\n  'Tuvalu',\n  'Uganda',\n  'Ukraine',\n  'United Arab Emirates',\n  'United Kingdom',\n  'United States',\n  'United States Minor Outlying Islands',\n  'Uruguay',\n  'Uzbekistan',\n  'Vanuatu',\n  'Venezuela',\n  'Viet Nam',\n  'Virgin Islands, British',\n  'Virgin Islands, U.s.',\n  'Wallis and Futuna',\n  'Western Sahara',\n  'Yemen',\n  'Zambia',\n  'Zimbabwe',\n];\n\nexport const defaultFormValue: LodgingFacilityRaw = {\n  name: '',\n  description: '',\n  type: '',\n  tier: '',\n  contact: {\n    name: '',\n    phone: '',\n    email: '',\n    website: '',\n  },\n  amenities: [],\n  address: {\n    country: '',\n    subdivision: '',\n    locality: '',\n    postalCode: '',\n    streetAddress: '',\n    premise: '',\n    gps: ''\n  },\n  operator: {\n    name: '',\n    address: {\n      country: '',\n      subdivision: '',\n      locality: '',\n      postalCode: '',\n      streetAddress: '',\n      premise: '',\n      gps: ''\n    }\n  },\n  media: {\n    logo: '',\n    images: []\n  }\n};\n\nconst flattenObject = (obj: any, prefix = ''): Record<string, any> =>\n  Object\n    .keys(obj)\n    .reduce(\n      (acc, key) => {\n        const pre = prefix.length ? prefix + '.' : '';\n        acc = {\n          ...acc,\n          ...(\n            typeof obj[key] === 'object'\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              ? flattenObject(obj[key], pre + key)\n              : {\n                [pre + key]: obj[key]\n              }\n          )\n        };\n        return acc;\n      },\n      {}\n    );\n\nconst unFlattenObject = (obj: Record<string, any>) => {\n  const result: any = {};\n  for (let i in obj) {\n    const keys = i.split('.');\n    keys.reduce(\n      (acc, key, j) => {\n        return acc[key] ||\n          (acc[key] = isNaN(Number(keys[j + 1])) ? (keys.length - 1 === j ? obj[i] : {}) : [])\n      },\n      result\n    );\n  }\n  return result;\n};\n\nexport const FacilityProfileCard = () => {\n  const { id } = useParams<{ id: string }>();\n  const showMessage = useGoToMessage();\n  const { winWidth } = useWindowsDimension();\n  const {\n    provider,\n    ipfsNode,\n    ownFacilities,\n    ownFacilitiesLoading,\n    ownFacilitiesRefresh\n  } = useAppState();\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [profileValue, setProfileValue] = useState<Record<string, any>>(flattenObject(defaultFormValue));\n  const [countries, setCountries] = useState<string[]>(defaultCountries);\n  const [contactOpen, setContactOpen] = useState<boolean>(false);\n  const [addressOpen, setAddressOpen] = useState<boolean>(false);\n  const [operatorOpen, setOperatorOpen] = useState<boolean>(false);\n  const [showImagesLoader, setShowImagesLoader] = useState<boolean>(false);\n  const [uploadIpfsError, setUploadIpfsError] = useState<string | undefined>();\n  const [facilityError, setFacilityError] = useState<string | undefined>();\n  const [facilityLoading, setFacilityLoading] = useState<boolean>(false);\n  const [logoUploading, setLogoUploading] = useState<boolean>(false);\n  const [imagesUploading, setImagesUploading] = useState<boolean>(false);\n  const [images, setImages] = useState<File[]>([]);\n  const [imagesDescriptions, setImagesDescriptions] = useState<Record<string, string>>({});\n  const [validationError, setValidationError] = useState<string | undefined>();\n  const [hash, setHash] = useState<string | undefined>();\n  const [profileCreating, setProfileCreating] = useState<boolean>(false);\n\n  // editing scope\n  const [selectedFacilityProfile, setSelectedFacilityProfile] = useState<LodgingFacilityRaw | undefined>();\n\n  const isLoading = useMemo<boolean>(\n    () => !!!web3Storage || loadingContract,\n    [web3Storage, loadingContract]\n  );\n\n  useEffect(\n    () => {\n      if (isLoading || !id || !!!ownFacilities) {\n        setSelectedFacilityProfile(undefined);\n        return;\n      }\n\n      try {\n        setFacilityError(undefined);\n        setFacilityLoading(true);\n\n        const facility = ownFacilities.find(\n          f => f.contractData.lodgingFacilityId === id\n        );\n\n        if (!facility) {\n          if (!ownFacilitiesLoading) {\n            throw new Error(\n              `Unable find the lodging facility with Id: ${id}`\n            );\n          }\n          setSelectedFacilityProfile(undefined);\n          return;\n        }\n\n        const profile = JSON.parse(JSON.stringify(facility));\n        delete profile.contractData;\n        delete profile.spaces;\n        delete profile.updated;\n\n        setSelectedFacilityProfile(profile);\n        setProfileValue(flattenObject(profile));\n        logger.debug('Selected facility profile', profile);\n        setFacilityLoading(false);\n      } catch (err) {\n        logger.error(err);\n        setFacilityError(\n          (err as Error).message || 'Unknown lodging facility loading error'\n        );\n        setFacilityLoading(false);\n      }\n    },\n    [id, ownFacilities, ownFacilitiesLoading, isLoading]\n  );\n\n  // true - update; false - create\n  const isUpdateMode = useMemo(\n    () => !!selectedFacilityProfile,\n    [selectedFacilityProfile]\n  );\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork();\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null;\n  }, [hash]);\n\n  const closeImageLoader = () => {\n    setImages([]);\n    setImagesDescriptions({});\n    setShowImagesLoader(false);\n  };\n\n  const unFlattenProfile = useMemo<LodgingFacilityRaw>(\n    () => unFlattenObject(profileValue),\n    [profileValue]\n  );\n\n  const deployToIpfs = useCallback(\n    async (\n      file: File,\n      loadingSetter = () => {},\n      isImage = false\n    ) => {\n      try {\n        if (!web3Storage) {\n          throw new Error(\"IPFS API not ready yet\");\n        }\n        loadingSetter(true);\n        const { cid } = await web3Storage.add(file);\n        const uri = isImage\n          ? `https://${cid}.ipfs.dweb.link`\n          : `ipfs://${cid}`;\n        loadingSetter(false);\n        return uri;\n      } catch (err) {\n        logger.error(err);\n        setUploadIpfsError(\n          (err as Error).message || 'Unknown IPFS uploader error'\n        );\n        loadingSetter(false);\n        return null;\n      }\n    },\n    [web3Storage]\n  );\n\n  const handleSubmit = useCallback(\n    async () => {\n      setValidationError(undefined);\n\n      try {\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n\n        setProfileCreating(true);\n\n        const profileData = unFlattenObject(profileValue);\n\n        logger.debug('profileData', profileData);\n        validateLodgingFacilityData(profileData);\n\n        if (isUpdateMode) {\n          if (!id) {\n            throw new Error(\n              'Id of the lodging facility is required but not found in the configuration'\n            );\n          }\n\n          await contract.updateLodgingFacility(\n            id,\n            profileData,\n            undefined,\n            setHash,\n            undefined\n          );\n        } else {\n          await contract.registerLodgingFacility(\n            profileData,\n            true,\n            undefined,\n            undefined,\n            setHash,\n            undefined\n          );\n        }\n\n        if (ownFacilitiesRefresh) {\n          ownFacilitiesRefresh();\n        }\n\n        await new Promise(resolve => setTimeout(resolve, 10000));\n\n        setProfileCreating(false);\n\n        showMessage(\n          `The Lodging Facility \"${profileData.name}\" has been successfully ${isUpdateMode ? 'updated' : 'created'}`,\n          'info',\n          '/facilities',\n          'Back to my Lodging Facilities'\n        );\n      } catch (err) {\n        logger.error(err);\n        setValidationError(\n          (err as Error).message ||\n          'Unknown profile validation error'\n        );\n        setProfileCreating(false);\n      }\n    },\n    [showMessage, isUpdateMode, profileValue, id, contract, ownFacilitiesRefresh]\n  );\n\n  return (\n    <>\n      <MessageBox type='info' show={isLoading}>\n        <Box direction='row'>\n          <Box>\n            Profile form dependencies are loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={facilityLoading}>\n        <Box direction='row'>\n          <Box>\n            Lodging Facility is profile loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!uploadIpfsError}>\n        <Box>\n          {uploadIpfsError}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!facilityError}>\n        <Box>\n          {facilityError}\n        </Box>\n      </MessageBox>\n\n      {!isLoading &&\n        <Form\n          value={profileValue}\n          validate='change'\n          onReset={() => {\n            setProfileValue(flattenObject(defaultFormValue));\n            setAddressOpen(false);\n            setOperatorOpen(false);\n            closeImageLoader();\n          }}\n          onSubmit={handleSubmit}\n          onChange={nextValue => setProfileValue(nextValue)}\n          onValidate={({ errors }) => {\n            if (Object.keys(errors).some(x => /^contact\\./.exec(x))) {\n              setContactOpen(true);\n            }\n\n            if (Object.keys(errors).some(x => /^address\\./.exec(x))) {\n              setAddressOpen(true);\n            }\n\n            if (Object.keys(errors).some(x => /^operator\\./.exec(x))) {\n              setOperatorOpen(true);\n            }\n          }}\n        >\n          <Card width='xxlarge' elevation='xsmall' background='light-3'>\n            <CardHeader pad='medium'>\n              <Heading margin='none' level='3'>\n                Lodging Facility Profile\n              </Heading>\n            </CardHeader>\n            <CardBody\n              pad='medium'\n              alignSelf='start'\n              background='#fff'\n              width='xxlarge'\n            >\n              <Grid\n                columns={ResponsiveColumn(winWidth)}\n                responsive={true}\n              >\n                <Box>\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Name'\n                    name='name'\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Description'\n                    name='description'\n                    htmlFor='text-area'\n                    component={TextArea}\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Type'\n                    name='type'\n                    required\n                  >\n                    <Select\n                      name='type'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Room Type'\n                      required\n                      clear\n                      options={enumerators.allowedLodgingFacilityTypes}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Tier'\n                    name='tier'\n                    required\n                  >\n                    <Select\n                      name='tier'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Room Tier'\n                      required\n                      clear\n                      options={enumerators.allowedLodgingFacilityTiers}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Amenities'\n                    required\n                  >\n                    <ReactTagInput\n                      tags={unFlattenProfile.amenities || []}\n                      placeholder=\"Type and press enter\"\n                      editable={true}\n                      readOnly={false}\n                      removeOnBackspace={true}\n                      onChange={newTags => {\n                        const profileClone =\n                          JSON.parse(JSON.stringify(unFlattenProfile));\n                        profileClone.amenities = newTags;\n                        setProfileValue(flattenObject(profileClone));\n                      }}\n                      validator={value => {\n                        return true;\n                      }}\n                    />\n                  </FormField>\n\n                  <Box>\n                    <Heading\n                      margin={{ 'left': 'small' }}\n                      level='3'\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => setContactOpen(!contactOpen)}\n                    >\n                      <Box direction='row'>\n                        <Box pad={{ 'right': 'small' }}>\n                          Contact\n                        </Box>\n                        <Box>\n                          {contactOpen ? <CaretDownFill /> : <CaretRightFill />}\n                        </Box>\n                      </Box>\n                    </Heading>\n\n                    <Collapsible open={contactOpen}>\n                      <FormField\n                        label='Name / function'\n                        style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                        name='contact.name'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Phone'\n                        name='contact.phone'\n                        required\n                        validate={\n                          [\n                            value => {\n                              if (!regexp.phone.exec(value)) {\n                                return 'must be a valid phone number';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Email'\n                        name='contact.email'\n                        required\n                        validate={\n                          [\n                            value => {\n                              if (!regexp.email.exec(value)) {\n                                return 'must be a valid email';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                        label='Website'\n                        name='contact.website'\n                        required\n                        validate={\n                          [\n                            value => {\n                              if (!regexp.uri.exec(value)) {\n                                return 'must be a valid URI';\n                              }\n                            },\n                          ]\n                        }\n                      />\n                    </Collapsible>\n                  </Box>\n\n                  <Box>\n                    <Heading\n                      margin={{ 'left': 'small' }}\n                      level='3'\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => setAddressOpen(!addressOpen)}\n                    >\n                      <Box direction='row'>\n                        <Box pad={{ 'right': 'small' }}>\n                          Address\n                        </Box>\n                        <Box>\n                          {addressOpen ? <CaretDownFill /> : <CaretRightFill />}\n                        </Box>\n                      </Box>\n                    </Heading>\n\n                    <Collapsible open={addressOpen}>\n                      <FormField\n                        label='Street Address'\n                        style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                        name='address.streetAddress'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Locality'\n                        name='address.locality'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Postal Code'\n                        name='address.postalCode'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                        label='Country'\n                        name='address.country'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      >\n                        <Select\n                          name='address.country'\n                          placeholder='Country'\n                          clear\n                          required\n                          options={countries}\n                          onSearch={(text) => {\n                            const escapedText = text.replace(\n                              /[-\\\\^$*+?.()|[\\]{}]/g,\n                              '\\\\$&'\n                            );\n\n                            const exp = new RegExp(escapedText, 'i');\n                            setCountries(\n                              defaultCountries.filter((o) => exp.test(o))\n                            );\n                          }}\n                          onClose={() => setCountries(defaultCountries)}\n                        />\n                      </FormField>\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Subdivision'\n                        name='address.subdivision'\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Premise'\n                        name='address.premise'\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='GPS'\n                        name='address.gps'\n                      />\n                    </Collapsible>\n                  </Box>\n\n                  <Box>\n                    <Heading\n                      margin={{ 'left': 'small' }}\n                      level='3'\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => setOperatorOpen(!operatorOpen)}\n                    >\n                      <Box direction='row'>\n                        <Box pad={{ 'right': 'small' }}>\n                          Operator\n                        </Box>\n                        <Box>\n                          {operatorOpen ? <CaretDownFill /> : <CaretRightFill />}\n                        </Box>\n                      </Box>\n                    </Heading>\n\n                    <Collapsible open={operatorOpen}>\n                      <FormField\n                        // style={{ padding: 10 }}\n                        style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                        label='Operator Name'\n                        name='operator.name'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        label='Street Address'\n                        style={{ padding: 10, marginLeft: 10, marginTop: 10 }}\n                        name='operator.address.streetAddress'\n                        required\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Locality'\n                        name='operator.address.locality'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Postal Code'\n                        name='operator.address.postalCode'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10, marginTop: 0 }}\n                        label='Country'\n                        name='operator.address.country'\n                        required\n                        validate={\n                          [\n                            name => {\n                              if (!name || name === '') {\n                                return 'cannot be empty';\n                              }\n                            },\n                          ]\n                        }\n                      >\n                        <Select\n                          name='operator.address.country'\n                          placeholder='Country'\n                          clear\n                          required\n                          options={countries}\n                          onSearch={(text) => {\n                            const escapedText = text.replace(\n                              /[-\\\\^$*+?.()|[\\]{}]/g,\n                              '\\\\$&'\n                            );\n\n                            const exp = new RegExp(escapedText, 'i');\n                            setCountries(\n                              defaultCountries.filter((o) => exp.test(o))\n                            );\n                          }}\n                          onClose={() => setCountries(defaultCountries)}\n                        />\n                      </FormField>\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Subdivision'\n                        name='operator.address.subdivision'\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Premise'\n                        name='operator.address.premise'\n                      />\n\n                      <FormField\n                        style={{ padding: 10, marginLeft: 10 }}\n                        label='Geometry'\n                        name='operator.address.gps'\n                      />\n                    </Collapsible>\n                  </Box>\n\n                  {unFlattenProfile?.media?.images && unFlattenProfile.media.images.length > 0 &&\n                    <Box>\n                      <Heading\n                        margin={{ 'left': 'small' }}\n                        level='3'\n                      >\n                        Facility Images\n                      </Heading>\n\n                      <Box height='medium' overflow='hidden'>\n                        <Carousel fill initialChild={0}>\n                          {unFlattenProfile.media.images.map(\n                            (image, index: number) => (\n                              <Stack key={index} fill anchor='center'>\n                                <Image\n                                  fill\n                                  height='medium'\n                                  fit='cover'\n                                  src={image.uri}\n                                  title={image.description}\n                                />\n                                <Button\n                                  icon={<Close color='white' />}\n                                  onClick={() => {\n                                    setProfileValue(\n                                      flattenObject({\n                                        ...unFlattenProfile,\n                                        media: {\n                                          ...unFlattenProfile.media,\n                                          images: unFlattenProfile?.media?.images?.filter(\n                                            (_, i) => i !== index\n                                          )\n                                        }\n                                      })\n                                    );\n                                  }}\n                                />\n                              </Stack>\n                            )\n                          )}\n                        </Carousel>\n                      </Box>\n                    </Box>\n                  }\n                </Box>\n\n                <Box alignSelf='start' align='center'>\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Text>Facility Logo</Text>\n\n                    <Stack anchor='top-right'>\n                      <Image\n                        src={\n                          profileValue['media.logo'] === ''\n                            ? '/interior-design.png'\n                            : profileValue['media.logo']\n                        }\n                        fit='cover'\n                        width='110rem'\n                        height='110rem'\n                        style={{\n                          background: 'rgba(255,255,255, 0.5)',\n                          transition: 'all .3s linear',\n                          padding: 40,\n                          border: '1px solid #ccc',\n                        }}\n                      />\n                      {profileValue['media.logo'] === '' ? null : (\n                        <Box\n                          background='brand'\n                          margin='small'\n                          pad={{ horizontal: 'small', vertical: 'small' }}\n                          style={{ cursor: 'pointer' }}\n                          round\n                          onClick={() => setProfileValue({\n                            ...profileValue,\n                            'media.logo': ''\n                          })}\n                        >\n                          <Close color='white' size='small' />\n                        </Box>\n                      )}\n                      {logoUploading &&\n                        <Spinner size='medium' margin={{ top: '80px', right: '80px' }} />\n                      }\n                    </Stack>\n\n                    {profileValue['media.logo'] === '' &&\n                      <FormField htmlFor='fileInput' required>\n                        <FileInput\n                          accept='image/*'\n                          max={1}\n                          maxSize={50000}\n                          messages={{\n                            browse: 'browse',\n                            dropPrompt: 'Drop file here or',\n                            files: 'files',\n                            remove: 'remove',\n                            removeAll: 'remove all',\n                            maxFile: 'Attach a maximum of {max} files only.',\n                          }}\n                          onChange={async (event) => {\n                            setUploadIpfsError(undefined);\n\n                            if (event.target.files) {\n                              const uri = await deployToIpfs(\n                                event.target.files[0],\n                                setLogoUploading,\n                                true\n                              );\n\n                              if (uri) {\n                                setProfileValue({\n                                  ...profileValue,\n                                  'media.logo': uri\n                                });\n                              }\n                            }\n                          }}\n                        />\n                      </FormField>\n                    }\n                  </Box>\n\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    style={{ marginTop: 0 }}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Stack anchor='top-right' style={{ marginTop: 80 }}>\n                      <Button\n                        id='ShowRImage'\n                        onClick={() => setShowImagesLoader(true)}\n                        label='Add Room Images'\n                        style={{\n                          height: 40,\n                          fontSize: 12,\n                          marginTop: 6,\n                        }}\n                      />\n\n                      {showImagesLoader &&\n                        <Layer\n                          style={{ overflow: \"auto\" }}\n                          onEsc={closeImageLoader}\n                          onClickOutside={closeImageLoader}\n                        >\n                          <Box\n                            background=\"brand\"\n                            margin={{ top: \"small\", right: \"small\" }}\n                            style={{\n                              cursor: \"pointer\",\n                              width: 30,\n                              height: 30,\n                              position: \"absolute\",\n                              right: \"0\",\n                            }}\n                            round\n                            align='center'\n                            justify='center'\n                            onClick={closeImageLoader}\n                          >\n                            <Close color=\"white\" size=\"small\" />\n                          </Box>\n\n                          <Card width=\"large\" background=\"light-1\">\n                            <CardHeader>\n                              <Text\n                                style={{\n                                  fontSize: 15,\n                                  fontWeight: \"600\",\n                                  padding: 20,\n                                  paddingBottom: 10,\n                                }}\n                              >\n                                SELECT ROOM IMAGES\n                              </Text>\n                            </CardHeader>\n                            <CardBody style={{ padding: 20 }}>\n                              <form>\n                                <FormField htmlFor=\"fileInput\">\n                                  <FileInput\n                                    accept=\"image/*\"\n                                    multiple={{ max: 5 }}\n                                    messages={{\n                                      browse: \"browse\",\n                                      dropPrompt: \"Drop file here or\",\n                                      dropPromptMultiple: \"Drop files here or\",\n                                      files: \"files\",\n                                      remove: \"remove\",\n                                      removeAll: \"remove all\",\n                                      maxFile:\n                                        \"Attach a maximum of {max} files only.\",\n                                    }}\n                                    onChange={((e: any, { files }: { files: File[] }) => {\n                                      logger.debug(e);\n                                      if (files.length > 0) {\n                                        setImages(files);\n                                      }\n                                    }) as any}\n                                  />\n                                </FormField>\n\n                                {images.length > 0 &&\n                                  <>\n                                    <Heading\n                                      margin={{ 'left': 'small' }}\n                                      level='3'\n                                    >\n                                      IMAGES\n                                    </Heading>\n\n                                    <ul\n                                      style={{ listStyleType: 'none' }}\n                                    >\n                                      <br />\n                                      {images.map((file, index) => (\n                                        <li\n                                          key={index}\n                                          style={{ paddingBottom: 25 }}\n                                        >\n                                          <Box direction=\"row\">\n                                            <img\n                                              style={{ height: 40, width: 40 }}\n                                              alt={file.name}\n                                              src={URL.createObjectURL(file)}\n                                            ></img>\n                                            <textarea\n                                              value={imagesDescriptions[file.name] || ''}\n                                              onChange={(e) => {\n                                                setImagesDescriptions({\n                                                  ...imagesDescriptions,\n                                                  [file.name]: e.target.value\n                                                });\n                                              }}\n                                              required\n                                              placeholder={`add a description for ${file.name}`}\n                                              rows={2}\n                                              cols={40}\n                                              style={{\n                                                padding: 15,\n                                                border: \"1px solid #ccc\",\n                                                marginLeft: 10,\n                                              }}\n                                            ></textarea>\n                                          </Box>\n                                        </li>\n                                      ))}\n                                    </ul>\n\n                                    <Button\n                                      fill={true}\n                                      label={\n                                        <Box direction='row'>\n                                          <Box margin={{ right: 'small' }}>\n                                            <Text>\n                                              Upload\n                                            </Text>\n                                          </Box>\n                                          {imagesUploading &&\n                                            <Spinner color='white' />\n                                          }\n                                        </Box>\n                                      }\n                                      disabled={isLoading || imagesUploading}\n                                      primary\n                                      style={{\n                                        margin: 15,\n                                        height: 50,\n                                        width: \"94%\",\n                                      }}\n                                      onClick={async (e: any) => {\n                                        e.preventDefault();\n                                        setImagesUploading(true);\n\n                                        let unFlattenProfile = unFlattenObject(profileValue);\n\n                                        const initialImagesCount = unFlattenProfile.media.images.length;\n                                        logger.debug('initialImagesCount', initialImagesCount);\n\n                                        for (let i=0; i < images.length; i++) {\n                                          const uri = await deployToIpfs(\n                                            images[i],\n                                            () => {},\n                                            true\n                                          );\n\n                                          if (uri) {\n                                            unFlattenProfile = {\n                                              ...unFlattenProfile,\n                                              media: {\n                                                ...unFlattenProfile.media,\n                                                images: [\n                                                  ...unFlattenProfile.media.images,\n                                                  {\n                                                    uri,\n                                                    description: imagesDescriptions[images[i].name] || ''\n                                                  }\n                                                ]\n                                              }\n                                            };\n                                          }\n                                        }\n\n                                        setProfileValue(flattenObject(unFlattenProfile));\n\n                                        setImagesUploading(false);\n                                        closeImageLoader();\n                                      }}\n                                    />\n                                  </>\n                                }\n                              </form>\n                            </CardBody>\n                          </Card>\n                        </Layer>\n                      }\n\n                    </Stack>\n\n                  </Box>\n                </Box>\n              </Grid>\n            </CardBody>\n            <CardFooter pad={{ horizontal: 'small' }} background='light-2'>\n              <Box\n                direction='row'\n                justify='between'\n                width='xxlarge'\n                margin={'medium'}\n              >\n                <Button size='large' type='reset' label='Reset' />\n                <Box direction='column' align='center'>\n                  <Box>\n                    <Button\n                      type='submit'\n                      size='large'\n                      label={\n                        <Box direction='row'>\n                          <Box margin={{ right: 'small' }}>\n                            {isUpdateMode ? 'Update' : 'Save'}\n                          </Box>\n                          {profileCreating &&\n                            <Spinner color='white' />\n                          }\n                        </Box>\n                      }\n                      disabled={isLoading || profileCreating}\n                      primary\n                    />\n                  </Box>\n                  {hashLink !== null && hash &&\n                    <Box margin={{ top: 'small' }}>\n                      <ExternalLink\n                        href={hashLink}\n                        label={centerEllipsis(hash)}\n                      />\n                    </Box>\n                  }\n                </Box>\n\n              </Box>\n            </CardFooter>\n          </Card>\n\n          <MessageBox type='error' show={!!validationError}>\n            <Box>\n              {validationError}\n            </Box>\n          </MessageBox>\n        </Form>\n      }\n    </>\n  );\n};\n","import { Box } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { FacilityProfileCard } from \"../components/rooms/FacilityProfileCard\";\n\nexport const FacilityProfile = (): JSX.Element => {\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: \"/\",\n          label: \"Home\",\n        },\n        {\n          path: \"/facilities\",\n          label: \"Facilities\",\n        },\n      ]}\n    >\n      <Box\n        alignSelf=\"center\"\n        style={{\n          paddingBottom: 50,\n          border: \"0px solid red\",\n          width: \"100%\",\n        }}\n      >\n        <FacilityProfileCard />\n      </Box>\n    </PageWrapper>\n  );\n};\n","import type { SpaceRaw } from 'stays-data-models';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport {\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Button,\n  Box,\n  Image,\n  Text,\n  TextArea,\n  Form,\n  Grid,\n  FormField,\n  FileInput,\n  Layer,\n  Heading,\n  Select,\n  Spinner,\n  Stack,\n  Carousel,\n} from 'grommet';\nimport { Close } from 'grommet-icons';\nimport { useParams } from 'react-router-dom';\n// import { regexp } from '@windingtree/org.id-utils';\nimport ReactTagInput from '@pathofdev/react-tag-input';\nimport { MessageBox } from '../MessageBox';\nimport { ExternalLink } from '../ExternalLink';\nimport { validateSpaceData } from 'stays-data-models/dist/src/validators';\nimport { enumerators } from 'stays-data-models';\nimport { centerEllipsis } from '../../utils/strings';\nimport { useAppState } from '../../store';\nimport { useWeb3StorageApi } from '../../hooks/useWeb3StorageApi';\nimport { useContract } from './../../hooks/useContract';\nimport { useWindowsDimension } from '../../hooks/useWindowsDimension';\nimport { useGoToMessage } from '../../hooks/useGoToMessage';\nimport { ResponsiveColumn } from '../../utils/roomProfile';\nimport { getNetwork } from '../../config';\nimport Logger from '../../utils/logger';\nimport '@pathofdev/react-tag-input/build/index.css';\n\n// Initialize logger\nconst logger = Logger('SpaceProfileCard');\n\nexport const defaultFormValue: SpaceRaw = {\n  name: '',\n  description: '',\n  type: '',\n  amenities: [],\n  capacity: 1,\n  guestsNumber: 1,\n  beds: 1,\n  price: '',\n  media: {\n    logo: '',\n    images: []\n  }\n};\n\nconst flattenObject = (obj: any, prefix = ''): Record<string, any> =>\n  Object\n    .keys(obj)\n    .reduce(\n      (acc, key) => {\n        const pre = prefix.length ? prefix + '.' : '';\n        acc = {\n          ...acc,\n          ...(\n            typeof obj[key] === 'object'\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              ? flattenObject(obj[key], pre + key)\n              : {\n                [pre + key]: obj[key]\n              }\n          )\n        };\n        return acc;\n      },\n      {}\n    );\n\nconst unFlattenObject = (obj: Record<string, any>) => {\n  const result: any = {};\n  for (let i in obj) {\n    const keys = i.split('.');\n    keys.reduce(\n      (acc, key, j) => {\n        return acc[key] ||\n          (acc[key] = isNaN(Number(keys[j + 1])) ? (keys.length - 1 === j ? obj[i] : {}) : [])\n      },\n      result\n    );\n  }\n  return result;\n};\n\nexport const SpaceProfileCard = () => {\n  const { facilityId, id } = useParams<{ facilityId: string, id: string }>();\n  const showMessage = useGoToMessage();\n  const { winWidth } = useWindowsDimension();\n  const {\n    provider,\n    ipfsNode,\n    ownFacilities,\n    ownFacilitiesLoading,\n    ownFacilitiesRefresh\n  } = useAppState();\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n  const web3Storage = useWeb3StorageApi(ipfsNode);\n  const [profileValue, setProfileValue] = useState<Record<string, any>>(flattenObject(defaultFormValue));\n  const [showImagesLoader, setShowImagesLoader] = useState<boolean>(false);\n  const [uploadIpfsError, setUploadIpfsError] = useState<string | undefined>();\n  const [facilityError, setFacilityError] = useState<string | undefined>();\n  const [facilityLoading, setFacilityLoading] = useState<boolean>(false);\n  const [logoUploading, setLogoUploading] = useState<boolean>(false);\n  const [imagesUploading, setImagesUploading] = useState<boolean>(false);\n  const [images, setImages] = useState<File[]>([]);\n  const [imagesDescriptions, setImagesDescriptions] = useState<Record<string, string>>({});\n  const [validationError, setValidationError] = useState<string | undefined>();\n  const [hash, setHash] = useState<string | undefined>();\n  const [profileCreating, setProfileCreating] = useState<boolean>(false);\n\n  // editing scope\n  const [selectedFacilityProfile, setSelectedFacilityProfile] = useState<SpaceRaw | undefined>();\n\n  const isLoading = useMemo<boolean>(\n    () => !!!web3Storage || loadingContract,\n    [web3Storage, loadingContract]\n  );\n\n  useEffect(\n    () => {\n      if (isLoading || !id || !facilityId || !!!ownFacilities) {\n        setSelectedFacilityProfile(undefined);\n        return;\n      }\n\n      try {\n        setFacilityError(undefined);\n        setFacilityLoading(true);\n\n        const facility = ownFacilities.find(\n          f => f.contractData.lodgingFacilityId === facilityId\n        );\n\n        if (!facility) {\n          if (!ownFacilitiesLoading) {\n            throw new Error(\n              `Unable find the facility with Id: ${facilityId}`\n            );\n          }\n          setSelectedFacilityProfile(undefined);\n          return;\n        }\n\n        const space = facility.spaces.find(s => s.spaceId === id);\n\n        if (!space) {\n          throw new Error(\n            `Unable find the space with Id: ${id}`\n          );\n        }\n\n        const profile = JSON.parse(JSON.stringify(space));\n        delete profile.spaceId;\n        delete profile.tokens;\n        delete profile.contractData;\n        delete profile.updated;\n\n        setSelectedFacilityProfile(profile);\n        setProfileValue(flattenObject(profile));\n        logger.debug('Selected space profile', profile);\n        setFacilityLoading(false);\n      } catch (err) {\n        logger.error(err);\n        setFacilityError(\n          (err as Error).message || 'Unknown space loading error'\n        );\n        setFacilityLoading(false);\n      }\n    },\n    [facilityId, id, ownFacilities, ownFacilitiesLoading, isLoading]\n  );\n\n  // true - update; false - create\n  const isUpdateMode = useMemo(\n    () => !!selectedFacilityProfile,\n    [selectedFacilityProfile]\n  );\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork();\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null;\n  }, [hash]);\n\n  const closeImageLoader = () => {\n    setImages([]);\n    setImagesDescriptions({});\n    setShowImagesLoader(false);\n  };\n\n  const unFlattenProfile = useMemo<SpaceRaw>(\n    () => unFlattenObject(profileValue),\n    [profileValue]\n  );\n\n  const deployToIpfs = useCallback(\n    async (\n      file: File,\n      loadingSetter = () => {},\n      isImage = false\n    ) => {\n      try {\n        if (!web3Storage) {\n          throw new Error(\"IPFS API not ready yet\");\n        }\n        loadingSetter(true);\n        const { cid } = await web3Storage.add(file);\n        const uri = isImage\n          ? `https://${cid}.ipfs.dweb.link`\n          : `ipfs://${cid}`;\n        loadingSetter(false);\n        return uri;\n      } catch (err) {\n        logger.error(err);\n        setUploadIpfsError(\n          (err as Error).message || 'Unknown IPFS uploader error'\n        );\n        loadingSetter(false);\n        return null;\n      }\n    },\n    [web3Storage]\n  );\n\n  const handleSubmit = useCallback(\n    async () => {\n      setValidationError(undefined);\n\n      try {\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n\n        if (!facilityId) {\n          throw new Error(\n            'Facility Id is required but not found in the configuration'\n          );\n        }\n\n        setProfileCreating(true);\n\n        const profileData = unFlattenObject(profileValue) as SpaceRaw;\n\n        logger.debug('profileData', profileData);\n        validateSpaceData(profileData);\n\n        if (isUpdateMode) {\n          if (!id) {\n            throw new Error(\n              'Id of the space is required but not found in the configuration'\n            );\n          }\n\n          await contract.updateSpace(\n            id,\n            profileData,\n            undefined,\n            setHash,\n            undefined\n          );\n        } else {\n          await contract.addSpace(\n            profileData,\n            facilityId,\n            profileData.capacity,\n            profileData.price,\n            true,\n            undefined,\n            setHash,\n            undefined\n          );\n        }\n\n        if (ownFacilitiesRefresh) {\n          ownFacilitiesRefresh();\n        }\n\n        await new Promise(resolve => setTimeout(resolve, 10000));\n\n        setProfileCreating(false);\n\n        showMessage(\n          `The Space \"${profileData.name}\" has been successfully ${isUpdateMode ? 'updated' : 'created'}`,\n          'info',\n          '/facilities',\n          'Back to my Lodging Facilities'\n        );\n      } catch (err) {\n        logger.error(err);\n        setValidationError(\n          (err as Error).message ||\n          'Unknown profile validation error'\n        );\n        setProfileCreating(false);\n      }\n    },\n    [showMessage, isUpdateMode, profileValue, facilityId, id,\n      contract, ownFacilitiesRefresh]\n  );\n\n  return (\n    <>\n      <MessageBox type='info' show={isLoading}>\n        <Box direction='row'>\n          <Box>\n            Profile form dependencies are loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={facilityLoading}>\n        <Box direction='row'>\n          <Box>\n            Space is profile loading. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!uploadIpfsError}>\n        <Box>\n          {uploadIpfsError}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!facilityError}>\n        <Box>\n          {facilityError}\n        </Box>\n      </MessageBox>\n\n      {!isLoading &&\n        <Form\n          value={profileValue}\n          validate='change'\n          onReset={() => {\n            setProfileValue(flattenObject(defaultFormValue));\n            closeImageLoader();\n          }}\n          onSubmit={handleSubmit}\n          onChange={nextValue => setProfileValue(nextValue)}\n        >\n          <Card width='xxlarge' elevation='xsmall' background='light-3'>\n            <CardHeader pad='medium'>\n              <Heading margin='none' level='3'>\n                Space Profile\n              </Heading>\n            </CardHeader>\n            <CardBody\n              pad='medium'\n              alignSelf='start'\n              background='#fff'\n              width='xxlarge'\n            >\n              <Grid\n                columns={ResponsiveColumn(winWidth)}\n                responsive={true}\n              >\n                <Box>\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Name'\n                    name='name'\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Description'\n                    name='description'\n                    htmlFor='text-area'\n                    component={TextArea}\n                    required\n                    validate={\n                      [\n                        name => {\n                          if (!name || name === '') {\n                            return 'cannot be empty';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Type'\n                    name='type'\n                    required\n                  >\n                    <Select\n                      name='type'\n                      style={{ textTransform: 'capitalize' }}\n                      placeholder='Select Space Type'\n                      required\n                      clear\n                      options={enumerators.allowedSpaceTypes}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Amenities'\n                    name='amenities'\n                  >\n                    <ReactTagInput\n                      tags={unFlattenProfile.amenities || []}\n                      placeholder=\"Type and press enter\"\n                      editable={true}\n                      readOnly={false}\n                      removeOnBackspace={true}\n                      onChange={newTags => {\n                        const profileClone =\n                          JSON.parse(JSON.stringify(unFlattenProfile));\n                        profileClone.amenities = newTags;\n                        setProfileValue(flattenObject(profileClone));\n                      }}\n                      validator={value => {\n                        return true;\n                      }}\n                    />\n                  </FormField>\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Capacity'\n                    name='capacity'\n                    type='number'\n                    defaultValue={1}\n                    required\n                    validate={\n                      [\n                        value => {\n                          if (!value || value === 0) {\n                            return 'cannot be equal to zero';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Guests number'\n                    name='guestsNumber'\n                    type='number'\n                    defaultValue={1}\n                    required\n                    validate={\n                      [\n                        value => {\n                          if (!value || value === 0) {\n                            return 'cannot be equal to zero';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Beds'\n                    name='beds'\n                    type='number'\n                    defaultValue={1}\n                    required\n                    validate={\n                      [\n                        value => {\n                          if (!value || value === 0) {\n                            return 'cannot be equal to zero';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  <FormField\n                    style={{ padding: 10 }}\n                    label='Price'\n                    name='price'\n                    type='number'\n                    defaultValue={1}\n                    required\n                    validate={\n                      [\n                        value => {\n                          if (!value || value === 0) {\n                            return 'cannot be equal to zero';\n                          }\n                        },\n                      ]\n                    }\n                  />\n\n                  {unFlattenProfile?.media?.images && unFlattenProfile.media.images.length > 0 &&\n                    <Box>\n                      <Heading\n                        margin={{ 'left': 'small' }}\n                        level='3'\n                      >\n                        Facility Images\n                      </Heading>\n\n                      <Box height='medium' overflow='hidden'>\n                        <Carousel fill initialChild={0}>\n                          {unFlattenProfile.media.images.map(\n                            (image, index: number) => (\n                              <Stack key={index} fill anchor='center'>\n                                <Image\n                                  fill\n                                  height='medium'\n                                  fit='cover'\n                                  src={image.uri}\n                                  title={image.description}\n                                />\n                                <Button\n                                  icon={<Close color='white' />}\n                                  onClick={() => {\n                                    setProfileValue(\n                                      flattenObject({\n                                        ...unFlattenProfile,\n                                        media: {\n                                          ...unFlattenProfile.media,\n                                          images: unFlattenProfile?.media?.images?.filter(\n                                            (_, i) => i !== index\n                                          )\n                                        }\n                                      })\n                                    );\n                                  }}\n                                />\n                              </Stack>\n                            )\n                          )}\n                        </Carousel>\n                      </Box>\n                    </Box>\n                  }\n                </Box>\n\n                <Box alignSelf='start' align='center'>\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Text>The Space Logo</Text>\n\n                    <Stack anchor='top-right'>\n                      <Image\n                        src={\n                          profileValue['media.logo'] === ''\n                            ? '/interior-design.png'\n                            : profileValue['media.logo']\n                        }\n                        fit='cover'\n                        width='110rem'\n                        height='110rem'\n                        style={{\n                          background: 'rgba(255,255,255, 0.5)',\n                          transition: 'all .3s linear',\n                          padding: 40,\n                          border: '1px solid #ccc',\n                        }}\n                      />\n                      {profileValue['media.logo'] === '' ? null : (\n                        <Box\n                          background='brand'\n                          margin='small'\n                          pad={{ horizontal: 'small', vertical: 'small' }}\n                          style={{ cursor: 'pointer' }}\n                          round\n                          onClick={() => setProfileValue({\n                            ...profileValue,\n                            'media.logo': ''\n                          })}\n                        >\n                          <Close color='white' size='small' />\n                        </Box>\n                      )}\n                      {logoUploading &&\n                        <Spinner size='medium' margin={{ top: '80px', right: '80px' }} />\n                      }\n                    </Stack>\n\n                    {profileValue['media.logo'] === '' &&\n                      <FormField htmlFor='fileInput' required>\n                        <FileInput\n                          accept='image/*'\n                          max={1}\n                          maxSize={50000}\n                          messages={{\n                            browse: 'browse',\n                            dropPrompt: 'Drop file here or',\n                            files: 'files',\n                            remove: 'remove',\n                            removeAll: 'remove all',\n                            maxFile: 'Attach a maximum of {max} files only.',\n                          }}\n                          onChange={async (event) => {\n                            setUploadIpfsError(undefined);\n\n                            if (event.target.files) {\n                              const uri = await deployToIpfs(\n                                event.target.files[0],\n                                setLogoUploading,\n                                true\n                              );\n\n                              if (uri) {\n                                setProfileValue({\n                                  ...profileValue,\n                                  'media.logo': uri\n                                });\n                              }\n                            }\n                          }}\n                        />\n                      </FormField>\n                    }\n                  </Box>\n\n                  <Box\n                    direction='column'\n                    align='center'\n                    gap={'small'}\n                    style={{ marginTop: 0 }}\n                    pad={{ top: 'medium' }}\n                  >\n                    <Stack anchor='top-right' style={{ marginTop: 80 }}>\n                      <Button\n                        onClick={() => setShowImagesLoader(true)}\n                        label='Add Space Images'\n                        style={{\n                          height: 40,\n                          fontSize: 12,\n                          marginTop: 6,\n                        }}\n                      />\n\n                      {showImagesLoader &&\n                        <Layer\n                          style={{ overflow: \"auto\" }}\n                          onEsc={closeImageLoader}\n                          onClickOutside={closeImageLoader}\n                        >\n                          <Box\n                            background=\"brand\"\n                            margin={{ top: \"small\", right: \"small\" }}\n                            style={{\n                              cursor: \"pointer\",\n                              width: 30,\n                              height: 30,\n                              position: \"absolute\",\n                              right: \"0\",\n                            }}\n                            round\n                            align='center'\n                            justify='center'\n                            onClick={closeImageLoader}\n                          >\n                            <Close color=\"white\" size=\"small\" />\n                          </Box>\n\n                          <Card width=\"large\" background=\"light-1\">\n                            <CardHeader>\n                              <Text\n                                style={{\n                                  fontSize: 15,\n                                  fontWeight: \"600\",\n                                  padding: 20,\n                                  paddingBottom: 10,\n                                }}\n                              >\n                                SELECT SPACE IMAGES\n                              </Text>\n                            </CardHeader>\n                            <CardBody style={{ padding: 20 }}>\n                              <form>\n                                <FormField htmlFor=\"fileInput\">\n                                  <FileInput\n                                    accept=\"image/*\"\n                                    multiple={{ max: 5 }}\n                                    messages={{\n                                      browse: \"browse\",\n                                      dropPrompt: \"Drop file here or\",\n                                      dropPromptMultiple: \"Drop files here or\",\n                                      files: \"files\",\n                                      remove: \"remove\",\n                                      removeAll: \"remove all\",\n                                      maxFile:\n                                        \"Attach a maximum of {max} files only.\",\n                                    }}\n                                    onChange={((e: any, { files }: { files: File[] }) => {\n                                      logger.debug(e);\n                                      if (files.length > 0) {\n                                        setImages(files);\n                                      }\n                                    }) as any}\n                                  />\n                                </FormField>\n\n                                {images.length > 0 &&\n                                  <>\n                                    <Heading\n                                      margin={{ 'left': 'small' }}\n                                      level='3'\n                                    >\n                                      IMAGES\n                                    </Heading>\n\n                                    <ul\n                                      style={{ listStyleType: 'none' }}\n                                    >\n                                      <br />\n                                      {images.map((file, index) => (\n                                        <li\n                                          key={index}\n                                          style={{ paddingBottom: 25 }}\n                                        >\n                                          <Box direction=\"row\">\n                                            <img\n                                              style={{ height: 40, width: 40 }}\n                                              alt={file.name}\n                                              src={URL.createObjectURL(file)}\n                                            ></img>\n                                            <textarea\n                                              value={imagesDescriptions[file.name] || ''}\n                                              onChange={(e) => {\n                                                setImagesDescriptions({\n                                                  ...imagesDescriptions,\n                                                  [file.name]: e.target.value\n                                                });\n                                              }}\n                                              required\n                                              placeholder={`add a description for ${file.name}`}\n                                              rows={2}\n                                              cols={40}\n                                              style={{\n                                                padding: 15,\n                                                border: \"1px solid #ccc\",\n                                                marginLeft: 10,\n                                              }}\n                                            ></textarea>\n                                          </Box>\n                                        </li>\n                                      ))}\n                                    </ul>\n\n                                    <Button\n                                      fill={true}\n                                      label={\n                                        <Box direction='row'>\n                                          <Box margin={{ right: 'small' }}>\n                                            <Text>\n                                              Upload\n                                            </Text>\n                                          </Box>\n                                          {imagesUploading &&\n                                            <Spinner color='white' />\n                                          }\n                                        </Box>\n                                      }\n                                      disabled={isLoading || imagesUploading}\n                                      primary\n                                      style={{\n                                        margin: 15,\n                                        height: 50,\n                                        width: \"94%\",\n                                      }}\n                                      onClick={async (e: any) => {\n                                        e.preventDefault();\n                                        setImagesUploading(true);\n\n                                        let profileClone = JSON.parse(JSON.stringify(unFlattenProfile)) as SpaceRaw;\n\n                                        const initialImagesCount = profileClone?.media?.images?.length || 0;\n                                        logger.debug('initialImagesCount', initialImagesCount);\n\n                                        for (let i=0; i < images.length; i++) {\n                                          const uri = await deployToIpfs(\n                                            images[i],\n                                            () => {},\n                                            true\n                                          );\n\n                                          if (uri) {\n                                            profileClone = {\n                                              ...unFlattenProfile,\n                                              media: {\n                                                ...unFlattenProfile.media,\n                                                images: [\n                                                  ...(unFlattenProfile?.media?.images || []),\n                                                  {\n                                                    uri,\n                                                    description: imagesDescriptions[images[i].name] || ''\n                                                  }\n                                                ]\n                                              }\n                                            };\n                                          }\n                                        }\n\n                                        setProfileValue(flattenObject(profileClone));\n\n                                        setImagesUploading(false);\n                                        closeImageLoader();\n                                      }}\n                                    />\n                                  </>\n                                }\n                              </form>\n                            </CardBody>\n                          </Card>\n                        </Layer>\n                      }\n\n                    </Stack>\n\n                  </Box>\n                </Box>\n              </Grid>\n            </CardBody>\n            <CardFooter pad={{ horizontal: 'small' }} background='light-2'>\n              <Box\n                direction='row'\n                justify='between'\n                width='xxlarge'\n                margin={'medium'}\n              >\n                <Button size='large' type='reset' label='Reset' />\n                <Box direction='column' align='center'>\n                  <Box>\n                    <Button\n                      type='submit'\n                      size='large'\n                      label={\n                        <Box direction='row'>\n                          <Box margin={{ right: 'small' }}>\n                            {isUpdateMode ? 'Update' : 'Save'}\n                          </Box>\n                          {profileCreating &&\n                            <Spinner color='white' />\n                          }\n                        </Box>\n                      }\n                      disabled={isLoading || profileCreating}\n                      primary\n                    />\n                  </Box>\n                  {hashLink !== null && hash &&\n                    <Box margin={{ top: 'small' }}>\n                      <ExternalLink\n                        href={hashLink}\n                        label={centerEllipsis(hash)}\n                      />\n                    </Box>\n                  }\n                </Box>\n\n              </Box>\n            </CardFooter>\n          </Card>\n\n          <MessageBox type='error' show={!!validationError}>\n            <Box>\n              {validationError}\n            </Box>\n          </MessageBox>\n        </Form>\n      }\n    </>\n  );\n};\n","import { Box } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { SpaceProfileCard } from \"../components/rooms/SpaceProfileCard\";\n\nexport const SpaceProfile = (): JSX.Element => {\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: \"/\",\n          label: \"Home\",\n        },\n        {\n          path: \"/facilities\",\n          label: \"Facilities\",\n        },\n      ]}\n    >\n      <Box\n        alignSelf=\"center\"\n        style={{\n          paddingBottom: 50,\n          border: \"0px solid red\",\n          width: \"100%\",\n        }}\n      >\n        <SpaceProfileCard />\n      </Box>\n    </PageWrapper>\n  );\n};\n","import { Text, Spinner, Box } from 'grommet';\nimport styled from 'styled-components';\nimport { CustomButton } from '../SearchResultCard';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\nexport const BookWithDai: React.FC<{\n  loading: boolean; disabled: boolean; onClick: () => void\n}> = ({ loading, disabled, onClick }) => {\n\n  return (\n    <CustomButton\n      onClick={() => onClick()}\n      disabled={disabled}\n    >\n      {() => (\n        <Box justify='center' direction='row' align='center' pad='small'>\n          <Text>\n            Book with DAI\n          </Text>\n          {loading && <InnerSpinner />}\n        </Box>\n      )}\n    </CustomButton>\n  )\n};\n","import type { ReactNode } from 'react';\nimport { Box, Layer } from 'grommet';\n\nexport interface ModalProps {\n  show: boolean;\n  onClose: () => void;\n  children: ReactNode;\n}\n\nexport const Modal = ({\n  show = false,\n  onClose,\n  children\n}: ModalProps) => {\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Box>\n      <Layer\n        style={{\n          borderRadius: '2rem',\n        }}\n        onEsc={() => onClose()}\n        onClickOutside={() => onClose()}\n      >\n        <Box responsive>\n          {children}\n        </Box>\n      </Layer>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { TypedDataField } from '@ethersproject/abstract-signer';\nimport type { StaysVoucher } from 'stays-smart-contracts';\nimport { createVoucher } from 'stays-smart-contracts';\nimport { useMemo, useCallback } from 'react';\nimport { getNetwork } from '../config';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useSignVoucher');\n\nconst network = getNetwork();\n\nexport { TypedDataField }\n\nexport type UseSignTypedDataHook = [\n  signCallback: (from: string, to: string, tokenId: string) => Promise<StaysVoucher>,\n  isReady: boolean\n];\n\nexport const useSignVoucher = (\n  provider: providers.JsonRpcProvider | undefined\n): UseSignTypedDataHook => {\n  const isReady = useMemo(() => !!provider, [provider]);\n\n  const signCallback = useCallback(\n    async (from: string, to: string, tokenId: string): Promise<StaysVoucher> => {\n      if (!!!provider) {\n        throw new Error('Signature provider is not ready yet');\n      }\n\n      const signer = provider.getSigner();\n      const signerAddress = await signer.getAddress();\n\n      if (from !== signerAddress) {\n        throw new Error('The signer address and \"from\" address must be equal');\n      }\n\n      if (!to) {\n        throw new Error('Stay voucher recipient not defined');\n      }\n\n      const voucher = createVoucher(\n        signer,\n        from,\n        to,\n        tokenId,\n        network.address,\n        network.chainId\n      );\n      logger.debug('Voucher', voucher);\n\n      return voucher;\n    },\n    [provider]\n  );\n\n  return [signCallback, isReady];\n};\n","import type { providers } from 'ethers';\nimport { useState, useCallback } from 'react';\nimport { Box, Grid, Text } from 'grommet';\nimport { Modal } from '../components/Modal';\nimport QRCode from 'react-qr-code';\nimport { useSignVoucher } from '../hooks/useSignVoucher';\nimport Logger from '../utils/logger';\nimport styled from 'styled-components';\nimport { CustomButton } from './SearchResultCard';\n\n// Initialize logger\nconst logger = Logger('StayVoucherQr');\n\nexport const Title = styled(Text)`\n  color: #0D0E0F;\n  font-weight: 900;\n  font-size: 28px;\n  line-height: 32px;\n  // margin-bottom: .5rem;\n`;\n\nconst Price = styled(Text)`\n  color: #0D0E0F;\n  font-weight: 900;\n  font-size: 28px;\n  line-height: 32px;\n  margin-top: .5rem;\n`;\n\nconst HotelTitle = styled(Text)`\n  color: #0D0E0F;\n  font-weight: 900;\n  font-size: 22px;\n  line-height: 28px;\n  margin-bottom: .5rem;\n  margin-top: 1.5rem;\n`;\n\nexport const CustomText = styled(Text)`\n  color: #0D0E0F;\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 24px;\n  text-align: start;\n  // text-justify: center;\n`;\n\nexport interface StayVoucherQrProps {\n  provider: providers.JsonRpcProvider | undefined,\n  from: string | undefined,\n  to: string | undefined,\n  tokenId: string,\n  onError: (error: string) => void\n}\n\nexport const StayVoucherQr = ({\n  provider,\n  from,\n  to,\n  tokenId,\n  onError\n}: StayVoucherQrProps) => {\n  const [signCallback, isSignerReady] = useSignVoucher(provider);\n  const [qrData, setQrData] = useState<string | undefined>();\n\n  const downloadQr = (qrId: string): void => {\n    const xml = (document as any).getElementById(qrId).outerHTML;\n    const data = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(xml)}`;\n    const downloadElem = document.createElement('a');\n    downloadElem.setAttribute('href', data);\n    downloadElem.setAttribute('download', 'StaysVoucherQr.svg');\n    downloadElem.click();\n  }\n\n  const handleGetQr = useCallback(\n    async () => {\n      try {\n        if (!from) {\n          throw new Error('Signer account is not connected yet');\n        }\n\n        if (!to) {\n          throw new Error('Stay voucher recipient not defined');\n        }\n\n        const voucher = await signCallback(\n          from,\n          to,\n          tokenId\n        );\n\n        setQrData(JSON.stringify(voucher));\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message ||\n          'Unknown QrTest error'\n        onError(message);\n      }\n    },\n    [signCallback, onError, from, to, tokenId]\n  );\n\n  if (!isSignerReady) {\n    return null;\n  }\n\n  return (\n    <Box>\n      <CustomButton\n        label='Get check-in QR'\n        onClick={handleGetQr}\n      />\n\n      <Modal\n        show={!!qrData && typeof qrData === 'string'}\n        onClose={() => setQrData(undefined)}\n      >\n        {typeof qrData === 'string' &&\n          <Grid\n            height='33rem'\n            pad='large'\n            gap='1rem'\n            columns={['17rem', '16rem']}\n            rows={['16rem', '16em']}\n            areas={[\n              { name: 'label', start: [0, 0], end: [0, 1] },\n              { name: 'qr', start: [1, 0], end: [1, 0] },\n              { name: 'hotel-data', start: [0, 1], end: [1, 1] },\n            ]}\n          >\n            <Box\n              gridArea='label'\n              direction='column'\n              align='start'\n            >\n              <Title style={{marginBottom: '.5rem'}}>You stay is booked and is now an NFT.</Title>\n              <CustomText>Please take a picture or download the QR code as it will be used for you to check-in at the property.</CustomText>\n              <CustomButton\n                label='Download QR'\n                margin={{ top: '1.5rem' }}\n                onClick={() => downloadQr(qrData.substring(0, 10))}\n              />\n            </Box>\n            <Box\n              gridArea='qr'\n            >\n              <QRCode\n                size={256}\n                id={qrData.substring(0, 10)}\n                value={qrData}\n              />\n            </Box>\n            <Box\n              gridArea='hotel-data'\n              border='top'\n            >\n              <HotelTitle>Hotel Jakarta Amsterdam</HotelTitle>\n              <CustomText>Nieuwezijds Voorburgwal 50, 1012 SC Amsterdam, The Netherlands.</CustomText>\n              <CustomText>25.03.22 - 27.03.22</CustomText>\n              <CustomText>Economy Double Room, 2 persons.</CustomText>\n              <Price>xxx</Price>\n            </Box>\n          </Grid>\n        }\n      </Modal>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { StayToken } from 'stays-core';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useCallback, useEffect } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\n\n// Initialize logger\nconst logger = Logger('useMyTokens');\n\nexport type UseMyTokensHook = [\n  tokens: StayToken[],\n  loading: boolean,\n  error: string | undefined\n];\n\nexport type UseGetTokenHook = [\n  token: StayToken | undefined,\n  facilityOwner: string | undefined,\n  loading: boolean,\n  error: string | undefined\n];\n\nexport const useMyTokens = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  account: string | undefined\n): UseMyTokensHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [tokens, setTokens] = useState<StayToken[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const loadTokens = useCallback(\n    async (owner) => {\n      if (!contract || !owner) {\n        return;\n      }\n      try {\n        setError(undefined);\n        setLoading(true);\n        logger.debug('Start loading tokens');\n\n        const tokensIds = await contract.getTokensOfOwner(owner);\n        logger.debug('tokensIds', tokensIds);\n\n        const tokensOfOwner = await Promise.all(\n          tokensIds.map(\n            tokenId => contract.getToken(tokenId)\n          )\n        );\n        setTokens(tokensOfOwner);\n        logger.debug('tokensOfOwner', tokensOfOwner);\n\n        setLoading(false);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useMyTokens error';\n        setError(message);\n        setLoading(false);\n      }\n    },\n    [contract]\n  );\n\n  useEffect(\n    () => {\n      setError(contractError);\n    },\n    [contractError]\n  );\n\n  useEffect(\n    () => {\n      loadTokens(account);\n      return () => setTokens([]);\n    },\n    [loadTokens, account]\n  );\n\n  return [tokens, loading, error];\n};\n\nexport const useGetToken = (\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n  tokenId: string | undefined\n): UseGetTokenHook => {\n  const [contract,, contractError] = useContract(provider, ipfsNode);\n  const [token, setToken] = useState<StayToken | undefined>();\n  const [facilityOwner, setFacilityOwner] = useState<string | undefined>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const getToken = useCallback(\n    async (id: string | undefined) => {\n      if (!contract || !id) {\n        setToken(undefined);\n        // setToken({\n        //   tokenId: '1',\n        //   owner: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n        //   tokenUri: '',\n        //   data: {\n        //     name: 'Stays #1',\n        //     description: 'Stay at lodging facility',\n        //     image: 'https://bafybeigg7mwwpnnm6mmk3twxc4arizoyc6ijnaye3pdciwcohheo7xi7hm.ipfs.dweb.link/token-image.png',\n        //     external_url: 'https://localhost:3000/space/0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F',\n        //     attributes: [\n        //       {\n        //         trait_type: 'facilityId',\n        //         value: '0x75663CE0EB08ACE9FD7FFB90BCC405E494180FA0E2734A50E78E81FA67CF316B'\n        //       },\n        //       {\n        //         trait_type: 'spaceId',\n        //         value: '0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F'\n        //       },\n        //       {\n        //         trait_type: 'startDay',\n        //         value: '1'\n        //       },\n        //       {\n        //         trait_type: 'numberOfDays',\n        //         value: '1'\n        //       },\n        //       {\n        //         trait_type: 'quantity',\n        //         value: '1'\n        //       }\n        //     ]\n        //   }\n        // });\n        return;\n      }\n      try {\n        setError(undefined);\n        setLoading(true);\n\n        const token = await contract.getToken(id);\n        setToken(token);\n\n        const facilityIdAttribute = token.data.attributes?.find(\n          attribute => attribute.trait_type === 'facilityId'\n        );\n\n        if (!facilityIdAttribute) {\n          throw new Error(\n            'Unable to find facilityId in the Stay token metadata'\n          );\n        }\n\n        const facility = await contract.getLodgingFacility(\n          facilityIdAttribute.value\n        );\n\n        if (!facility) {\n          throw new Error(\n            `Unable to the lodging facility by Id: ${facilityIdAttribute.value}`\n          );\n        }\n\n        setFacilityOwner(facility.contractData.owner);\n\n        setLoading(false);\n      } catch (err) {\n        logger.error(err);\n        const message = (err as Error).message || 'Unknown useGetToken error';\n        setError(message);\n        setLoading(false);\n      }\n    },\n    [contract]\n  );\n\n  useEffect(\n    () => {\n      setError(contractError);\n    },\n    [contractError]\n  );\n\n  useEffect(\n    () => {\n      getToken(tokenId);\n      return () => setToken(undefined);\n    },\n    [getToken, tokenId]\n  );\n\n  return [token, facilityOwner, loading, error];\n};\n","import type { StayToken, TokenData } from 'stays-core';\nimport { ReactChild, useCallback, useMemo, useState } from 'react';\nimport { DateTime } from 'luxon';\nimport * as Icons from 'grommet-icons';\nimport { Grid, Spinner, Button, Box, Image, Text } from 'grommet';\nimport { PageWrapper } from './PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { CustomText, Title, StayVoucherQr } from '../components/StayVoucherQr';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { useAppState } from '../store';\n// import { useWindowsDimension } from \"../hooks/useWindowsDimension\";\nimport { useMyTokens, useGetToken } from '../hooks/useMyTokens';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { useContract } from '../hooks/useContract';\nimport { centerEllipsis } from '../utils/strings';\nimport { getNetwork } from '../config';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { useGoToMessage } from '../hooks/useGoToMessage';\nimport { LodgingFacilityRecord } from '../store/actions';\nimport styled from 'styled-components';\nimport { utils } from 'ethers';\nimport { CustomButton } from '../components/SearchResultCard';\n\nconst HotelTitle = styled(Text)`\n  color: #000;\n  font-weight: 900;\n  font-size: 22px;\n  font-family: 'Inter';\n  line-height: 28px;\n  margin-bottom: .5rem;\n`;\n\n\nexport const Header = styled(Text)`\n  font-weight: 900;\n  font-size: 48px;\n  line-height: 56px;\n  text-align: center;\n  color: #0D0E0F;\n  margin-bottom: 2rem;\n  margin-top: 2rem;\n`;\n\nexport const CustomBoldText = styled(Text)`\n  color: #0D0E0F;\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  // margin-bottom: 1.5rem;\n`;\n\n// const ResponsiveColumn = (winWidth: number): string[] => {\n//   if (winWidth >= 1300) {\n//     return [\"21rem\", \"21rem\", \"21rem\", \"21rem\"];\n//   } else if (winWidth >= 1000) {\n//     return [\"21rem\", \"21rem\", \"21rem\"];\n//   } else if (winWidth >= 768) {\n//     return [\"23rem\", \"23rem\"];\n//   } else if (winWidth >= 600) {\n//     return [\"31rem\"];\n//   } else if (winWidth <= 500) {\n//     return [\"24rem\"];\n//   } else if (winWidth <= 400) {\n//     return [\"16rem\"];\n//   }\n//   return [];\n// };\n\nexport interface TokenCardProps extends TokenData {\n  onClick?: () => void,\n  children?: ReactChild | null,\n  facility: LodgingFacilityRecord | undefined\n  isGetDateReady: boolean;\n  getDate: (days: number) => DateTime;\n}\n\nexport interface TokenViewProps extends StayToken {\n  getDate: (days: number) => DateTime;\n  isGetDateReady: boolean;\n  facilityOwner: string | undefined;\n}\n\nexport const TokenCard = ({\n  image,\n  name,\n  description,\n  attributes,\n  onClick = () => { },\n  facility,\n  getDate,\n  isGetDateReady,\n  children\n}: TokenCardProps) => {\n  console.log('facility', facility)\n  if (!facility || !isGetDateReady || !attributes) {\n    return null\n  }\n  const parseTrait = (trait: string): any => {\n    return attributes.find(attr => attr.trait_type === trait)?.value ?? ''\n  };\n  const space = facility.spaces.find(space => space.contractData.spaceId === parseTrait('spaceId').toLowerCase())\n  const quantity = Number(parseTrait('quantity'))\n  const numberOfDays = Number(parseTrait('numberOfDays'))\n  const price = Number(utils.formatUnits(space?.contractData.pricePerNightWei ?? 0, 'ether'))\n  const total = quantity * numberOfDays * price\n  return (\n    <Box>\n      <Box\n        direction='row'\n        justify='between'\n        pad='large'\n        round={false}\n        width='65rem'\n        style={{ borderBottom: '1px solid black' }}\n        onClick={() => onClick()}\n      >\n        <Box>\n          <Image\n            height='120'\n            width='120'\n            fit='cover'\n            src={image}\n          />\n        </Box>\n        <Box pad='small' style={{ maxWidth: '30rem' }}>\n          <HotelTitle>{facility.name}</HotelTitle>\n          <CustomText>{facility.address.streetAddress}, {facility.address.postalCode} {facility.address.locality}, {facility.address.country}. </CustomText>\n          <CustomText>{space?.name},{quantity} {quantity > 1 ? 'persons' : 'person'} </CustomText>\n        </Box>\n        <Box align='center' justify='center' pad='small'>\n          <CustomText>{getDate(parseTrait('startDay')).toISODate()} - {getDate(Number(parseTrait('startDay')) + Number(parseTrait('numberOfDays'))).toISODate()}</CustomText>\n        </Box>\n        <Box\n          alignSelf='center'\n          style={{ justifySelf: 'end' }}\n          pad={{ horizontal: 'small' }}\n        >\n          <Box pad='small'>\n            <Title size=\"xlarge\" weight=\"bold\">\n              {total.toFixed(2)}\n            </Title>\n          </Box>\n        </Box>\n      </Box>\n      {children}\n    </Box>\n  );\n};\n\nexport const TokenView = ({\n  tokenId,\n  owner,\n  getDate,\n  isGetDateReady,\n  facilityOwner,\n  status,\n  data: {\n    name,\n    description,\n    image,\n    attributes\n  }\n}: TokenViewProps) => {\n  const { provider, ipfsNode } = useAppState();\n  const [contract, , contractError] = useContract(provider, ipfsNode);\n  const navigate = useNavigate();\n  const showMessage = useGoToMessage();\n  const [cancelLoading, setCancelLoading] = useState<boolean>(false);\n  const [cancellationTxHash, setCancellationTxHash] = useState<string | undefined>();\n  const [error, setError] = useState<string | undefined>();\n  const cancellationTxHashLink = useMemo(() => {\n    const network = getNetwork()\n    return cancellationTxHash ? `${network.blockExplorer}/tx/${cancellationTxHash}` : '#'\n  }, [cancellationTxHash]);\n\n  const cancelTx = useCallback(\n    async () => {\n      setError(undefined);\n      setCancellationTxHash(undefined);\n      if (!contract) {\n        return;\n      }\n      try {\n        setCancelLoading(true);\n        await contract.cancel(tokenId, undefined, setCancellationTxHash);\n        setCancelLoading(false);\n        // Show success message;\n        showMessage(\n          `Stay token #${tokenId} is successfully cancelled. All funds are fully refunded`,\n          'info'\n        );\n      } catch (err) {\n        setError((err as Error).message || 'Unknown cancellation error');\n        setCancelLoading(false);\n      }\n    },\n    [showMessage, contract, tokenId]\n  );\n\n  if (!isGetDateReady) {\n    return null;\n  }\n\n  return (\n    <Box\n      alignSelf='center'\n      direction='column'\n      pad={{ bottom: 'medium' }}\n      style={{ position: 'relative' }}\n    >\n      <Box\n        direction='row'\n        justify='between'\n        pad='large'\n        round={false}\n        width='65rem'\n        style={{ borderBottom: '1px solid black' }}\n      >\n        <Box>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <CustomBoldText weight='bold'>Status</CustomBoldText>\n            </Box>\n            <Box>\n              <CustomText>{status ?? 'unknown'}</CustomText>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <CustomBoldText weight='bold'>Name</CustomBoldText>\n            </Box>\n            <Box>\n              <CustomText>{name}</CustomText>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <CustomBoldText weight='bold'>Description</CustomBoldText>\n            </Box>\n            <Box>\n              <CustomText>{description}</CustomText>\n            </Box>\n          </Grid>\n        </Box>\n\n        <Box pad={{ vertical: 'small', horizontal: 'large' }} justify='between'>\n          <StayVoucherQr\n            provider={provider}\n            from={owner}\n            to={facilityOwner}\n            tokenId={tokenId}\n            onError={err => setError(err)}\n          />\n\n          {status === 'booked' &&\n            <Box>\n              <CustomButton\n                label={\n                  <Box direction='row'>\n                    <Box>\n                      <Text>Cancel and get refund</Text>\n                    </Box>\n                    {cancelLoading &&\n                      <Box pad={{ left: 'small' }}>\n                        <Spinner />\n                      </Box>\n                    }\n                  </Box>\n                }\n                disabled={cancelLoading}\n                onClick={cancelTx}\n              />\n              {!!cancellationTxHash\n                ? <ExternalLink\n                  href={cancellationTxHashLink}\n                  label={centerEllipsis(cancellationTxHash)}\n                />\n                : null\n              }\n            </Box>\n          }\n          <Button\n            style={{\n              position: 'absolute',\n              top: 10,\n              right: 10\n            }}\n\n            icon={<Icons.Close color=\"plain\" />}\n            hoverIndicator\n            onClick={() => navigate('/tokens', { replace: true })}\n          />\n        </Box>\n      </Box>\n\n      <MessageBox type='error' show={!!error}>\n        <Box>\n          {error}\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='error' show={!!contractError}>\n        <Box>\n          {contractError}\n        </Box>\n      </MessageBox>\n    </Box >\n  );\n};\n\nexport const MyTokens = () => {\n  const { provider, ipfsNode, account, lodgingFacilities } = useAppState();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [getDate, isGetDateReady, getDateError] = useDayZero(provider, ipfsNode);\n  const tokenId = useMemo(\n    () => searchParams.get('tokenId') || undefined,\n    [searchParams]\n  );\n  const [tokens, tokensLoading, tokensError] = useMyTokens(\n    provider,\n    ipfsNode,\n    account\n  );\n  const [token, facilityOwner, tokenLoading, tokenError] = useGetToken(\n    provider,\n    ipfsNode,\n    tokenId\n  );\n  // const { winWidth } = useWindowsDimension();\n  const isLoading = useMemo(\n    () => tokensLoading || tokenLoading || !isGetDateReady,\n    [tokensLoading, tokenLoading, isGetDateReady]\n  );\n\n  const findFacility = (data: TokenData) => {\n    const facilityId = data.attributes?.find((attr) => attr.trait_type === 'facilityId')?.value\n    console.log('lodgingFacilities', lodgingFacilities, lodgingFacilities.find((facility) => facility.id === facilityId?.toLowerCase()), facilityId)\n    return lodgingFacilities.find((facility) => facility.id === facilityId?.toLowerCase())\n  };\n\n  // const tokensTest: StayToken[] = [\n  //   {\n  //     tokenId: '1',\n  //     owner: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n  //     tokenUri: '',\n  //     data: {\n  //       name: 'Stays #1',\n  //       description: 'Stay at lodging facility',\n  //       image: 'https://bafybeigg7mwwpnnm6mmk3twxc4arizoyc6ijnaye3pdciwcohheo7xi7hm.ipfs.dweb.link/token-image.png',\n  //       external_url: 'https://localhost:3000/space/0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F',\n  //       attributes: [\n  //         {\n  //           trait_type: 'facilityId',\n  //           value: '0x75663CE0EB08ACE9FD7FFB90BCC405E494180FA0E2734A50E78E81FA67CF316B'\n  //         },\n  //         {\n  //           trait_type: 'spaceId',\n  //           value: '0xC742BE735817045D0344EFB3770EACD7FE22863EE6BF1B062351235ADEE2277F'\n  //         },\n  //         {\n  //           trait_type: 'startDay',\n  //           value: '10000'\n  //         },\n  //         {\n  //           trait_type: 'numberOfDays',\n  //           value: '1'\n  //         },\n  //         {\n  //           trait_type: 'quantity',\n  //           value: '1'\n  //         }\n  //       ]\n  //     }\n  //   }\n  // ];\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home',\n        },\n      ]}\n    >\n      <Box>\n        <Header>Stay tokens </Header>\n        {/* {token &&\n          <TokenView\n            getDate={getDate}\n            isGetDateReady={isGetDateReady}\n            facilityOwner={facilityOwner}\n            {...token}\n          />\n        } */}\n\n        <MessageBox type='info' show={isLoading}>\n          <Box direction='row'>\n            <Box>\n              Tokens data is loading. Please wait..&nbsp;\n            </Box>\n            <Spinner />\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='info' show={!isLoading && (!tokens || tokens.length === 0)}>\n          <Box>\n            Tokens list is empty. It is a time to book a stay!\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!tokensError}>\n          <Box>\n            {tokensError}\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!tokenError}>\n          <Box>\n            {tokenError}\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!getDateError}>\n          <Box>\n            {getDateError}\n          </Box>\n        </MessageBox>\n\n        <Box\n          direction='column'\n          alignSelf=\"center\"\n        >\n          {tokens?.map(({ tokenId, data }, index) => (\n            <TokenCard\n              facility={findFacility(data)}\n              key={index}\n              onClick={() => setSearchParams({ tokenId })}\n              {...data}\n              getDate={getDate}\n              isGetDateReady={isGetDateReady}\n            >\n              {(token && token.tokenId === tokenId) ?\n                <TokenView\n                  getDate={getDate}\n                  isGetDateReady={isGetDateReady}\n                  facilityOwner={facilityOwner}\n                  {...token}\n                />\n                : null}\n            </TokenCard>\n          ))}\n        </Box>\n      </Box>\n    </PageWrapper>\n  );\n};\n","import { PageWrapper } from './PageWrapper';\nimport { Box, Text, Image, Carousel, Spinner, Grid } from 'grommet';\nimport { useAppState } from '../store';\nimport { useMemo, useEffect, useState } from 'react';\nimport { ThemeMode } from '../components/SwitchThemeMode';\nimport { BookWithDai } from '../components/buttons/BookWithDai';\nimport { MessageBox } from '../components/MessageBox';\nimport { ExternalLink } from '../components/ExternalLink';\nimport * as Icons from 'grommet-icons';\nimport { getNetwork } from '../config';\nimport { centerEllipsis } from '../utils/strings';\nimport { useContract } from '../hooks/useContract';\nimport { NavLink } from 'react-router-dom';\nimport { utils } from 'ethers'\nimport { Header } from './MyTokens';\nimport { CustomText, Title } from '../components/StayVoucherQr';\nimport styled from 'styled-components';\n\nexport const Description = styled(Text)`\n  color: #0D0E0F;\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 24px;\n  text-align: start;\n`;\n\nexport const Space: React.FC = () => {\n  const {\n    account,\n    lodgingFacilities,\n    searchSpaces,\n    themeMode,\n    searchParams,\n    provider,\n    ipfsNode,\n    bootstrapped\n  } = useAppState();\n\n  const query = window.location.pathname.substring(7)\n  const space = useMemo(() => searchSpaces.find((space) => space.id === query), [searchSpaces, query])\n  const facility = useMemo(() => lodgingFacilities.find((facility) => {\n    const space = facility.spaces.find((space => space.contractData.spaceId === query))\n    if (space) {\n      return true\n    }\n    return false\n  }), [query, lodgingFacilities])\n  // console.log('facility', facility)\n  // console.log('space', space)\n\n  const [contract, , errorContract] = useContract(provider, ipfsNode);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n  const [tokenId, setTokenId] = useState<string | undefined>();\n  const [hash, setHash] = useState('');\n\n  useEffect(() => {\n    setError(errorContract);\n  }, [errorContract]);\n\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash])\n\n  const handler = async () => {\n    try {\n      setLoading(true)\n      if (!contract) {\n        throw new Error('Contract is not connected');\n      }\n      if (searchParams === undefined) {\n        throw new Error('searchParams is undefined')\n      }\n      if (space === undefined) {\n        throw new Error('space is undefined')\n      }\n      if (!account) {\n        throw new Error('account is undefined')\n      }\n      if (!provider) {\n        throw new Error('provider is undefined')\n      }\n      const balance = await provider.getBalance(account)\n      const total = Number(utils.formatUnits(space.contractData.pricePerNightWei, 'ether')) * Number(searchParams.numberOfDays)\n      if (Number(utils.formatUnits(balance, 'ether')) < total) {\n        throw new Error('not enough DAI')\n      }\n      setError(undefined);\n\n      const res = await contract.book(\n        space.id,\n        searchParams.startDay,\n        searchParams.numberOfDays,\n        searchParams.guestsAmount,\n        undefined,\n        setHash\n      )\n      setTokenId(res)\n      setLoading(false)\n    } catch (error) {\n      setLoading(false)\n      setError((error as Error).message);\n    }\n  }\n\n  const isLoading = useMemo(() => !!bootstrapped && !!contract, [bootstrapped, contract])\n  const borderColor = themeMode === ThemeMode.light ? 'brand' : 'accent-1'\n\n  const searchQuery = useMemo(() => {\n    return new URLSearchParams([\n      ['startDay', String(searchParams?.startDay)],\n      ['numberOfDays', String(searchParams?.numberOfDays)],\n      ['guestsAmount', String(searchParams?.guestsAmount)],\n    ])\n  }, [searchParams])\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          label: 'Search',\n          path: `/search?${searchQuery}`\n        }\n      ]}\n    >\n      <MessageBox type='info' show={!isLoading}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <MessageBox type='info' show={!!tokenId}>\n        <Box direction='row'>\n          <Box>\n            Booked succesfully!\n            <NavLink to={`/tokens?tokenId=${tokenId}`}> Check details </NavLink>\n          </Box>\n        </Box>\n      </MessageBox>\n\n\n      {isLoading && !space && <Box> No space with given id </Box>}\n      {isLoading && !!space && !tokenId && <Box\n        flex={true}\n        align='center'\n        background='white'\n        overflow='auto'\n        pad='large'\n      >\n        <Image\n          height='120'\n          width='120'\n          style={{ borderRadius: '50%' }}\n          src={space.media.logo}\n        />\n\n        <Header> {space.name}</Header>\n        {facility === undefined ? '' : <CustomText>{facility.address.streetAddress}, {facility.address.postalCode} {facility.address.locality}, {facility.address.country}. </CustomText>}\n        {facility === undefined ? '' : <CustomText>{facility.contact?.email} {facility.contact?.website} {facility.contact?.phone}. </CustomText>}\n\n        <Box style={{ width: '65rem', marginBottom: '2rem' }} pad={{ bottom: 'medium' }}>\n          <Description>{space.description}</Description>\n        </Box>\n\n        <Box style={{ width: '65rem', marginBottom: '2rem' }} >\n          <Box border='bottom' pad={{ bottom: 'small' }} direction='row'>\n            <Title size='xxlarge'>Room type</Title>\n          </Box>\n          <Grid\n            pad={{ vertical: 'medium' }}\n            columns={['1/2', '1/2']}\n          >\n            <Box direction='row' align='center'>\n              <Icons.Checkmark style={{ border: '1px solid #0D0E0F', borderRadius: '50%', padding: '0.3rem', marginRight: '0.5rem' }} color='#000' />\n              <CustomText>{space.type} </CustomText>\n            </Box>\n          </Grid>\n        </Box>\n\n        <Box style={{ width: '65rem', marginBottom: '3rem' }} align='center' pad={{ bottom: 'medium' }}>\n          <Carousel height='large' width='xlarge'>\n            {space.media.images?.map((space, i) =>\n              <Image\n                key={i}\n                width='xlarge'\n                fit=\"cover\"\n                alignSelf='center'\n                src={space.uri}\n              />\n            )}\n          </Carousel>\n        </Box>\n\n        <Box direction='row' style={{ width: '65rem' }} justify='between' align='center' >\n          <Box direction='row' align='center'>\n            <CustomText>Price per Night: </CustomText>\n            <Title color={borderColor} size='large'>\n              {utils.formatUnits(space.contractData.pricePerNightWei, 'ether')}\n              DAI\n            </Title>\n          </Box>\n          <Box align='center'>\n            <BookWithDai\n              onClick={handler}\n              loading={loading}\n              disabled={!!tokenId}\n            />\n\n            {hashLink !== null ?\n              <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n              : null}\n          </Box>\n        </Box>\n\n        <Box width='xxlarge' pad={{ top: 'medium' }}>\n          <MessageBox type='error' show={!!error}>\n            <Box direction='row'>\n              <Box>\n                {error}\n              </Box>\n            </Box>\n          </MessageBox>\n        </Box>\n      </Box>}\n    </PageWrapper>\n  );\n};\n","import { Button, Box } from 'grommet';\nimport React, { useState } from 'react';\nimport { QrReader as QrCodeReader } from 'react-qr-reader';\nimport { Modal } from './Modal';\n\nexport const QrReader: React.FC<{\n  onScan(data: string): void;\n  onError(data: string): void\n}> = ({ onScan,onError }) => {\n  const [show, setShow] = useState(false);\n\n  return (\n    <Box>\n      <Button label='Scan QR' onClick={() => setShow(true)} />\n      <Modal\n        show={show}\n        onClose={() => setShow(false)}\n      >\n        <Box\n          pad='medium'\n          direction='column'\n          width='medium'\n        >\n          <QrCodeReader\n            constraints={{ facingMode: 'user' }}\n            onResult={(result, error) => {\n              if (error) {\n                onError(error.message);\n              }\n              if (!!result) {\n                onScan(result.getText())\n                setShow(false)\n              }\n            }}\n          />\n        </Box>\n      </Modal>\n    </Box>\n  );\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Box, Spinner } from 'grommet';\nimport { PageWrapper } from \"./PageWrapper\";\nimport { QrReader } from '../components/QrReader';\nimport { useAppState } from '../store';\nimport { useContract } from '../hooks/useContract';\nimport { MessageBox } from '../components/MessageBox';\nimport { StaysVoucher } from 'stays-smart-contracts';\nimport { getNetwork } from '../config';\nimport { ExternalLink } from '../components/ExternalLink';\nimport { centerEllipsis } from '../utils/strings';\n\nexport const CheckIn = (): JSX.Element => {\n  const {\n    isBootstrapLoading,\n    isIpfsNodeConnecting,\n    provider,\n    ipfsNode,\n    bootstrapped\n  } = useAppState();\n\n  const [contract, loadingContract] = useContract(provider, ipfsNode);\n\n  const [hash, setHash] = useState('');\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const handleCheckIn = useCallback(\n    async (data: string) => {\n      try {\n        setLoading(true)\n        if (!contract) {\n          throw new Error('Contract is not connected');\n        }\n        setError(undefined);\n\n        const parsedData: StaysVoucher = JSON.parse(data)\n        await contract.checkIn(\n          parsedData.tokenId,\n          parsedData,\n          undefined,\n          setHash,\n          undefined\n        )\n        setLoading(false)\n      } catch (error) {\n        setLoading(false)\n        setError((error as Error).message);\n\n      }\n    }, [contract, setError, setLoading, setHash])\n\n  return (\n    <>\n      <PageWrapper\n        breadcrumbs={[\n          {\n            path: \"/\",\n            label: \"Home\",\n          },\n        ]}\n      >\n        <MessageBox type='info' show={isIpfsNodeConnecting || isBootstrapLoading || loadingContract}>\n          <Box direction='row'>\n            <Box>\n              The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n            </Box>\n            <Spinner />\n          </Box>\n        </MessageBox>\n\n        <MessageBox type='error' show={!!error}>\n          <Box direction='row'>\n            <Box>\n              {error}\n            </Box>\n          </Box>\n        </MessageBox>\n\n        {(!!bootstrapped && !!contract) &&\n          <Box\n            alignSelf=\"center\"\n            style={{\n              paddingBottom: 50,\n              width: \"100%\",\n            }}\n          >\n            <QrReader onError={setError} onScan={handleCheckIn} />\n            {hashLink !== null ?\n              <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n              : null}\n\n            {loading ? <Spinner color='accent-1' alignSelf='center' size='medium' /> : null}\n          </Box>\n        }\n      </PageWrapper>\n    </>\n  );\n};\n","import type { StayToken } from 'stays-core';\nimport { useMemo, useState } from 'react';\nimport { DateTime } from 'luxon';\nimport * as Icons from 'grommet-icons';\nimport { Grid, Button, Box, Card, CardBody, CardHeader, CardFooter, Image, Text, Spinner } from 'grommet';\nimport { centerEllipsis } from '../../utils/strings';\nimport { TxHashCallbackFn } from 'stays-core/dist/src/utils/sendHelper';\nimport { getNetwork } from '../../config';\nimport { ExternalLink } from '../ExternalLink';\nimport styled from 'styled-components';\nimport { MessageBox } from '../MessageBox';\n\nconst InnerSpinner = styled(Spinner)`\n  margin-left: 8px;\n`;\n\n\nexport interface CheckOutProps extends StayToken {\n  getDate: (days: number) => DateTime;\n  facilityOwner: string | undefined;\n  checkOut: (\n    tokenId: string,\n    checkOutDate: DateTime,\n    transactionHashCb?: TxHashCallbackFn\n  ) => void;\n  onClose: () => void;\n  loading: boolean;\n  error: string | undefined;\n}\n\nexport const CheckOutView = ({\n  tokenId,\n  getDate,\n  status,\n  data: {\n    name,\n    description,\n    image,\n    attributes\n  },\n  checkOut,\n  onClose,\n  loading,\n  error\n}: CheckOutProps) => {\n  const startDay = attributes?.find(attr => attr.trait_type === 'startDay')\n  const numberOfDays = attributes?.find(attr => attr.trait_type === 'numberOfDays')\n  const checkOutDate = getDate(Number(numberOfDays?.value) + Number(startDay?.value))\n\n  const [hash, setHash] = useState('');\n  const hashLink = useMemo(() => {\n    const network = getNetwork()\n    return hash ? `${network.blockExplorer}/tx/${hash}` : null\n  }, [hash])\n\n  const parseTrait = (trait: string, value: any): any => {\n    switch (trait) {\n      case 'startDay':\n        return getDate(Number(value)).toISODate();\n      case 'facilityId':\n        return centerEllipsis(value);\n      case 'spaceId':\n        return centerEllipsis(value);\n      default:\n        return value;\n    }\n  };\n\n  return (\n    <Box\n      alignSelf='center'\n      direction='column'\n      pad={{ bottom: 'medium' }}\n    >\n      <Card\n        width='large'\n      >\n        <CardBody>\n          <CardHeader\n            pad={{ horizontal: 'small' }}\n            background='light-2'\n            justify='end'\n          >\n            <Button\n              icon={<Icons.Close color=\"plain\" />}\n              hoverIndicator\n              onClick={() => onClose()}\n            />\n          </CardHeader>\n          <Image\n            fit='cover'\n            src={image}\n          />\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Status</Text>\n            </Box>\n            <Box>\n              <Text>{status ?? 'unknown'}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Name</Text>\n            </Box>\n            <Box>\n              <Text>{name}</Text>\n            </Box>\n          </Grid>\n          <Grid\n            fill='horizontal'\n            pad='small'\n            border='bottom'\n            columns={['small', 'auto']}\n            responsive\n          >\n            <Box>\n              <Text weight='bold'>Description</Text>\n            </Box>\n            <Box>\n              <Text>{description}</Text>\n            </Box>\n          </Grid>\n\n          {attributes?.map(\n            ({ trait_type, value }, index) => (\n              <Grid\n                key={index}\n                fill='horizontal'\n                pad='small'\n                border='bottom'\n                columns={['small', 'auto']}\n                responsive\n              >\n                <Box>\n                  <Text weight='bold'>{trait_type}</Text>\n                </Box>\n                <Box>\n                  <Text>{parseTrait(trait_type, value)}</Text>\n                </Box>\n              </Grid>\n            )\n          )}\n        </CardBody>\n        <CardFooter pad='medium'>\n          <Button onClick={() => checkOut(tokenId, checkOutDate, setHash)} >\n            {() => (\n              <Box direction='row' align='center' pad='small'>\n                <Text>\n                  Check out\n                </Text>\n                {loading && <InnerSpinner />}\n              </Box>\n            )}\n          </Button>\n          {hashLink !== null ?\n            <ExternalLink href={hashLink} label={centerEllipsis(hash)} />\n            : null}\n          <MessageBox type='error' show={!!error}>\n            <Box direction='row'>\n              <Box>\n                {error}\n              </Box>\n            </Box>\n          </MessageBox>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n","import type { TokenData } from 'stays-core';\nimport { Box, Card, CardBody, CardFooter, Image, Text } from 'grommet';\n\nexport interface CheckOutCardProps extends TokenData {\n  onClick?: () => void\n}\n\nexport const CheckOutCard = ({\n  image,\n  name,\n  onClick = () => { }\n}: CheckOutCardProps) => {\n  return (\n    <Box margin='medium'>\n      <Card\n        background='light-1'\n        elevation='small'\n        onClick={() => onClick()}\n      >\n        <CardBody pad='small'>\n          <Image\n            fit='cover'\n            src={image}\n          />\n        </CardBody>\n        <CardFooter\n          pad={{ horizontal: 'small' }}\n          background='light-2'\n        >\n          <Box pad='small'>\n            <Text size=\"xlarge\" weight=\"bold\">\n              {name}\n            </Text>\n          </Box>\n        </CardFooter>\n      </Card>\n    </Box>\n  );\n};\n","import type { providers } from 'ethers';\nimport type { IPFS } from '@windingtree/ipfs-apis';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useContract } from './useContract';\nimport Logger from '../utils/logger';\nimport { TxHashCallbackFn } from 'stays-core/dist/src/utils/sendHelper';\nimport { DateTime } from 'luxon';\n\n// Initialize logger\nconst logger = Logger('useCheckOut');\n\nexport type UseProceedCheckOut = [\n  checkOut: (\n    tokenId: string,\n    checkOutDate: DateTime,\n    transactionHashCb?: TxHashCallbackFn\n  ) => void,\n  isReady: boolean,\n  loading: boolean,\n  error: string | undefined,\n];\n\n// useCheckOut react hook\nexport const useCheckOut = (\n  account: string | undefined,\n  provider: providers.JsonRpcProvider | undefined,\n  ipfsNode: IPFS | undefined,\n): UseProceedCheckOut => {\n  const [contract, , contractError] = useContract(provider, ipfsNode);\n  const [error, setError] = useState<string | undefined>(undefined);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (contractError) {\n      setError(contractError);\n    }\n  }, [contractError]);\n\n  useEffect(() => {\n    if (!!contract) {\n      setIsReady(true);\n    }\n  }, [contract]);\n\n  const checkOut = useCallback(\n    async (tokenId: string, checkOutDate: DateTime, transactionHashCb?: TxHashCallbackFn) => {\n      setLoading(true)\n      if (!contract || !account || !tokenId) {\n        return;\n      }\n      setError(undefined);\n\n      try {\n        const now = DateTime.now()\n        if (now.toMillis() < checkOutDate.toMillis()) {\n          throw new Error(`Check out not available yet (check out date: ${checkOutDate.toLocaleString()} )`)\n        }\n\n        await contract.checkOut(tokenId, undefined, transactionHashCb);\n        setLoading(false)\n      } catch (error) {\n        logger.error(error);\n        const message = (error as Error).message || 'Unknown useCheckOut out error'\n        setError(message);\n        setLoading(false)\n      }\n    },\n    [contract, account]\n  );\n\n  return [checkOut, isReady, loading, error];\n};\n","import type { OwnerLodgingFacility, OwnerSpace } from '../store/actions';\nimport { useState } from 'react';\nimport { Box, Button, Grid, Spinner } from 'grommet';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { PageWrapper } from './PageWrapper';\nimport { MessageBox } from '../components/MessageBox';\nimport { useAppState } from '../store';\nimport { StayToken } from 'stays-core';\nimport { useWindowsDimension } from '../hooks/useWindowsDimension';\nimport { useDayZero } from '../hooks/useDayZero';\nimport { CheckOutView } from '../components/checkOut/CheckOutView';\nimport { CheckOutCard } from '../components/checkOut/CheckOutCard';\nimport { useCheckOut } from '../hooks/useCheckOut';\n\nconst ResponsiveColumn = (winWidth: number): string[] => {\n  if (winWidth >= 1300) {\n    return [\"21rem\", \"21rem\"];\n  } else if (winWidth >= 1000) {\n    return [\"21rem\", \"21rem\"];\n  } else if (winWidth >= 768) {\n    return [\"21rem\"];\n  } else if (winWidth >= 600) {\n    return [\"31rem\"];\n  } else if (winWidth <= 500) {\n    return [\"24rem\"];\n  } else if (winWidth <= 400) {\n    return [\"16rem\"];\n  }\n  return [];\n};\n\nconst FacilityList: React.FC<{\n  facilities: OwnerLodgingFacility[],\n  onSelect(facility: OwnerLodgingFacility): void\n}> = ({ facilities, onSelect }) => {\n  if (!facilities) {\n    return null\n  }\n  return <Box>\n    {facilities.map((facility, i) => (<Box key={i}>\n      <Button\n        onClick={() => onSelect(facility)}\n        label={facility.name}\n        margin={{ bottom: 'small' }}\n      />\n    </Box>))}\n\n    <NavLink to='/facilities/add'>\n      Add new facility\n    </NavLink>\n  </Box>\n}\n\nconst SpacesList: React.FC<{\n  facility: OwnerLodgingFacility | undefined,\n  onSelect(tokens: StayToken[]): void\n}> = ({ facility, onSelect }) => {\n  if (!facility || !facility.spaces) {\n    return null\n  }\n  return (\n    <Box direction='row'>\n      {facility.spaces.map((space: OwnerSpace, i) => (\n        <Box key={i} direction='column'>\n          <Box>\n            <Button\n              onClick={() => onSelect(space.tokens)}\n              label={space.name}\n            />\n          </Box>\n          <Box>\n            <NavLink to={`/spaces/edit/${facility.contractData.lodgingFacilityId}/${space.spaceId}`}>\n              Edit space profile\n            </NavLink>\n          </Box>\n        </Box>\n      ))}\n    </Box>\n  );\n}\n\nexport const Facilities = () => {\n  const navigate = useNavigate();\n\n  const {\n    account,\n    isIpfsNodeConnecting,\n    ownFacilities,\n    ownFacilitiesLoading,\n    provider,\n    ipfsNode,\n  } = useAppState();\n\n  const { winWidth } = useWindowsDimension();\n  const [getDate, isGetDateReady,] = useDayZero(provider, ipfsNode);\n\n  const [checkOut, isReady, checkOutLoading, checkOutError] = useCheckOut(\n    account,\n    provider,\n    ipfsNode,\n  )\n\n  const [selectedFacility, setSelectedFacility] = useState<OwnerLodgingFacility | undefined>()\n\n  const [tokens, setTokens] = useState<StayToken[]>([])\n  const [selectedToken, setSelectedToken] = useState<StayToken | undefined>()\n\n  return (\n    <PageWrapper\n      breadcrumbs={[\n        {\n          path: '/',\n          label: 'Home'\n        }\n      ]}\n    >\n      <MessageBox type='info' show={isIpfsNodeConnecting || !!ownFacilitiesLoading}>\n        <Box direction='row'>\n          <Box>\n            The Dapp is synchronizing with the smart contract. Please wait..&nbsp;\n          </Box>\n          <Spinner />\n        </Box>\n      </MessageBox>\n\n      <Grid\n        fill='horizontal'\n        pad='small'\n        columns={['medium', 'auto']}\n        responsive\n        gap='medium'\n      >\n\n        <FacilityList facilities={ownFacilities ?? []} onSelect={setSelectedFacility} />\n\n        <Box direction='column'>\n          <SpacesList onSelect={setTokens} facility={selectedFacility} />\n\n          {selectedFacility &&\n            <>\n              <Box direction='column' margin={{ top: 'small', bottom: 'small' }}>\n                <Box width='200px'>\n                  <Button\n                    primary\n                    label='Edit the facility'\n                    onClick={() => navigate(\n                      `/facilities/edit/${selectedFacility.contractData.lodgingFacilityId}`\n                    )}\n                  />\n                </Box>\n              </Box>\n\n              <NavLink to={`/spaces/add/${selectedFacility.contractData.lodgingFacilityId}`}>\n                Add new space to the facility\n              </NavLink>\n            </>\n          }\n\n          <Box margin={{ top: 'small' }}>\n            {selectedToken && isGetDateReady && isReady &&\n              <CheckOutView\n                getDate={getDate}\n                facilityOwner={account}\n                {...selectedToken}\n                onClose={() => setSelectedToken(undefined)}\n                checkOut={checkOut}\n                error={checkOutError}\n                loading={checkOutLoading}\n              />\n            }\n            <Grid\n              fill\n              alignSelf=\"center\"\n              columns={ResponsiveColumn(winWidth)}\n              responsive={true}\n            >\n              {tokens?.map((token, index) => (\n                <CheckOutCard\n                  key={index}\n                  onClick={() => setSelectedToken(token)}\n                  {...token.data}\n                />\n              ))}\n            </Grid>\n          </Box>\n        </Box>\n      </Grid>\n\n    </PageWrapper>\n  );\n};\n","import type { ReactNode } from 'react';\nimport { useMemo } from 'react';\nimport { useRoutes, useNavigate } from 'react-router-dom';\nimport { Menu } from 'grommet';\nimport { Menu as MenuIcon } from 'grommet-icons';\nimport { useAppState } from '../store';\nimport { Protected } from './Protected';\nimport styled from 'styled-components';\n\n// Pages\nimport { Home } from '../pages/Home';\nimport { Message } from '../pages/Message';\nimport { Search } from '../pages/Search';\n// import { Rooms } from \"../pages/Rooms\";\n// import { RoomProfile } from \"../pages/RoomProfile\";\nimport { FacilityProfile } from \"../pages/FacilityProfile\";\nimport { SpaceProfile } from \"../pages/SpaceProfile\";\nimport { Space } from '../pages/Space';\nimport { MyTokens } from '../pages/MyTokens';\nimport { CheckIn } from '../pages/CheckIn';\nimport { Facilities } from '../pages/Facilities';\n\n\nconst CustomMenu = styled(Menu)`\n  border-radius: 50%;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  // border:\n`;\n\nexport interface RouteConfig {\n  path: string;\n  element: ReactNode;\n  title: string;\n  label?: string;\n  protected?: boolean;\n}\n\nexport type Routes = RouteConfig[];\n\nexport const pagesRoutesConfig: Routes = [\n  {\n    path: \"/\",\n    element: <Home />,\n    title: \"Stays\",\n    label: \"Home\",\n  },\n  {\n    path: '/message',\n    element: <Message />,\n    title: 'Useful information'\n  },\n  {\n    path: \"/search\",\n    element: <Search />,\n    title: \"Search for lodging facility\",\n  },\n  // {\n  //   path: \"/rooms\",\n  //   element: <Rooms />,\n  //   title: \"Rooms\",\n  //   label: \"Rooms\",\n  //   protected: true,\n  // },\n  // {\n  //   path: \"/rooms/add\",\n  //   element: <RoomProfile />,\n  //   title: \"Add New Room\",\n  //   protected: true,\n  // },\n  {\n    path: \"/space/:id\",\n    element: <Space />,\n    title: \"Search for lodging facility\",\n    protected: true,\n  },\n  {\n    path: '/tokens',\n    element: <MyTokens />,\n    title: 'My Stay Tokens',\n    label: \"My Tokens\",\n    protected: true,\n  },\n  {\n    path: '/check-in',\n    element: <CheckIn />,\n    title: 'Check In',\n    label: 'Check In',\n    protected: true,\n  },\n  {\n    path: '/facilities',\n    element: <Facilities />,\n    title: 'My Lodging Facilities',\n    label: 'Lodging Facilities',\n    protected: true,\n  },\n  {\n    path: \"/facilities/add\",\n    element: <FacilityProfile />,\n    title: \"Add New Lodging Facility\",\n    protected: true,\n  },\n  {\n    path: \"/facilities/edit/:id\",\n    element: <FacilityProfile />,\n    title: \"Edit Lodging Facility\",\n    protected: true,\n  },\n  {\n    path: \"/spaces/add/:facilityId\",\n    element: <SpaceProfile />,\n    title: \"Add New Space\",\n    protected: true,\n  },\n  {\n    path: \"/spaces/edit/:facilityId/:id\",\n    element: <SpaceProfile />,\n    title: \"Edit Space\",\n    protected: true,\n  },\n];\n\nexport const processPagesConfig = (config: Routes): Routes =>\n  config.map(\n    (route: RouteConfig) => route.protected\n      ? {\n        ...route,\n        element: <Protected component={route.element} />\n      }\n      : route\n  );\n\nexport const AppRoutes = () => useRoutes(\n  useMemo(\n    () => processPagesConfig(pagesRoutesConfig), []\n  )\n);\n\nexport const GlobalMenu = () => {\n  const { isConnecting } = useAppState();\n  const navigate = useNavigate();\n  const buildMenuConfig = useMemo(\n    () => pagesRoutesConfig\n      .reduce<Routes>(\n        (a, v) => ([\n          ...a,\n          ...(\n            v.label // Items without labels are ignored\n              ? [\n                {\n                  ...v,\n                  onClick: () => navigate(v.path)\n                }\n              ]\n              : []\n          )\n        ]),\n        []\n      ),\n    [navigate]\n  );\n\n  return (\n    <CustomMenu\n      dropBackground={{ color: 'black', opacity: 0.9 }}\n      dropAlign={{\n        top: \"bottom\",\n        right: \"right\",\n      }}\n      disabled={isConnecting}\n      icon={(<MenuIcon color='white' />)}\n      items={buildMenuConfig}\n    />\n  );\n};\n","import { useContext, useMemo } from 'react';\nimport { useNavigate, useLocation, Navigate } from 'react-router-dom';\nimport { Image, Header, Box, ResponsiveContext } from 'grommet';\nimport { useAppState } from '../store';\n// import { usePageTitle } from '../hooks/usePageTitle';\nimport { Account } from '../components/Account';\nimport { SignInButton, SignOutButton } from '../components/buttons/web3Modal';\nimport { GlobalMenu } from './Routes';\nimport { useWindowsDimension } from '../hooks/useWindowsDimension';\n\nexport const ResponsiveAlign = (winWidth: number) => {\n  if (winWidth >= 1300) {\n    return '48vw';\n  } else if (winWidth >= 1000) {\n    return '48vw';\n  } else if (winWidth >= 768) {\n    return '48vw';\n  } else if (winWidth >= 600) {\n    return '48vw';\n  } else if (winWidth <= 500) {\n    return '48vw';\n  } else if (winWidth <= 400) {\n    return '48vw';\n  }\n};\n\nexport const AppHeader = () => {\n  const size = useContext(ResponsiveContext);\n  const { winWidth } = useWindowsDimension();\n  const { state, pathname } = useLocation();\n\n  const navigate = useNavigate();\n  const { account } = useAppState();\n\n  const returnLocation = useMemo(\n    () => (state as any)?.location as Location,\n    [state]\n  );\n\n  return (\n    <Header\n      pad='medium'\n      style={{\n        position: 'relative',\n        background: '#611FF2',\n        width: '100vw',\n      }}\n      responsive={true}\n    >\n      {(returnLocation && account) &&\n        <Navigate to={returnLocation} state={null} />\n      }\n      <Box direction='row' gap={size}>\n        <GlobalMenu />\n      </Box>\n\n      {pathname === '/' || pathname === '/search' || winWidth < 900 ?\n        <Image\n          style={{\n            position: 'absolute',\n            left: ResponsiveAlign(winWidth),\n          }}\n          src='logo-small.png'\n          height='32px'\n          onClick={() => navigate('/')}\n        />\n        : <Image\n          style={{\n            position: 'absolute',\n            left: '35vw',\n          }}\n          src='/logo.png'\n          height='32px'\n          onClick={() => navigate('/')}\n        />\n      }\n      <Image\n        fit=\"cover\"\n        src='/bg-img.svg'\n        color='#611FF2'\n        style={{\n          width: '100vw',\n          // height: '100vh',\n          position: 'absolute',\n          left: '0',\n          bottom: '-1.5rem',\n          zIndex: '-100'\n        }}\n      />\n\n      <Box direction='row' align='center' gap={size}>\n        <Account account={account} />\n        <Box>\n          {account\n            ? <SignOutButton />\n            : <SignInButton />\n          }\n        </Box>\n        {/* <SwitchThemeMode /> */}\n      </Box>\n    </Header>\n  );\n};\n","import { Main } from 'grommet';\nimport { AppStateProvider } from './store';\nimport { GlobalStyle } from './GlobalStyle';\nimport { AppHeader } from './components/AppHeader';\nimport { AppRoutes } from './components/Routes';\n\nconst App = () => {\n\n  return (\n    <AppStateProvider>\n      <GlobalStyle>\n        <Main\n          fill\n          responsive\n        >\n          <AppHeader />\n          <AppRoutes />\n        </Main>\n      </GlobalStyle>\n    </AppStateProvider>\n  );\n}\n\nexport default App;\n","import { BrowserRouter } from 'react-router-dom';\nimport { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport './reset.css';\n\nconst renderApp = () => {\n  render(\n    <StrictMode>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </StrictMode>,\n    document.getElementById('root')\n  );\n};\n\nrenderApp();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",null,null,null,null,null],"sourceRoot":""}